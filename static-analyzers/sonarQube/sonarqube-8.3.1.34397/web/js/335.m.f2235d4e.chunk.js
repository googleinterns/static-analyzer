(window.webpackJsonp=window.webpackJsonp||[]).push([[335],{1073:function(e,t,n){"use strict";n.r(t),t.default="The Default gate is applied to all projects not explicitly assigned to a gate. Quality Profile and Gate administrators can assign projects to a gate from the Quality Profile page. Project administrators can also choose a non-default gate.\n"},1920:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var s=n(2),a=n(328),i=n(5),o=n(486),r=n(350),l=n(331),c=n(420),u=n(559),p=n(340),d=n.n(p);class h extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!1},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.handleChange=e=>{const{gate:t}=this.props,n=null==t&&null!=e.value,s=null!=t&&null==e.value,a=null!=t&&t.id!==Number(e.value);(n||s||a)&&(this.setState({loading:!0}),this.props.onChange(t&&t.id,Number(e.value)).then(this.stopLoading,this.stopLoading))},this.renderGateName=e=>e.isDefault?s.createElement("span",null,s.createElement("strong",null,Object(i.translate)("default")),": ",e.label):s.createElement("span",null,e.label)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}renderSelect(){const{gate:e,allGates:t}=this.props,n=t.map(e=>({value:String(e.id),label:e.name,isDefault:e.isDefault}));return s.createElement(d.a,{clearable:!1,disabled:this.state.loading,onChange:this.handleChange,optionRenderer:this.renderGateName,options:n,style:{width:300},value:e&&String(e.id),valueRenderer:this.renderGateName})}render(){return s.createElement("div",null,this.renderSelect(),this.state.loading&&s.createElement("i",{className:"spinner spacer-left"}))}}var g=n(347);function m(){return s.createElement("header",{className:"page-header"},s.createElement("div",{className:"page-title display-flex-center"},s.createElement("h1",null,Object(i.translate)("project_quality_gate.page")),s.createElement(g.a,{className:"spacer-left",doc:Promise.resolve().then(n.bind(null,1073))})),s.createElement("div",{className:"page-description"},Object(i.translate)("project_quality_gate.page.description")))}class f extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.handleChangeGate=(e,t)=>{const{allGates:n}=this.state;if(!e&&!t||!n)return Promise.resolve();const{component:s}=this.props,a={gateId:t||e,organization:s.organization,projectKey:s.key};return(t?Object(o.a)(a):Object(o.g)(a)).then(()=>{if(this.mounted)if(Object(c.a)(Object(i.translate)("project_quality_gate.successfully_updated")),t){const e=n.find(e=>e.id===t);e&&(this.setState({gate:e}),this.props.onComponentChange({qualityGate:e}))}else this.setState({gate:void 0})})}}componentDidMount(){this.mounted=!0,this.checkPermissions()?this.fetchQualityGates():Object(u.a)()}componentWillUnmount(){this.mounted=!1}checkPermissions(){const{configuration:e}=this.props.component;return!!(e&&e.showQualityGates)}fetchQualityGates(){const{component:e}=this.props;this.setState({loading:!0}),Promise.all([Object(o.i)({organization:e.organization}),Object(o.k)({organization:e.organization,project:e.key})]).then(([e,t])=>{this.mounted&&this.setState({allGates:null==e?void 0:e.qualitygates,gate:t,loading:!1})},()=>{this.mounted&&this.setState({loading:!1})})}render(){if(!this.checkPermissions())return null;const{allGates:e,gate:t,loading:n}=this.state;return s.createElement("div",{className:"page page-limited",id:"project-quality-gate"},s.createElement(l.a,{suggestions:"project_quality_gate"}),s.createElement(a.a,{defer:!1,title:Object(i.translate)("project_quality_gate.page")}),s.createElement(r.a,{anchor:"qg_main"}),s.createElement(m,null),n?s.createElement("i",{className:"spinner"}):e&&s.createElement(h,{allGates:e,gate:t,onChange:this.handleChangeGate}))}}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(309),a=n(2),i=n(370),o=n(335);n(338);var r=n(315);t.default=function(e){var t=e.tagName,n=void 0===t?"div":t;return a.createElement(n,{className:s("help-tooltip",e.className)},a.createElement(r.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},a.createElement("span",{className:"display-inline-flex-center"},e.children||a.createElement(o.ThemeConsumer,null,(function(e){return a.createElement(i.default,{fill:e.colors.gray71,size:12})})))))}},331:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(2),a=n(357);function i({suggestions:e}){return s.createElement(a.a.Consumer,null,({addSuggestions:t,removeSuggestions:n})=>s.createElement(o,{addSuggestions:t,removeSuggestions:n,suggestions:e}))}class o extends s.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},338:function(e,t,n){var s=n(311),a=n(339);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=(s(a,i),a.locals?a.locals:{});e.exports=o},339:function(e,t,n){(t=n(312)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},347:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(2),a=n(322),i=n.n(a),o=n(323),r=n(371);const l=Object(o.lazyLoadComponent)(()=>Promise.all([n.e(10),n.e(9),n.e(14),n.e(13),n.e(8),n.e(5),n.e(26)]).then(n.bind(null,463)),"DocMarkdownBlock");class c extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={}}componentDidMount(){this.mounted=!0,this.props.doc.then(({default:e})=>{this.mounted&&this.setState({content:e})},()=>{})}componentWillUnmount(){this.mounted=!1}render(){return this.state.content?s.createElement(i.a,{className:this.props.className,overlay:s.createElement("div",{className:"abs-width-300"},s.createElement(l,{childProps:this.props.overlayProps,className:"cut-margins",content:Object(r.filterContent)(this.state.content),isTooltip:!0}))},this.props.children):this.props.children||null}}},350:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(2),a=n(5),i=n(400);function o(e){return s.createElement(i.a.Consumer,null,({addA11ySkipLink:t,removeA11ySkipLink:n})=>s.createElement(r,Object.assign({addA11ySkipLink:t,removeA11ySkipLink:n},e)))}class r extends s.PureComponent{constructor(){super(...arguments),this.getLink=()=>{const{anchor:e,label:t=Object(a.translate)("skip_to_content"),weight:n}=this.props;return{key:e,label:t,weight:n}}}componentDidMount(){this.props.addA11ySkipLink(this.getLink())}componentWillUnmount(){this.props.removeA11ySkipLink(this.getLink())}render(){const{anchor:e}=this.props;return s.createElement("span",{id:"a11y_target__".concat(e)})}}},371:function(e,t,n){"use strict";function s(e){let t,n;for(let s=0;s<e.length;s++){if("---"===e[s].trim()){if(void 0!==t){n=s;break}t=s}}return void 0!==n?{firstLine:t,lastLine:n}:void 0}function a(e){const t={};for(let n=0;n<e.length;n++){const s=e[n].split(":").map(e=>e.trim());2===s.length&&(t[s[0]]=s[1])}return t}function i(e,t){const n="\x3c!-- ".concat(t," --\x3e"),s="\x3c!-- /".concat(t," --\x3e");let a=e,i=a.indexOf(n),o=a.indexOf(s);for(;-1!==i&&-1!==o;)i<o?a=a.substring(0,i)+a.substring(o+s.length):(console.error(new Error('Documentation - incorrect usage of conditional formatting tags here: "'.concat(a.substring(o,i+n.length),'"'))),a=a.substring(0,o)+a.substring(o+s.length,i)+a.substring(i+n.length)),i=a.indexOf(n),o=a.indexOf(s);return a}e.exports={getFrontMatter:function(e){const t=e.split("\n"),n=s(t);return n?a(t.slice(n.firstLine+1,n.lastLine)):{}},separateFrontMatter:function(e){const t=e.split("\n"),n=s(t);if(n){const e=a(t.slice(n.firstLine+1,n.lastLine)),s=t.slice(n.lastLine+1).join("\n");return{frontmatter:e,content:s}}return{frontmatter:{},content:e}},filterContent:function(e){const t="\x3c!-- \\/?(sonarqube|sonarcloud|static) --\x3e",{isSonarCloud:s,getInstance:a}=n(22),o=i(e.replace(/{instance}/gi,a()),"static");return(s()?i(o,"sonarqube"):i(o,"sonarcloud")).replace(new RegExp("^".concat(t,"(\n|\r|\r\n|$)"),"gm"),"").replace(new RegExp("".concat(t),"g"),"")}}},420:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(386),a=n(385);function i(e){Object(a.default)().dispatch(s.b(e))}},559:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n(33),a=n.n(s),i=n(538),o=n(385);function r(){const e=Object(o.default)(),t=a()(),n=window.location.pathname+window.location.search+window.location.hash;e.dispatch(Object(i.c)()),t.replace({pathname:"/sessions/new",query:{return_to:n}})}}}]);
//# sourceMappingURL=335.m.f2235d4e.chunk.js.map