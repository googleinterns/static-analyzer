{"version":3,"sources":["webpack:///./src/main/js/components/docs/DocMarkdownBlock.css?3224","webpack:///./src/main/js/components/docs/DocMarkdownBlock.css","webpack:///./src/main/js/apps/documentation/styles.css?1583","webpack:///./src/main/js/apps/documentation/styles.css","webpack:///./src/main/js/apps/documentation/navTreeUtils.ts","webpack:///./src/main/js/apps/documentation/pages.ts","webpack:///./src/main/js/apps/documentation/utils.ts","webpack:///./src/main/js/apps/documentation/components/MenuItem.tsx","webpack:///./src/main/js/apps/documentation/components/MenuBlock.tsx","webpack:///./src/main/js/apps/documentation/components/MenuExternalLink.tsx","webpack:///./src/main/js/apps/documentation/components/Menu.tsx","webpack:///./src/main/js/apps/documentation/components/SearchResultEntry.tsx","webpack:///./src/main/js/apps/documentation/components/SearchResults.tsx","webpack:///./src/main/js/apps/documentation/components/Sidebar.tsx","webpack:///./src/main/js/apps/documentation/components/App.tsx","webpack:///./src/main/js/api/static.ts","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./src/main/js/helpers/markdown.js","webpack:///./src/main/js/app/components/SimpleContainer.tsx","webpack:///./src/main/js/components/hoc/withAppState.tsx","webpack:///./src/main/js/app/components/NotFound.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/docs/DocCollapsibleBlock.tsx","webpack:///./src/main/js/components/docs/DocImg.tsx","webpack:///./src/main/js/components/docs/DocLink.tsx","webpack:///./src/main/js/components/docs/plugins/remark-only-toc.js","webpack:///./src/main/js/components/docs/DocToc.tsx","webpack:///./src/main/js/components/docs/DocTooltipLink.tsx","webpack:///./src/main/js/components/docs/DocMarkdownBlock.tsx","webpack:///./src/main/js/api/plugins.ts"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","getUrlsList","navTree","map","leaf","isDocsNavigationBlock","children","isDocsNavigationExternalLink","url","getOpenChainFromPath","pathname","chain","found","walk","parents","concat","forEach","child","testPathAgainstUrl","undefined","path","leadingRegEx","trailingRegEx","replace","getPages","parsedOverrides","pages","file","parsed","parsedOverride","frontmatter","Object","keys","text","ast","parse","texts","node","type","value","join","getText","e","console","error","relativeName","title","navTitle","nav","order","Number","scope","toLowerCase","getNodeFromUrl","find","p","cutTrailingWords","str","words","length","test","substring","cutWords","tokens","result","highlightPos","findIndex","token","marked","cutLeadingWords","highlightMarks","marks","sortedMarks","mark","pos","from","start","to","cuts","balance","substr","MenuItem","depth","splat","active","maxDepth","Math","min","className","key","props","super","handleClick","this","setState","prevState","open","renderMenuItems","block","openChain","item","openByDefault","includes","state","onClick","MenuExternalLink","href","target","rel","navigation","nextProps","SearchResultEntry","page","SearchResultTitle","SearchResultText","titleWithMarks","titleHighlights","highlights","h","SearchResultTokens","style","fontWeight","textHighlights","exactMatch","pageText","index","indexOf","query","loopCount","use","tokenContextPlugin","ref","field","boost","metadataWhitelist","filter","add","results","search","split","s","match","longestTerm","matchData","metadata","term","fieldName","position","positions","tokenContext","tokenContexts","sortedResults","builder","pipelineFunction","prevToken","nextToken","toString","Pipeline","registerFunction","pipeline","before","stemmer","handleSearch","trim","minLength","onChange","placeholder","mounted","loading","tree","getLanguagePluginsDocumentation","then","plugins","Promise","all","plugin","documentationPath","matchArray","exec","pluginKey","staticFilePath","request","submit","response","contents","regex","RegExp","overridablePaths","parsedContent","overrides","params","mainTitle","isIndex","defer","name","ScreenPositionHelper","top","A11ySkipTarget","anchor","label","weight","DocMarkdownBlock","stickyToc","NotFound","withContainer","getWrappedDisplayName","WrappedComponent","hocName","wrappedDisplayName","displayName","Consumer","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","id","getFrontMatterPosition","lines","firstLine","lastLine","parseFrontMatter","data","x","cutConditionalContent","tag","beginning","ending","newContent","end","Error","getFrontMatter","slice","separateFrontMatter","filterContent","regexBase","isSonarCloud","getInstance","contentWithoutStatic","SimpleContainer","height","globalNavHeightRaw","withAppState","Wrapper","appState","Container","defaultTitle","getPosition","containerPos","container","getBoundingClientRect","window","pageYOffset","left","pageXOffset","debouncedOnResize","forceUpdate","addEventListener","removeEventListener","event","stopPropagation","preventDefault","childrenAsArray","toArray","firstChildChildren","renderTitle","DocImg","alt","src","other","handleClickOnAnchor","customProps","onAnchorClick","startsWith","SonarCloudLink","SonarQubeLink","SonarQubeAdminLink","canAdmin","size","onlyToc","heading","anchors","scrollHandler","parentNode","headings","querySelectorAll","scrollTop","document","body","highlightAnchor","len","offsetTop","debouncedScrollHandler","getAnchors","processSync","list","limit","li","DocTooltipLink","encodeURIComponent","handleAnchorClick","element","querySelector","bottomOffset","innerHeight","history","pushState","childProps","isTooltip","md","danger","classes","warning","info","success","collapse","allowDangerousHTML","createElement","components","div","Block","a","img","updatecenterkey","updateCenterKey","getAvailablePlugins","catch","getPendingPlugins","getLastUpdates","updates","status","update","addChangelog","previousUpdates","getInstalledPlugins","f","getInstalledPluginsWithUpdates","installed","updatePlugin","getPluginUpdates","installPlugin","uninstallPlugin","cancelPendingPlugins"],"mappings":"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","file":"js/docs-493df0b3.m.1768f0aa.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DocMarkdownBlock.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".markdown-content .alert{margin-bottom:8px;border:1px solid;border-radius:2px}.markdown-content .alert.is-inline{display:inline-flex}.markdown-content .alert:empty{display:none}.markdown-content .alert-danger,.markdown-content .alert-error{border-color:#f4b1b0;background-color:#f2dede;color:#862422}.markdown-content .alert-danger .alert-icon,.markdown-content .alert-error .alert-icon{border-color:#f4b1b0}.markdown-content .alert-warning{border-color:#faebcc;background-color:#fcf8e3;color:#6f4f17}.markdown-content .alert-warning .alert-icon{border-color:#faebcc}.markdown-content .alert-info{border-color:#b1dff3;background-color:#d9edf7;color:#0e516f}.markdown-content .alert-info .alert-icon{border-color:#b1dff3}.markdown-content .alert-success{border-color:#d6e9c6;background-color:#dff0d8;color:#215821}.markdown-content .alert-success .alert-icon{border-color:#d6e9c6}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".documentation-page-header{margin:10px 20px}.documentation-footer .page-footer-menu,.documentation-footer div{max-width:740px}.documentation-content{padding:32px 64px}.documentation-content.markdown{position:relative;font-size:16px;line-height:1.7}.documentation-content.markdown .documentation-title{font-size:24px;padding-top:8px;margin-bottom:2em}.documentation-content.markdown h2{font-size:18px;font-weight:800;margin-top:3em}.documentation-content.markdown h3{font-size:16px;margin-bottom:.8em}.documentation-content.markdown pre{border:1px solid #e6e6e6;border-radius:3px;background-color:rgba(0,0,0,.06)}.documentation-content.markdown .alert,.documentation-content.markdown p,.documentation-content.markdown pre,.documentation-content.markdown table{margin:.8em 0 2em}.documentation-content.markdown ul{margin:0 0 2em}.documentation-content.markdown ul>ul{margin:0}.documentation-content.markdown p+ol,.documentation-content.markdown p+pre,.documentation-content.markdown p+ul{margin:-1em 0 2em}.documentation-content.markdown li>p,.documentation-content.markdown li>p+ol,.documentation-content.markdown li>p+pre,.documentation-content.markdown li>p+ul{margin:0}.documentation-content.markdown img[src$=\\\".svg\\\"]{vertical-align:text-bottom}.documentation-content.markdown .alert{display:block;padding:8px 16px}.documentation-content.markdown .alert .custom-block-body{padding-left:24px;background-position:left 6px;background-repeat:no-repeat}.documentation-content.markdown .alert-success .custom-block-body{background-image:url(/images/check.svg)}.documentation-content.markdown .alert-info .custom-block-body{background-image:url(/images/info.svg)}.documentation-content.markdown .alert-warning .custom-block-body{background-image:url(/images/exclamation.svg)}.documentation-content.markdown .alert-danger .custom-block-body,.documentation-content.markdown .alert-error .custom-block-body{background-image:url(/images/cross.svg)}.documentation-content.markdown .collapse-container{border:1px solid #e6e6e6;border-radius:2px;background-color:#f3f3f3;padding:8px;margin:.8em 0 2em}.documentation-content.markdown .collapse-container>a:first-child{display:block}.documentation-content.markdown .collapse-container>a:first-child:focus{color:#236a97}.documentation-content.markdown .collapse-container :last-child{margin-bottom:0}.markdown.has-toc{display:flex}.markdown.has-toc .markdown-content{flex-shrink:1;overflow:hidden;text-overflow:ellipsis;overflow-x:auto}.markdown-toc{flex:0 0 240px;margin-right:-40px}.markdown-toc-content{margin-left:32px;padding:0 8px;font-size:13px;background:#fff;position:-webkit-sticky;position:sticky;top:68px}.markdown-toc-content h4{margin:0 8px 8px;font-size:14px}.markdown-toc-content a{display:block;color:#070706;padding:4px 8px;border:1px solid #fff;line-height:1.2;transition:none}.markdown-toc a:hover{border-color:#4b9fd5}.markdown-toc a.active{font-weight:700}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport NavigationTree from 'Docs/../static/SonarQubeNavigationTree.json';\nimport {\n  DocNavigationItem,\n  DocsNavigationBlock,\n  DocsNavigationExternalLink\n} from 'Docs/@types/types';\nimport { flatten } from 'lodash';\n\nexport function getNavTree() {\n  return NavigationTree as DocNavigationItem[];\n}\n\nexport function getUrlsList(navTree: DocNavigationItem[]): string[] {\n  return flatten(\n    navTree.map(leaf => {\n      if (isDocsNavigationBlock(leaf)) {\n        return getUrlsList(leaf.children);\n      }\n      if (isDocsNavigationExternalLink(leaf)) {\n        return [leaf.url];\n      }\n      return [leaf];\n    })\n  );\n}\n\nexport function getOpenChainFromPath(pathname: string, navTree: DocNavigationItem[]) {\n  let chain: DocNavigationItem[] = [];\n\n  let found = false;\n  const walk = (leaf: DocNavigationItem, parents: DocNavigationItem[] = []) => {\n    if (found) {\n      return;\n    }\n\n    parents = parents.concat(leaf);\n\n    if (isDocsNavigationBlock(leaf)) {\n      leaf.children.forEach(child => {\n        if (typeof child === 'string' && testPathAgainstUrl(child, pathname)) {\n          chain = parents.concat(child);\n          found = true;\n        } else {\n          walk(child, parents);\n        }\n      });\n    } else if (typeof leaf === 'string' && testPathAgainstUrl(leaf, pathname)) {\n      chain = parents;\n      found = true;\n    }\n  };\n\n  navTree.forEach(leaf => walk(leaf));\n\n  return chain;\n}\n\nexport function isDocsNavigationBlock(leaf?: DocNavigationItem): leaf is DocsNavigationBlock {\n  return typeof leaf === 'object' && (leaf as DocsNavigationBlock).children !== undefined;\n}\n\nexport function isDocsNavigationExternalLink(\n  leaf?: DocNavigationItem\n): leaf is DocsNavigationExternalLink {\n  return typeof leaf === 'object' && (leaf as DocsNavigationExternalLink).url !== undefined;\n}\n\nexport function testPathAgainstUrl(path: string, url: string) {\n  const leadingRegEx = /^\\//;\n  const trailingRegEx = /\\/$/;\n  return (\n    path.replace(leadingRegEx, '').replace(trailingRegEx, '') ===\n    url.replace(leadingRegEx, '').replace(trailingRegEx, '')\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport remark from 'remark';\nimport visit from 'unist-util-visit';\nimport { filterContent, ParsedContent, separateFrontMatter } from '../../helpers/markdown';\nimport * as Docs from './documentation.directory-loader';\nimport { DocumentationEntry, DocumentationEntryScope } from './utils';\n\nexport default function getPages(\n  parsedOverrides: T.Dict<ParsedContent> = {}\n): DocumentationEntry[] {\n  // Get entries, merge with overrides if applicable.\n  const pages = ((Docs as unknown) as Array<{ content: string; path: string }>).map(file => {\n    let parsed = separateFrontMatter(file.content);\n\n    if (parsedOverrides[file.path]) {\n      const parsedOverride = parsedOverrides[file.path];\n      parsed = {\n        content: parsedOverride.content,\n        frontmatter: { ...parsed.frontmatter, ...parsedOverride.frontmatter }\n      };\n      delete parsedOverrides[file.path];\n    }\n\n    return { parsed, file };\n  });\n\n  // Add new entries.\n  Object.keys(parsedOverrides).forEach(path => {\n    const parsed = parsedOverrides[path];\n    pages.push({\n      parsed,\n      file: { content: parsed.content, path }\n    });\n  });\n\n  return pages.map(({ parsed, file }) => {\n    let content = '';\n    let text = '';\n    try {\n      content = filterContent(parsed.content);\n      text = getText(content);\n    } catch (e) {\n      /* eslint-disable-next-line no-console */\n      console.error(\n        `Documentation - an error occured while parsing page \"${parsed.frontmatter.url ||\n          file.path}\":`,\n        e\n      );\n    }\n\n    return {\n      relativeName: file.path,\n      url: parsed.frontmatter.url || `/${file.path}/`,\n      title: parsed.frontmatter.title,\n      navTitle: parsed.frontmatter.nav || undefined,\n      order: Number(parsed.frontmatter.order || -1),\n      scope: parsed.frontmatter.scope\n        ? (parsed.frontmatter.scope.toLowerCase() as DocumentationEntryScope)\n        : undefined,\n      text,\n      content\n    };\n  });\n}\n\nfunction getText(content: string) {\n  const ast = remark().parse(content);\n  const texts: string[] = [];\n  visit(ast, node => {\n    if (node.type === `text` || node.type === `inlineCode`) {\n      texts.push(node.value);\n    }\n  });\n  return texts.join(' ').replace(/\\s+/g, ' ');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\n\nexport type DocumentationEntryScope = 'sonarqube' | 'sonarcloud' | 'static';\n\nexport interface DocumentationEntry {\n  content: string;\n  relativeName: string;\n  navTitle: string | undefined;\n  text: string;\n  title: string;\n  url: string;\n}\n\nexport function getNodeFromUrl(pages: DocumentationEntry[], url: string) {\n  return pages.find(p => p.url === url);\n}\n\nconst WORDS = 6;\n\nfunction cutLeadingWords(str: string) {\n  let words = 0;\n  for (let i = str.length - 1; i >= 0; i--) {\n    if (/\\s/.test(str[i])) {\n      words++;\n    }\n    if (words === WORDS) {\n      return i > 0 ? `...${str.substring(i + 1)}` : str;\n    }\n  }\n  return str;\n}\n\nfunction cutTrailingWords(str: string) {\n  let words = 0;\n  for (let i = 0; i < str.length; i++) {\n    if (/\\s/.test(str[i])) {\n      words++;\n    }\n    if (words === WORDS) {\n      return i < str.length - 1 ? `${str.substring(0, i)}...` : str;\n    }\n  }\n  return str;\n}\n\nexport function cutWords(tokens: Array<{ text: string; marked: boolean }>) {\n  const result: Array<{ text: string; marked: boolean }> = [];\n  let length = 0;\n\n  const highlightPos = tokens.findIndex(token => token.marked);\n  if (highlightPos > 0) {\n    const text = cutLeadingWords(tokens[highlightPos - 1].text);\n    result.push({ text, marked: false });\n    length += text.length;\n  }\n\n  result.push(tokens[highlightPos]);\n  length += tokens[highlightPos].text.length;\n\n  for (let i = highlightPos + 1; i < tokens.length; i++) {\n    if (length + tokens[i].text.length > 100) {\n      const text = cutTrailingWords(tokens[i].text);\n      result.push({ text, marked: false });\n      return result;\n    } else {\n      result.push(tokens[i]);\n      length += tokens[i].text.length;\n    }\n  }\n\n  return result;\n}\n\nexport function highlightMarks(str: string, marks: Array<{ from: number; to: number }>) {\n  const sortedMarks = sortBy(\n    [\n      ...marks.map(mark => ({ pos: mark.from, start: true })),\n      ...marks.map(mark => ({ pos: mark.to, start: false }))\n    ],\n    mark => mark.pos,\n    mark => Number(!mark.start)\n  );\n\n  const cuts: Array<{ text: string; marked: boolean }> = [];\n  let start = 0;\n  let balance = 0;\n\n  for (const mark of sortedMarks) {\n    if (mark.start) {\n      if (balance === 0 && start !== mark.pos) {\n        cuts.push({ text: str.substring(start, mark.pos), marked: false });\n        start = mark.pos;\n      }\n      balance++;\n    } else {\n      balance--;\n      if (balance === 0 && start !== mark.pos) {\n        cuts.push({ text: str.substring(start, mark.pos), marked: true });\n        start = mark.pos;\n      }\n    }\n  }\n\n  if (start < str.length - 1) {\n    cuts.push({ text: str.substr(start), marked: false });\n  }\n\n  return cuts;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { testPathAgainstUrl } from '../navTreeUtils';\nimport { DocumentationEntry } from '../utils';\n\ninterface Props {\n  depth?: number;\n  node: DocumentationEntry | undefined;\n  splat: string;\n}\n\nexport function MenuItem({ depth = 0, node, splat }: Props) {\n  if (!node) {\n    return null;\n  }\n\n  const active = testPathAgainstUrl(node.url, splat);\n  const maxDepth = Math.min(depth, 3);\n  return (\n    <Link\n      className={classNames('list-group-item', { active, [`depth-${maxDepth}`]: depth > 0 })}\n      key={node.url}\n      to={'/documentation' + node.url}>\n      <h3 className=\"list-group-item-heading\">{node.navTitle || node.title}</h3>\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { DocNavigationItem, DocsNavigationBlock } from 'Docs/@types/types';\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport { isDocsNavigationBlock } from '../navTreeUtils';\nimport { DocumentationEntry, getNodeFromUrl } from '../utils';\nimport { MenuItem } from './MenuItem';\n\ninterface Props {\n  block: DocsNavigationBlock;\n  depth?: number;\n  openByDefault: boolean;\n  openChain: DocNavigationItem[];\n  pages: DocumentationEntry[];\n  splat: string;\n  title: string;\n}\n\ninterface State {\n  open: boolean;\n}\n\nexport default class MenuBlock extends React.PureComponent<Props, State> {\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      open: props.openByDefault !== undefined ? props.openByDefault : false\n    };\n  }\n\n  handleClick = () => {\n    this.setState(prevState => ({\n      open: !prevState.open\n    }));\n  };\n\n  renderMenuItems = (block: DocsNavigationBlock): React.ReactNode => {\n    const { depth = 0, openChain, pages, splat } = this.props;\n    return block.children.map(item => {\n      if (typeof item === 'string') {\n        return (\n          <MenuItem depth={depth + 1} key={item} node={getNodeFromUrl(pages, item)} splat={splat} />\n        );\n      } else if (isDocsNavigationBlock(item)) {\n        return (\n          <MenuBlock\n            block={item}\n            depth={depth + 1}\n            key={item.title}\n            openByDefault={openChain.includes(item)}\n            openChain={openChain}\n            pages={pages}\n            splat={splat}\n            title={item.title}\n          />\n        );\n      } else {\n        return null;\n      }\n    });\n  };\n\n  render() {\n    const { block, depth = 0, title } = this.props;\n    const { open } = this.state;\n    const maxDepth = Math.min(depth, 3);\n    return (\n      <>\n        <ButtonLink\n          className={classNames('list-group-item', { [`depth-${maxDepth}`]: depth > 0 })}\n          onClick={this.handleClick}>\n          <h3 className=\"list-group-item-heading\">\n            <OpenCloseIcon className=\"little-spacer-right\" open={open} />\n            {title}\n          </h3>\n        </ButtonLink>\n        {open && this.renderMenuItems(block)}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\n\ninterface Props {\n  title: string;\n  url: string;\n}\n\nexport function MenuExternalLink({ title, url }: Props) {\n  return (\n    <a href={url} key={title} target=\"_blank\" rel=\"noopener noreferrer\">\n      <h3 className=\"list-group-item-heading\">\n        <DetachIcon className=\"spacer-right\" />\n        {title}\n      </h3>\n    </a>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { DocNavigationItem } from 'Docs/@types/types';\nimport * as React from 'react';\nimport {\n  getOpenChainFromPath,\n  isDocsNavigationBlock,\n  isDocsNavigationExternalLink\n} from '../navTreeUtils';\nimport { DocumentationEntry, getNodeFromUrl } from '../utils';\nimport MenuBlock from './MenuBlock';\nimport { MenuExternalLink } from './MenuExternalLink';\nimport { MenuItem } from './MenuItem';\n\ninterface Props {\n  navigation: DocNavigationItem[];\n  pages: DocumentationEntry[];\n  splat: string;\n}\n\ninterface State {\n  openChain: DocNavigationItem[];\n}\n\nexport default class Menu extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      openChain: getOpenChainFromPath(this.props.splat, this.props.navigation)\n    };\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (this.props.splat !== nextProps.splat) {\n      this.setState({ openChain: getOpenChainFromPath(nextProps.splat, nextProps.navigation) });\n    }\n  }\n\n  render() {\n    const { openChain } = this.state;\n    return (\n      <>\n        {this.props.navigation.map(item => {\n          if (isDocsNavigationBlock(item)) {\n            return (\n              <MenuBlock\n                block={item}\n                key={item.title}\n                openByDefault={openChain.includes(item)}\n                openChain={openChain}\n                pages={this.props.pages}\n                splat={this.props.splat}\n                title={item.title}\n              />\n            );\n          }\n          if (isDocsNavigationExternalLink(item)) {\n            return <MenuExternalLink key={item.title} title={item.title} url={item.url} />;\n          }\n          return (\n            <MenuItem\n              key={item}\n              node={getNodeFromUrl(this.props.pages, item)}\n              splat={this.props.splat}\n            />\n          );\n        })}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { cutWords, DocumentationEntry, highlightMarks } from '../utils';\n\nexport interface SearchResult {\n  exactMatch?: boolean;\n  highlights: T.Dict<[number, number][]>;\n  longestTerm: string;\n  page: DocumentationEntry;\n  query: string;\n}\n\ninterface Props {\n  active: boolean;\n  result: SearchResult;\n}\n\nexport default function SearchResultEntry({ active, result }: Props) {\n  return (\n    <Link\n      className={classNames('list-group-item', { active })}\n      to={'/documentation' + result.page.url}>\n      <SearchResultTitle result={result} />\n      <SearchResultText result={result} />\n    </Link>\n  );\n}\n\nexport function SearchResultTitle({ result }: { result: SearchResult }) {\n  let titleWithMarks: React.ReactNode;\n\n  const titleHighlights = result.highlights.title;\n  if (titleHighlights && titleHighlights.length > 0) {\n    const { title } = result.page;\n    const tokens = highlightMarks(\n      title,\n      titleHighlights.map(h => ({ from: h[0], to: h[0] + h[1] }))\n    );\n    titleWithMarks = <SearchResultTokens tokens={tokens} />;\n  } else {\n    titleWithMarks = result.page.title;\n  }\n\n  return (\n    <h3 className=\"list-group-item-heading\" style={{ fontWeight: 'normal' }}>\n      {titleWithMarks}\n    </h3>\n  );\n}\n\nexport function SearchResultText({ result }: { result: SearchResult }) {\n  const textHighlights = result.highlights.text;\n  const { text } = result.page;\n  let tokens: {\n    text: string;\n    marked: boolean;\n  }[] = [];\n\n  if (result.exactMatch) {\n    const pageText = result.page.text.toLowerCase();\n    const highlights: { from: number; to: number }[] = [];\n    let start = 0;\n    let index = pageText.indexOf(result.query, start);\n    let loopCount = 0;\n\n    while (index > -1 && loopCount < 10) {\n      loopCount++;\n      highlights.push({ from: index, to: index + result.query.length });\n      start = index + 1;\n      index = pageText.indexOf(result.query, start);\n    }\n\n    if (highlights.length) {\n      tokens = highlightMarks(text, highlights);\n    }\n  }\n\n  if (tokens.length === 0 && textHighlights && textHighlights.length > 0) {\n    tokens = highlightMarks(\n      text,\n      textHighlights.map(h => ({ from: h[0], to: h[0] + h[1] }))\n    );\n  }\n\n  if (tokens.length) {\n    return (\n      <div className=\"note\">\n        <SearchResultTokens tokens={cutWords(tokens)} />\n      </div>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport function SearchResultTokens({\n  tokens\n}: {\n  tokens: Array<{ text: string; marked: boolean }>;\n}) {\n  return (\n    <>\n      {tokens.map((token, index) => (\n        <React.Fragment key={index}>\n          {token.marked ? <mark key={index}>{token.text}</mark> : token.text}\n        </React.Fragment>\n      ))}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { DocNavigationItem } from 'Docs/@types/types';\nimport { sortBy } from 'lodash';\nimport lunr, { LunrBuilder, LunrIndex, LunrToken } from 'lunr';\nimport * as React from 'react';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getUrlsList } from '../navTreeUtils';\nimport { DocumentationEntry } from '../utils';\nimport SearchResultEntry from './SearchResultEntry';\n\ninterface Props {\n  navigation: DocNavigationItem[];\n  pages: DocumentationEntry[];\n  query: string;\n  splat: string;\n}\n\nexport default class SearchResults extends React.PureComponent<Props> {\n  index: LunrIndex;\n\n  constructor(props: Props) {\n    super(props);\n    this.index = lunr(function() {\n      this.use(tokenContextPlugin);\n      this.ref('relativeName');\n      this.field('title', { boost: 10 });\n      this.field('text');\n\n      this.metadataWhitelist = ['position', 'tokenContext'];\n\n      props.pages\n        .filter(page => getUrlsList(props.navigation).includes(page.url))\n        .forEach(page => this.add(page));\n    });\n  }\n\n  render() {\n    const query = this.props.query.toLowerCase();\n    const results = this.index\n      .search(\n        query\n          .split(/\\s+/)\n          .map(s => `${s}~1 ${s}*`)\n          .join(' ')\n      )\n      .map(match => {\n        const page = this.props.pages.find(page => page.relativeName === match.ref);\n\n        if (!page) {\n          return null;\n        }\n\n        const highlights: T.Dict<[number, number][]> = {};\n        let longestTerm = '';\n        let exactMatch = false;\n\n        // Loop over all matching terms/tokens.\n        Object.keys(match.matchData.metadata).forEach(term => {\n          // Remember the longest term that matches the query as close as possible.\n          if (query.includes(term.toLowerCase()) && longestTerm.length < term.length) {\n            longestTerm = term;\n          }\n\n          Object.keys(match.matchData.metadata[term]).forEach(fieldName => {\n            const { position: positions, tokenContext: tokenContexts } = match.matchData.metadata[\n              term\n            ][fieldName];\n\n            highlights[fieldName] = [...(highlights[fieldName] || []), ...positions];\n\n            // Check if we have an *exact match*.\n            if (!exactMatch && tokenContexts) {\n              tokenContexts.forEach((tokenContext: string) => {\n                if (!exactMatch && tokenContext.includes(query)) {\n                  exactMatch = true;\n                }\n              });\n            }\n          });\n        });\n\n        return { exactMatch, highlights, longestTerm, page, query };\n      })\n      .filter(isDefined);\n\n    // Re-order results by the length of the longest matched term and by exact\n    // match (if applicable). The longer the matched term is, the higher the\n    // chance the result is more relevant.\n    const sortedResults = sortBy(\n      // Sort by longest term.\n      sortBy(results, result => -result.longestTerm.length),\n      // Sort by exact match.\n      result => result.exactMatch && -1\n    );\n\n    return (\n      <>\n        {sortedResults.map(result => (\n          <SearchResultEntry\n            active={result.page.relativeName === this.props.splat}\n            key={result.page.relativeName}\n            result={result}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\n// Lunr doesn't support exact multiple-term matching. Meaning \"foo bar\" will not\n// boost a sentence like \"Foo bar baz\" more than \"Baz bar foo\". In order to\n// provide more accurate results, we store the token context, to see if we can\n// perform an \"exact match\". Unfortunately, we cannot extend the search logic,\n// only the tokenizer at *index time*. This is why we store the context as\n// meta-data, and post-process the matches before rendering (see above). For\n// performance reasons, we only add 2 extra tokens, one in front, one after.\n// This means we support \"exact macthing\" for up to 3 terms. More search terms\n// would fallback to the regular matching algorithm, which is OK: the more terms\n// searched for, the better the standard algorithm will perform anyway. In the\n// end, the best would be for Lunr to support multi-term matching, as extending\n// the search algorithm for this would be way too complicated.\nfunction tokenContextPlugin(builder: LunrBuilder) {\n  const pipelineFunction = (token: LunrToken, index: number, tokens: LunrToken[]) => {\n    const prevToken = tokens[index - 1] || '';\n    const nextToken = tokens[index + 1] || '';\n    token.metadata['tokenContext'] = [prevToken.toString(), token.toString(), nextToken.toString()]\n      .filter(s => s.length)\n      .join(' ')\n      .toLowerCase();\n    return token;\n  };\n\n  (lunr as any).Pipeline.registerFunction(pipelineFunction, 'tokenContext');\n  builder.pipeline.before((lunr as any).stemmer, pipelineFunction);\n  builder.metadataWhitelist.push('tokenContext');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { DocNavigationItem } from 'Docs/@types/types';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { DocumentationEntry } from '../utils';\nimport Menu from './Menu';\nimport SearchResults from './SearchResults';\n\ninterface Props {\n  navigation: DocNavigationItem[];\n  pages: DocumentationEntry[];\n  splat: string;\n}\n\ninterface State {\n  query: string;\n}\n\nexport default class Sidebar extends React.PureComponent<Props, State> {\n  state: State = { query: '' };\n\n  handleSearch = (query: string) => {\n    this.setState({ query: query.trim() });\n  };\n\n  render() {\n    return (\n      <>\n        <SearchBox\n          className=\"big-spacer-top spacer-bottom\"\n          minLength={2}\n          onChange={this.handleSearch}\n          placeholder=\"Search for pages or keywords\"\n          value={this.state.query}\n        />\n        <div className=\"documentation-results panel\">\n          <div className=\"list-group\">\n            {this.state.query ? (\n              <SearchResults\n                navigation={this.props.navigation}\n                pages={this.props.pages}\n                query={this.state.query}\n                splat={this.props.splat}\n              />\n            ) : (\n              <Menu\n                navigation={this.props.navigation}\n                pages={this.props.pages}\n                splat={this.props.splat}\n              />\n            )}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as navigationTreeSonarCloud from 'Docs/../static/SonarCloudNavigationTree.json';\nimport * as navigationTreeSonarQube from 'Docs/../static/SonarQubeNavigationTree.json';\nimport { DocNavigationItem } from 'Docs/@types/types';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addSideBarClass, removeSideBarClass } from 'sonar-ui-common/helpers/pages';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getInstalledPlugins } from '../../../api/plugins';\nimport { getPluginStaticFileContent } from '../../../api/static';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport NotFound from '../../../app/components/NotFound';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport DocMarkdownBlock from '../../../components/docs/DocMarkdownBlock';\nimport { ParsedContent, separateFrontMatter } from '../../../helpers/markdown';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { getUrlsList } from '../navTreeUtils';\nimport getPages from '../pages';\nimport '../styles.css';\nimport { DocumentationEntry } from '../utils';\nimport Sidebar from './Sidebar';\n\ninterface Props {\n  params: { splat?: string };\n}\n\ninterface State {\n  loading: boolean;\n  pages: DocumentationEntry[];\n  tree: DocNavigationItem[];\n}\n\nconst LANGUAGES_BASE_URL = 'analysis/languages';\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: false,\n    pages: [],\n    tree: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    addSideBarClass();\n\n    this.setState({ loading: true });\n\n    const tree = isSonarCloud()\n      ? ((navigationTreeSonarCloud as any).default as DocNavigationItem[])\n      : ((navigationTreeSonarQube as any).default as DocNavigationItem[]);\n\n    this.getLanguagePluginsDocumentation(tree).then(\n      overrides => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            pages: getPages(overrides),\n            tree\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({\n            loading: false\n          });\n        }\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeSideBarClass();\n  }\n\n  getLanguagePluginsDocumentation = (tree: DocNavigationItem[]) => {\n    return getInstalledPlugins()\n      .then(plugins =>\n        Promise.all(\n          plugins.map(plugin => {\n            if (plugin.documentationPath) {\n              const matchArray = /^static\\/(.*)/.exec(plugin.documentationPath);\n\n              if (matchArray && matchArray.length > 1) {\n                // eslint-disable-next-line promise/no-nesting\n                return getPluginStaticFileContent(plugin.key, matchArray[1]).then(\n                  content => content,\n                  () => undefined\n                );\n              }\n            }\n            return undefined;\n          })\n        )\n      )\n      .then(contents => contents.filter(isDefined))\n      .then(contents => {\n        const regex = new RegExp(`/${LANGUAGES_BASE_URL}/\\\\w+/$`);\n        const overridablePaths = getUrlsList(tree).filter(\n          path => regex.test(path) && path !== `/${LANGUAGES_BASE_URL}/overview/`\n        );\n\n        const parsedContent: T.Dict<ParsedContent> = {};\n\n        contents.forEach(content => {\n          const parsed = separateFrontMatter(content);\n          if (\n            parsed &&\n            parsed.frontmatter &&\n            parsed.frontmatter.key &&\n            overridablePaths.includes(`/${LANGUAGES_BASE_URL}/${parsed.frontmatter.key}/`)\n          ) {\n            parsedContent[`${LANGUAGES_BASE_URL}/${parsed.frontmatter.key}`] = parsed;\n          }\n        });\n\n        return parsedContent;\n      });\n  };\n\n  render() {\n    const { loading, pages, tree } = this.state;\n    const { splat = '' } = this.props.params;\n\n    if (loading) {\n      return (\n        <div className=\"page page-limited\">\n          <DeferredSpinner />\n        </div>\n      );\n    }\n\n    const page = pages.find(p => p.url === '/' + splat);\n    const mainTitle = translate(\n      'documentation.page_title',\n      isSonarCloud() ? 'sonarcloud' : 'sonarqube'\n    );\n    const isIndex = splat === 'index';\n\n    if (!page) {\n      return (\n        <>\n          <Helmet title={mainTitle}>\n            <meta content=\"noindex nofollow\" name=\"robots\" />\n          </Helmet>\n          <A11ySkipTarget anchor=\"documentation_main\" />\n          <NotFound withContainer={false} />\n        </>\n      );\n    }\n\n    return (\n      <div className=\"layout-page\">\n        <Helmet\n          defer={false}\n          title={isIndex || !page.title ? mainTitle : `${page.title} | ${mainTitle}`}>\n          {!isSonarCloud() && <meta content=\"noindex nofollow\" name=\"robots\" />}\n        </Helmet>\n\n        <ScreenPositionHelper className=\"layout-page-side-outer\">\n          {({ top }) => (\n            <div className=\"layout-page-side\" style={{ top }}>\n              <div className=\"layout-page-side-inner\">\n                <div className=\"layout-page-filters\">\n                  <div className=\"documentation-page-header\">\n                    <A11ySkipTarget\n                      anchor=\"documentation_menu\"\n                      label={translate('documentation.skip_to_nav')}\n                      weight={10}\n                    />\n\n                    <Link to=\"/documentation/\">\n                      <h1>{translate('documentation.page')}</h1>\n                    </Link>\n                  </div>\n                  <Sidebar navigation={tree} pages={pages} splat={splat} />\n                </div>\n              </div>\n            </div>\n          )}\n        </ScreenPositionHelper>\n\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-main-inner\">\n            <div className=\"boxed-group\">\n              <A11ySkipTarget anchor=\"documentation_main\" />\n\n              <DocMarkdownBlock\n                className=\"documentation-content cut-margins boxed-group-inner\"\n                content={page.content}\n                stickyToc={true}\n                title={page.title}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { checkStatus, request } from 'sonar-ui-common/helpers/request';\n\nexport function getPluginStaticFileContent(pluginKey: string, staticFilePath: string) {\n  return request(`/static/${pluginKey}/${staticFilePath}`)\n    .submit()\n    .then(checkStatus)\n    .then(response => response.text());\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName<P>(\n  WrappedComponent: React.ComponentType<P>,\n  hocName: string\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// keep this file in JavaScript, because it is used by a webpack loader\nmodule.exports = { getFrontMatter, separateFrontMatter, filterContent };\n\nfunction getFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  return position ? parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine)) : {};\n}\n\nfunction separateFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  if (position) {\n    const frontmatter = parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine));\n    const content = lines.slice(position.lastLine + 1).join('\\n');\n    return { frontmatter, content };\n  } else {\n    return { frontmatter: {}, content };\n  }\n}\n\nfunction getFrontMatterPosition(lines) {\n  let firstLine;\n  let lastLine;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.trim() === '---') {\n      if (firstLine === undefined) {\n        firstLine = i;\n      } else {\n        lastLine = i;\n        break;\n      }\n    }\n  }\n  return lastLine !== undefined ? { firstLine, lastLine } : undefined;\n}\n\nfunction parseFrontMatter(lines) {\n  const data = {};\n  for (let i = 0; i < lines.length; i++) {\n    const tokens = lines[i].split(':').map(x => x.trim());\n    if (tokens.length === 2) {\n      data[tokens[0]] = tokens[1];\n    }\n  }\n  return data;\n}\n\n/**\n * @param {string} content\n * @returns {string}\n */\nfunction filterContent(content) {\n  const regexBase = '<!-- \\\\/?(sonarqube|sonarcloud|static) -->';\n  const { isSonarCloud, getInstance } = require('./system');\n  const contentWithInstance = content.replace(/{instance}/gi, getInstance());\n  const contentWithoutStatic = cutConditionalContent(contentWithInstance, 'static');\n  const filteredContent = isSonarCloud()\n    ? cutConditionalContent(contentWithoutStatic, 'sonarqube')\n    : cutConditionalContent(contentWithoutStatic, 'sonarcloud');\n  return filteredContent\n    .replace(new RegExp(`^${regexBase}(\\n|\\r|\\r\\n|$)`, 'gm'), '') // First, remove single-line ones, including ending carriage-returns.\n    .replace(new RegExp(`${regexBase}`, 'g'), ''); // Now remove all remaining ones.\n}\n\n/**\n * @param {string} content\n * @param {string} tag\n * @returns {string}\n */\nfunction cutConditionalContent(content, tag) {\n  const beginning = `<!-- ${tag} -->`;\n  const ending = `<!-- /${tag} -->`;\n\n  let newContent = content;\n  let start = newContent.indexOf(beginning);\n  let end = newContent.indexOf(ending);\n  while (start !== -1 && end !== -1) {\n    if (start < end) {\n      newContent = newContent.substring(0, start) + newContent.substring(end + ending.length);\n    } else {\n      // When conditional tags are incorrectly used we log an error, strip them out and pass to the next pair of tags\n      // eslint-disable-next-line no-console\n      console.error(\n        new Error(\n          `Documentation - incorrect usage of conditional formatting tags here: \"${newContent.substring(\n            end,\n            start + beginning.length\n          )}\"`\n        )\n      );\n      newContent =\n        newContent.substring(0, end) +\n        newContent.substring(end + ending.length, start) +\n        newContent.substring(start + beginning.length);\n    }\n    start = newContent.indexOf(beginning);\n    end = newContent.indexOf(ending);\n  }\n\n  return newContent;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport NavBar from 'sonar-ui-common/components/ui/NavBar';\nimport { rawSizes } from '../theme';\nimport GlobalFooterContainer from './GlobalFooterContainer';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function SimpleContainer({ children }: Props) {\n  return (\n    <div className=\"global-container\">\n      <div className=\"page-wrapper\" id=\"container\">\n        <NavBar className=\"navbar-global\" height={rawSizes.globalNavHeightRaw} />\n        {children}\n      </div>\n      <GlobalFooterContainer />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentType<P & { appState: Partial<T.AppState> }>\n) {\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withAppState');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimpleContainer from './SimpleContainer';\n\ninterface Props {\n  withContainer?: boolean;\n}\n\nexport default function NotFound({ withContainer = true }: Props) {\n  const Container = withContainer ? SimpleContainer : React.Fragment;\n  return (\n    <Container>\n      <Helmet defaultTitle={translate('404_not_found')} defer={false} />\n      <div className=\"page-wrapper-simple\" id=\"bd\">\n        <div className=\"page-simple\" id=\"nonav\">\n          <h2 className=\"big-spacer-bottom\">{translate('page_not_found')}</h2>\n          <p className=\"spacer-bottom\">{translate('address_mistyped_or_page_moved')}</p>\n          <p>\n            <Link to=\"/\">{translate('go_back_to_homepage')}</Link>\n          </p>\n        </div>\n      </div>\n    </Container>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\n\ninterface State {\n  open: boolean;\n}\n\nexport default class DocCollapsibleBlock extends React.PureComponent<{}, State> {\n  state = { open: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    this.setState(state => ({ open: !state.open }));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  renderTitle(children: any) {\n    return (\n      <a\n        aria-expanded={this.state.open}\n        aria-haspopup={true}\n        className=\"link-no-underline\"\n        href=\"#\"\n        onClick={this.handleClick}>\n        <OpenCloseIcon className=\"text-middle little-spacer-right\" open={this.state.open} />\n        {children.props ? children.props.children : children}\n      </a>\n    );\n  }\n\n  render() {\n    const childrenAsArray = React.Children.toArray(this.props.children);\n    if (childrenAsArray.length < 1) {\n      return null;\n    }\n\n    const firstChildChildren = React.Children.toArray(\n      (childrenAsArray[0] as React.ReactElement<any>).props.children\n    );\n    if (firstChildChildren.length < 2) {\n      return null;\n    }\n\n    return (\n      <div className=\"collapse-container\">\n        {this.renderTitle(firstChildChildren[0])}\n        {this.state.open && firstChildChildren.slice(1)}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\n\nexport default function DocImg(props: React.ImgHTMLAttributes<HTMLImageElement>) {\n  const { alt, src, ...other } = props;\n\n  if (process.env.NODE_ENV === 'development') {\n    return <img alt={alt} className=\"max-width-100\" src={getBaseUrl() + src} {...other} />;\n  }\n\n  return (\n    <img\n      alt={alt}\n      className=\"max-width-100\"\n      src={getBaseUrl() + '/images/embed-doc' + src}\n      {...other}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\nimport { isSonarCloud } from '../../helpers/system';\nimport { withAppState } from '../hoc/withAppState';\n\ninterface OwnProps {\n  appState: Pick<T.AppState, 'canAdmin'>;\n  customProps?: {\n    [k: string]: any;\n  };\n}\n\ntype Props = OwnProps & React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\nconst SONARCLOUD_LINK = '/#sonarcloud#/';\nconst SONARQUBE_LINK = '/#sonarqube#/';\nconst SONARQUBE_ADMIN_LINK = '/#sonarqube-admin#/';\n\nexport class DocLink extends React.PureComponent<Props> {\n  handleClickOnAnchor = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    const { customProps, href = '#' } = this.props;\n    if (customProps && customProps.onAnchorClick) {\n      customProps.onAnchorClick(href, event);\n    }\n  };\n\n  render() {\n    const { appState, children, href, customProps, ...other } = this.props;\n    if (href && href.startsWith('#')) {\n      return (\n        <a href=\"#\" onClick={this.handleClickOnAnchor}>\n          {children}\n        </a>\n      );\n    }\n\n    if (href && href.startsWith('/')) {\n      if (href.startsWith(SONARCLOUD_LINK)) {\n        return <SonarCloudLink url={href}>{children}</SonarCloudLink>;\n      } else if (href.startsWith(SONARQUBE_LINK)) {\n        return <SonarQubeLink url={href}>{children}</SonarQubeLink>;\n      } else if (href.startsWith(SONARQUBE_ADMIN_LINK)) {\n        return (\n          <SonarQubeAdminLink canAdmin={appState.canAdmin} url={href}>\n            {children}\n          </SonarQubeAdminLink>\n        );\n      } else {\n        const url = '/documentation' + href;\n        return (\n          <Link to={url} {...other}>\n            {children}\n          </Link>\n        );\n      }\n    }\n\n    return (\n      <>\n        <a href={href} rel=\"noopener noreferrer\" target=\"_blank\" {...other}>\n          {children}\n        </a>\n        <DetachIcon\n          className=\"text-muted little-spacer-left little-spacer-right text-baseline\"\n          size={12}\n        />\n      </>\n    );\n  }\n}\n\nexport default withAppState(DocLink);\n\ninterface SonarCloudLinkProps {\n  children: React.ReactNode;\n  url: string;\n}\n\nfunction SonarCloudLink({ children, url }: SonarCloudLinkProps) {\n  if (!isSonarCloud()) {\n    return <>{children}</>;\n  } else {\n    const to = `/${url.substr(SONARCLOUD_LINK.length)}`;\n    return <Link to={to}>{children}</Link>;\n  }\n}\n\ninterface SonarQubeLinkProps {\n  children: React.ReactNode;\n  url: string;\n}\n\nfunction SonarQubeLink({ children, url }: SonarQubeLinkProps) {\n  if (isSonarCloud()) {\n    return <>{children}</>;\n  } else {\n    const to = `/${url.substr(SONARQUBE_LINK.length)}`;\n    return (\n      <Link target=\"_blank\" to={to}>\n        {children}\n      </Link>\n    );\n  }\n}\n\ninterface SonarQubeAdminLinkProps {\n  canAdmin?: boolean;\n  children: React.ReactNode;\n  url: string;\n}\n\nfunction SonarQubeAdminLink({ canAdmin, children, url }: SonarQubeAdminLinkProps) {\n  if (isSonarCloud() || !canAdmin) {\n    return <>{children}</>;\n  } else {\n    const to = `/${url.substr(SONARQUBE_ADMIN_LINK.length)}`;\n    return (\n      <Link target=\"_blank\" to={to}>\n        {children}\n      </Link>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport util from 'mdast-util-toc';\nimport slug from 'remark-slug';\n\n/**\n * This is a simplified version of the remark-toc plugin: https://github.com/remarkjs/remark-toc\n * It *only* renders the TOC, and leaves all the rest out.\n */\nexport default function onlyToc() {\n  this.use(slug);\n\n  return transformer;\n\n  function transformer(node) {\n    const result = util(node, { heading: 'doctoc', maxDepth: 2 });\n\n    if (result.index === null || result.index === -1 || !result.map) {\n      node.children = [];\n    } else {\n      node.children = [result.map];\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { debounce, memoize } from 'lodash';\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport remark from 'remark';\nimport reactRenderer from 'remark-react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport onlyToc from './plugins/remark-only-toc';\n\ninterface Props {\n  content: string;\n  onAnchorClick: (href: string, event: React.MouseEvent<HTMLAnchorElement>) => void;\n}\n\ninterface State {\n  anchors: AnchorObject[];\n  highlightAnchor?: string;\n}\n\ninterface AnchorObject {\n  href: string;\n  title: string;\n}\n\nexport default class DocToc extends React.PureComponent<Props, State> {\n  debouncedScrollHandler: () => void;\n\n  node: HTMLDivElement | null = null;\n\n  state: State = { anchors: [] };\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedScrollHandler = debounce(this.scrollHandler);\n  }\n\n  static getDerivedStateFromProps(props: Props) {\n    const { content } = props;\n    return { anchors: DocToc.getAnchors(content) };\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.debouncedScrollHandler, true);\n    this.scrollHandler();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.debouncedScrollHandler, true);\n  }\n\n  static getAnchors = memoize((content: string) => {\n    const file: { contents: JSX.Element } = remark()\n      .use(reactRenderer)\n      .use(onlyToc)\n      .processSync('\\n## doctoc\\n' + content);\n\n    if (file && file.contents.props.children) {\n      let list = file.contents;\n      let limit = 10;\n      while (limit && list.props.children.length && list.type !== 'ul') {\n        list = list.props.children[0];\n        limit--;\n      }\n\n      if (list.type === 'ul' && list.props.children.length) {\n        return list.props.children\n          .map((li: JSX.Element | string) => {\n            if (typeof li === 'string') {\n              return null;\n            }\n\n            const anchor = li.props.children[0];\n            return {\n              href: anchor.props.href,\n              title: anchor.props.children[0]\n            } as AnchorObject;\n          })\n          .filter((item: AnchorObject | null) => item);\n      }\n    }\n    return [];\n  });\n\n  scrollHandler = () => {\n    // eslint-disable-next-line react/no-find-dom-node\n    const node = findDOMNode(this) as HTMLElement;\n\n    if (!node || !node.parentNode) {\n      return;\n    }\n\n    const headings: NodeListOf<HTMLHeadingElement> = node.parentNode.querySelectorAll('h2[id]');\n    const scrollTop = window.pageYOffset || document.body.scrollTop;\n    let highlightAnchor;\n\n    for (let i = 0, len = headings.length; i < len; i++) {\n      if (headings.item(i).offsetTop > scrollTop + 120) {\n        break;\n      }\n      highlightAnchor = `#${headings.item(i).id}`;\n    }\n\n    this.setState({\n      highlightAnchor\n    });\n  };\n\n  render() {\n    const { anchors, highlightAnchor } = this.state;\n\n    if (anchors.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"markdown-toc\">\n        <div className=\"markdown-toc-content\">\n          <h4>{translate('documentation.on_this_page')}</h4>\n          {anchors.map(anchor => {\n            return (\n              <a\n                className={classNames({ active: highlightAnchor === anchor.href })}\n                href={anchor.href}\n                key={anchor.title}\n                onClick={(event: React.MouseEvent<HTMLAnchorElement>) => {\n                  this.props.onAnchorClick(anchor.href, event);\n                }}>\n                {anchor.title}\n              </a>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { forEach } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\n\ninterface OwnProps {\n  customProps?: T.Dict<string>;\n}\n\ntype Props = OwnProps & React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\nconst SONARCLOUD_LINK = '/#sonarcloud#/';\n\nexport default function DocTooltipLink({ children, customProps, href, ...other }: Props) {\n  if (customProps) {\n    forEach(customProps, (value, key) => {\n      if (href) {\n        href = href.replace(`#${key}#`, encodeURIComponent(value));\n      }\n    });\n  }\n\n  if (href && href.startsWith('/')) {\n    if (href.startsWith(SONARCLOUD_LINK)) {\n      href = `/${href.substr(SONARCLOUD_LINK.length)}`;\n    } else {\n      href = `/documentation/${href.substr(1)}`;\n    }\n\n    return (\n      <Link rel=\"noopener noreferrer\" target=\"_blank\" to={href} {...other}>\n        {children}\n      </Link>\n    );\n  }\n\n  return (\n    <>\n      <a href={href} rel=\"noopener noreferrer\" target=\"_blank\" {...other}>\n        {children}\n      </a>\n      <DetachIcon className=\"little-spacer-left little-spacer-right text-baseline\" size={12} />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport rehypeRaw from 'rehype-raw';\nimport rehypeReact from 'rehype-react';\nimport remark from 'remark';\nimport remarkCustomBlocks from 'remark-custom-blocks';\nimport remarkRehype from 'remark-rehype';\nimport slug from 'remark-slug';\nimport MetaData from 'sonar-ui-common/components/ui/update-center/MetaData';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport DocCollapsibleBlock from './DocCollapsibleBlock';\nimport DocImg from './DocImg';\nimport DocLink from './DocLink';\nimport './DocMarkdownBlock.css';\nimport DocToc from './DocToc';\nimport DocTooltipLink from './DocTooltipLink';\n\ninterface Props {\n  childProps?: T.Dict<string>;\n  className?: string;\n  content: string;\n  isTooltip?: boolean;\n  stickyToc?: boolean;\n  title?: string;\n}\n\nexport default class DocMarkdownBlock extends React.PureComponent<Props> {\n  node: HTMLElement | null = null;\n\n  handleAnchorClick = (href: string, event: React.MouseEvent<HTMLAnchorElement>) => {\n    if (this.node) {\n      const element = this.node.querySelector(href);\n      if (element) {\n        event.preventDefault();\n        scrollToElement(element, { bottomOffset: window.innerHeight - 80 });\n        if (history.pushState) {\n          history.pushState(null, '', href);\n        }\n      }\n    }\n  };\n\n  render() {\n    const { childProps, content, className, title, stickyToc, isTooltip } = this.props;\n\n    const md = remark();\n\n    // TODO find a way to replace these custom blocks with real Alert components\n    md.use(remarkCustomBlocks, {\n      danger: { classes: 'alert alert-danger' },\n      warning: { classes: 'alert alert-warning' },\n      info: { classes: 'alert alert-info' },\n      success: { classes: 'alert alert-success' },\n      collapse: { classes: 'collapse' }\n    })\n      .use(remarkRehype, { allowDangerousHTML: true })\n      .use(rehypeRaw)\n      .use(rehypeReact, {\n        createElement: React.createElement,\n        components: {\n          div: Block,\n          // use custom link to render documentation anchors\n          a: isTooltip\n            ? withChildProps(DocTooltipLink, childProps)\n            : withChildProps(DocLink, { onAnchorClick: this.handleAnchorClick }),\n          // use custom img tag to render documentation images\n          img: DocImg,\n          'update-center': ({ updatecenterkey }: { updatecenterkey: string }) => (\n            <MetaData updateCenterKey={updatecenterkey} />\n          )\n        }\n      })\n      .use(slug);\n\n    return (\n      <div\n        className={classNames('markdown', className, { 'has-toc': stickyToc })}\n        ref={ref => (this.node = ref)}>\n        <div className=\"markdown-content\">\n          {title !== undefined && <h1 className=\"documentation-title\">{title}</h1>}\n          {md.processSync(content).contents}\n        </div>\n        {stickyToc && <DocToc content={content} onAnchorClick={this.handleAnchorClick} />}\n      </div>\n    );\n  }\n}\n\nfunction withChildProps<P>(\n  WrappedComponent: React.ComponentType<P & { customProps?: T.Dict<any> }>,\n  childProps?: T.Dict<any>\n) {\n  return function withChildProps(props: P) {\n    return <WrappedComponent customProps={childProps} {...props} />;\n  };\n}\n\nfunction Block(props: React.HtmlHTMLAttributes<HTMLDivElement>) {\n  if (props.className) {\n    if (props.className.includes('collapse')) {\n      return <DocCollapsibleBlock>{props.children}</DocCollapsibleBlock>;\n    } else {\n      return <div className={classNames('cut-margins', props.className)}>{props.children}</div>;\n    }\n  } else {\n    return props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { findLastIndex } from 'lodash';\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface Plugin {\n  key: string;\n  name: string;\n  category?: string;\n  description?: string;\n  editionBundled?: boolean;\n  license?: string;\n  organizationName?: string;\n  homepageUrl?: string;\n  organizationUrl?: string;\n  issueTrackerUrl?: string;\n  termsAndConditionsUrl?: string;\n}\n\nexport interface Release {\n  version: string;\n  date: string;\n  description?: string;\n  changeLogUrl?: string;\n}\n\nexport interface Update {\n  status: string;\n  release?: Release;\n  requires: Plugin[];\n  previousUpdates?: Update[];\n}\n\nexport interface PluginPendingResult {\n  installing: PluginPending[];\n  updating: PluginPending[];\n  removing: PluginPending[];\n}\n\nexport interface PluginAvailable extends Plugin {\n  release: Release;\n  update: Update;\n}\n\nexport interface PluginPending extends Plugin {\n  version: string;\n  implementationBuild: string;\n}\n\nexport interface PluginInstalled extends PluginPending {\n  documentationPath?: string;\n  filename: string;\n  hash: string;\n  sonarLintSupported: boolean;\n  updatedAt: number;\n  updates?: Update[];\n}\n\nexport function getAvailablePlugins(): Promise<{\n  plugins: PluginAvailable[];\n  updateCenterRefresh: string;\n}> {\n  return getJSON('/api/plugins/available').catch(throwGlobalError);\n}\n\nexport function getPendingPlugins(): Promise<PluginPendingResult> {\n  return getJSON('/api/plugins/pending').catch(throwGlobalError);\n}\n\nfunction getLastUpdates(updates: undefined | Update[]): Update[] {\n  if (!updates) {\n    return [];\n  }\n  const lastUpdate = ['COMPATIBLE', 'REQUIRES_SYSTEM_UPGRADE', 'DEPS_REQUIRE_SYSTEM_UPGRADE'].map(\n    status => {\n      const index = findLastIndex(updates, update => update.status === status);\n      return index > -1 ? updates[index] : undefined;\n    }\n  );\n  return lastUpdate.filter(isDefined);\n}\n\nfunction addChangelog(update: Update, updates?: Update[]) {\n  if (!updates) {\n    return update;\n  }\n  const index = updates.indexOf(update);\n  const previousUpdates = index > 0 ? updates.slice(0, index) : [];\n  return { ...update, previousUpdates };\n}\n\nexport function getInstalledPlugins(): Promise<PluginInstalled[]> {\n  return getJSON('/api/plugins/installed', { f: 'category' }).then(\n    ({ plugins }) => plugins,\n    throwGlobalError\n  );\n}\n\nexport function getInstalledPluginsWithUpdates(): Promise<PluginInstalled[]> {\n  return Promise.all([\n    getJSON('/api/plugins/installed', { f: 'category' }),\n    getJSON('/api/plugins/updates')\n  ])\n    .then(([installed, updates]) =>\n      installed.plugins.map((plugin: PluginInstalled) => {\n        const updatePlugin: PluginInstalled = updates.plugins.find(\n          (p: PluginInstalled) => p.key === plugin.key\n        );\n        if (updatePlugin) {\n          return {\n            ...updatePlugin,\n            ...plugin,\n            updates: getLastUpdates(updatePlugin.updates).map(update =>\n              addChangelog(update, updatePlugin.updates)\n            )\n          };\n        }\n        return plugin;\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function getPluginUpdates(): Promise<PluginInstalled[]> {\n  return Promise.all([getJSON('/api/plugins/updates'), getJSON('/api/plugins/installed')])\n    .then(([updates, installed]) =>\n      updates.plugins.map((updatePlugin: PluginInstalled) => {\n        const updates = getLastUpdates(updatePlugin.updates).map(update =>\n          addChangelog(update, updatePlugin.updates)\n        );\n        const plugin = installed.plugins.find((p: PluginInstalled) => p.key === updatePlugin.key);\n        if (plugin) {\n          return {\n            ...plugin,\n            ...updatePlugin,\n            updates\n          };\n        }\n        return { ...updatePlugin, updates };\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function installPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/install', data).catch(throwGlobalError);\n}\n\nexport function uninstallPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/uninstall', data).catch(throwGlobalError);\n}\n\nexport function updatePlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/update', data).catch(throwGlobalError);\n}\n\nexport function cancelPendingPlugins(): Promise<void | Response> {\n  return post('/api/plugins/cancel_all').catch(throwGlobalError);\n}\n"],"sourceRoot":""}