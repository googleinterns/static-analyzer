{"version":3,"sources":["webpack:///./src/main/js/api/user_groups.ts","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNowHourPrecision.js","webpack:///./src/main/js/apps/users/components/TokensFormItem.tsx","webpack:///./src/main/js/apps/users/components/TokensFormNewToken.tsx","webpack:///./src/main/js/apps/users/components/TokensForm.tsx","webpack:///./src/main/js/apps/users/components/UserScmAccountInput.tsx","webpack:///./src/main/js/apps/users/components/UserForm.tsx","webpack:///./src/main/js/apps/users/Header.tsx","webpack:///./src/main/js/apps/users/Search.tsx","webpack:///./src/main/js/apps/users/components/TokensFormModal.tsx","webpack:///./src/main/js/apps/users/components/DeactivateForm.tsx","webpack:///./src/main/js/apps/users/components/PasswordForm.tsx","webpack:///./src/main/js/apps/users/components/UserActions.tsx","webpack:///./src/main/js/apps/users/components/GroupsForm.tsx","webpack:///./src/main/js/apps/users/components/UserGroups.tsx","webpack:///./src/main/js/apps/users/components/UserListItemIdentity.tsx","webpack:///./src/main/js/apps/users/components/UserScmAccounts.tsx","webpack:///./src/main/js/apps/users/components/UserListItem.tsx","webpack:///./src/main/js/apps/users/UsersList.tsx","webpack:///./src/main/js/apps/users/utils.ts","webpack:///./src/main/js/apps/users/UsersApp.tsx","webpack:///./src/main/js/apps/users/UsersAppContainer.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/intl/DateTimeFormatter.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/ModalButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/ActionsDropdown.js","webpack:///./node_modules/sonar-ui-common/components/icons/SettingsIcon.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/sonar-ui-common/components/icons/BulletListIcon.js","webpack:///./src/main/js/api/user-tokens.ts"],"names":["searchUsersGroups","data","catch","getUsersInGroup","addUserToGroup","removeUserFromGroup","createGroup","then","r","updateGroup","deleteGroup","Object","defineProperty","exports","value","date_fns_1","React","l10n_1","Tooltip_1","DateFromNow_1","DateTimeFormatter_1","default","props","_a","children","f","date","differenceInHours","Date","now","translate","createElement","overlay","mounted","state","loading","showConfirmation","handleClick","handleRevoke","setState","login","name","token","onRevokeToken","componentDidMount","this","componentWillUnmount","render","deleteConfirmation","className","lastConnectionDate","createdAt","long","confirmButtonText","isDestructive","modalBody","defaultMessage","id","values","modalHeader","onConfirm","onClick","disabled","title","TokensFormNewToken","Alert","variant","copyValue","generating","newTokenName","tokens","fetchTokens","updateTokensCount","length","handleGenerateToken","evt","preventDefault","newToken","handleRevokeToken","revokedToken","filter","handleNewTokenChange","currentTarget","renderItems","colSpan","map","key","customSpinner","autoComplete","onSubmit","maxLength","onChange","placeholder","required","type","handleChange","event","idx","handleRemove","onRemove","scmAccount","handleError","response","includes","status","errorMsg","error","throwGlobalError","handleEmailChange","email","handleLoginChange","handleNameChange","handlePasswordChange","password","handleCreateUser","undefined","scmAccounts","onUpdateUsers","onClose","handleUpdateUser","user","local","handleAddScmAccount","concat","handleUpdateScmAccount","slice","handleRemoveScmAccount","header","size","onCloseClick","onFormSubmit","submitting","htmlFor","autoFocus","minLength","scm","openUserForm","handleOpenUserForm","handleCloseUserForm","handleSearch","search","updateQuery","query","TokensFormModal","contentLabel","onRequestClose","TokensForm","handleDeactivate","confirmPassword","newPassword","oldPassword","handleConfirmPasswordChange","handleNewPasswordChange","handleOldPasswordChange","handleChangePassword","previousPassword","addGlobalSuccessMessage","isCurrentUser","handleOpenDeactivateForm","openForm","handleOpenPasswordForm","handleOpenUpdateForm","handleCloseForm","renderActions","ActionsDropdown","destructive","fetchUsers","searchParams","organization","p","page","ps","pageSize","q","selected","prevState","more","groups","newSeletedGroups","gp","selectedGroups","lastSearchParams","needToReload","groupsTotalCount","paging","total","handleSelect","handleUnselect","handleCloseClick","handleClose","renderElement","group","description","elements","elementsTotalCount","SelectList","All","onSearch","onSelect","onUnselect","selectedElements","withPaging","href","showMore","handleOpenForm","toggleShowMore","limit","GROUPS_LIMIT","tooltip","UserListItemIdentity","identityProvider","externalProvider","ExternalProvider","style","backgroundColor","color","secondFontColor","alt","height","src","iconPath","width","externalIdentity","SCM_LIMIT","openTokenForm","handleOpenTokensForm","handleCloseTokensForm","organizationsEnabled","Avatar","hash","avatar","tokensCount","UsersList","currentUser","identityProviders","users","find","provider","isLoggedIn","parseQuery","urlQuery","serializeQuery","finishLoading","fetchIdentityProviders","location","fetchMoreUsers","pageIndex","newQuery","router","push","componentWillReceiveProps","nextProps","Suggestions","suggestions","defer","count","loadMore","ready","withRouter","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","componentDidUpdate","prevProps","__assign","assign","t","s","i","n","arguments","prototype","hasOwnProperty","call","apply","react_intl_1","dates_1","formatterOption","year","month","day","hour","minute","FormattedDate","parseDate","toNumber","module","FormattedRelative","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","__","constructor","create","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","ConfirmModal_1","ModalButton_1","ConfirmButton","_super","_this","renderConfirmModal","_b","modalHeaderDescription","confirmModalProps","headerDescription","modal","PureComponent","ModalButton","handleButtonClick","handleFormSubmit","handleCloseModal","Fragment","classNames","react_router_1","DropdownIcon_1","SettingsIcon_1","buttons_1","clipboard_1","Dropdown_1","overlayPlacement","small","toggleClassName","onOpen","Button","ActionsDropdownItem","blur","download","to","Link","ClipboardBase","setCopyButton","copySuccess","visible","ref","ActionsDropdownDivider","Icon_1","fill","_c","viewBox","transform","toFinite","result","remainder","array","predicate","fromIndex","fromRight","index","message","dispatch","baseIteratee","isArrayLike","keys","findIndexFunc","collection","iterable","iteratee","createFind","baseFindIndex","toInteger","nativeMax","Math","max","getTokens","generateToken","revokeToken"],"mappings":"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","file":"js/329.1588858339197.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function searchUsersGroups(data: {\n  f?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n}): Promise<{ groups: T.Group[]; paging: T.Paging }> {\n  return getJSON('/api/user_groups/search', data).catch(throwGlobalError);\n}\n\nexport function getUsersInGroup(data: {\n  id?: number;\n  name?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<T.Paging & { users: T.UserSelected[] }> {\n  return getJSON('/api/user_groups/users', data).catch(throwGlobalError);\n}\n\nexport function addUserToGroup(data: {\n  id?: string;\n  name?: string;\n  login?: string;\n  organization?: string;\n}) {\n  return post('/api/user_groups/add_user', data).catch(throwGlobalError);\n}\n\nexport function removeUserFromGroup(data: {\n  id?: string;\n  name?: string;\n  login?: string;\n  organization?: string;\n}) {\n  return post('/api/user_groups/remove_user', data).catch(throwGlobalError);\n}\n\nexport function createGroup(data: {\n  description?: string;\n  organization: string | undefined;\n  name: string;\n}): Promise<T.Group> {\n  return postJSON('/api/user_groups/create', data).then(r => r.group, throwGlobalError);\n}\n\nexport function updateGroup(data: { description?: string; id: number; name?: string }) {\n  return post('/api/user_groups/update', data).catch(throwGlobalError);\n}\n\nexport function deleteGroup(data: { name: string; organization: string | undefined }) {\n  return post('/api/user_groups/delete', data).catch(throwGlobalError);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar date_fns_1 = require(\"date-fns\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nvar DateFromNow_1 = require(\"./DateFromNow\");\nvar DateTimeFormatter_1 = require(\"./DateTimeFormatter\");\nfunction DateFromNowHourPrecision(props) {\n    var _a = props.children, children = _a === void 0 ? function (f) { return f; } : _a, date = props.date;\n    if (!date) {\n        return children(l10n_1.translate('never'));\n    }\n    if (date_fns_1.differenceInHours(Date.now(), date) < 1) {\n        return children(l10n_1.translate('less_than_1_hour_ago'));\n    }\n    return (React.createElement(Tooltip_1.default, { overlay: React.createElement(DateTimeFormatter_1.default, { date: date }) },\n        React.createElement(\"span\", null,\n            React.createElement(DateFromNow_1.default, { date: date }, children))));\n}\nexports.default = DateFromNowHourPrecision;\n//# sourceMappingURL=DateFromNowHourPrecision.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNowHourPrecision from 'sonar-ui-common/components/intl/DateFromNowHourPrecision';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { revokeToken } from '../../../api/user-tokens';\n\nexport type TokenDeleteConfirmation = 'inline' | 'modal';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  onRevokeToken: (token: T.UserToken) => void;\n  token: T.UserToken;\n}\n\ninterface State {\n  loading: boolean;\n  showConfirmation: boolean;\n}\n\nexport default class TokensFormItem extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false, showConfirmation: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    if (this.state.showConfirmation) {\n      this.handleRevoke().then(() => {\n        if (this.mounted) {\n          this.setState({ showConfirmation: false });\n        }\n      });\n    } else {\n      this.setState({ showConfirmation: true });\n    }\n  };\n\n  handleRevoke = () => {\n    this.setState({ loading: true });\n    return revokeToken({ login: this.props.login, name: this.props.token.name }).then(\n      () => this.props.onRevokeToken(this.props.token),\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { deleteConfirmation, token } = this.props;\n    const { loading, showConfirmation } = this.state;\n    return (\n      <tr>\n        <td>\n          <Tooltip overlay={token.name}>\n            <span>{limitComponentName(token.name)}</span>\n          </Tooltip>\n        </td>\n        <td className=\"nowrap\">\n          <DateFromNowHourPrecision date={token.lastConnectionDate} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DateFormatter date={token.createdAt} long={true} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DeferredSpinner loading={loading}>\n            <i className=\"deferred-spinner-placeholder\" />\n          </DeferredSpinner>\n          {deleteConfirmation === 'modal' ? (\n            <ConfirmButton\n              confirmButtonText={translate('users.tokens.revoke_token')}\n              isDestructive={true}\n              modalBody={\n                <FormattedMessage\n                  defaultMessage={translate('users.tokens.sure_X')}\n                  id=\"users.tokens.sure_X\"\n                  values={{ token: <strong>{token.name}</strong> }}\n                />\n              }\n              modalHeader={translate('users.tokens.revoke_token')}\n              onConfirm={this.handleRevoke}>\n              {({ onClick }) => (\n                <Button\n                  className=\"spacer-left button-red input-small\"\n                  disabled={loading}\n                  onClick={onClick}\n                  title={translate('users.tokens.revoke_token')}>\n                  {translate('users.tokens.revoke')}\n                </Button>\n              )}\n            </ConfirmButton>\n          ) : (\n            <Button\n              className=\"button-red input-small spacer-left\"\n              disabled={loading}\n              onClick={this.handleClick}>\n              {showConfirmation ? translate('users.tokens.sure') : translate('users.tokens.revoke')}\n            </Button>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  token: { name: string; token: string };\n}\n\nexport default function TokensFormNewToken({ token }: Props) {\n  return (\n    <div className=\"panel panel-white big-spacer-top\">\n      <Alert variant=\"warning\">\n        {translateWithParameters('users.tokens.new_token_created', token.name)}\n      </Alert>\n      <ClipboardButton copyValue={token.token} />\n      <code className=\"big-spacer-left text-success\">{token.token}</code>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens } from '../../../api/user-tokens';\nimport TokensFormItem, { TokenDeleteConfirmation } from './TokensFormItem';\nimport TokensFormNewToken from './TokensFormNewToken';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  updateTokensCount?: (login: string, tokensCount: number) => void;\n}\n\ninterface State {\n  generating: boolean;\n  loading: boolean;\n  newToken?: { name: string; token: string };\n  newTokenName: string;\n  tokens: T.UserToken[];\n}\n\nexport default class TokensForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    generating: false,\n    loading: true,\n    newTokenName: '',\n    tokens: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchTokens();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchTokens = () => {\n    this.setState({ loading: true });\n    getTokens(this.props.login).then(\n      tokens => {\n        if (this.mounted) {\n          this.setState({ loading: false, tokens });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  updateTokensCount = () => {\n    if (this.props.updateTokensCount) {\n      this.props.updateTokensCount(this.props.login, this.state.tokens.length);\n    }\n  };\n\n  handleGenerateToken = (evt: React.SyntheticEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    if (this.state.newTokenName.length > 0) {\n      this.setState({ generating: true });\n      generateToken({ name: this.state.newTokenName, login: this.props.login }).then(\n        newToken => {\n          if (this.mounted) {\n            this.setState(state => {\n              const tokens = [\n                ...state.tokens,\n                { name: newToken.name, createdAt: newToken.createdAt }\n              ];\n              return { generating: false, newToken, newTokenName: '', tokens };\n            }, this.updateTokensCount);\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ generating: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleRevokeToken = (revokedToken: T.UserToken) => {\n    this.setState(\n      state => ({\n        tokens: state.tokens.filter(token => token.name !== revokedToken.name)\n      }),\n      this.updateTokensCount\n    );\n  };\n\n  handleNewTokenChange = (evt: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ newTokenName: evt.currentTarget.value });\n\n  renderItems() {\n    const { tokens } = this.state;\n    if (tokens.length <= 0) {\n      return (\n        <tr>\n          <td className=\"note\" colSpan={3}>\n            {translate('users.no_tokens')}\n          </td>\n        </tr>\n      );\n    }\n    return tokens.map(token => (\n      <TokensFormItem\n        deleteConfirmation={this.props.deleteConfirmation}\n        key={token.name}\n        login={this.props.login}\n        onRevokeToken={this.handleRevokeToken}\n        token={token}\n      />\n    ));\n  }\n\n  render() {\n    const { generating, loading, newToken, newTokenName, tokens } = this.state;\n    const customSpinner = (\n      <tr>\n        <td>\n          <i className=\"spinner\" />\n        </td>\n      </tr>\n    );\n    return (\n      <>\n        <h3 className=\"spacer-bottom\">{translate('users.generate_tokens')}</h3>\n        <form\n          autoComplete=\"off\"\n          className=\"display-flex-center\"\n          id=\"generate-token-form\"\n          onSubmit={this.handleGenerateToken}>\n          <input\n            className=\"input-large spacer-right\"\n            maxLength={100}\n            onChange={this.handleNewTokenChange}\n            placeholder={translate('users.enter_token_name')}\n            required={true}\n            type=\"text\"\n            value={newTokenName}\n          />\n          <SubmitButton\n            className=\"js-generate-token\"\n            disabled={generating || newTokenName.length <= 0}>\n            {translate('users.generate')}\n          </SubmitButton>\n        </form>\n\n        {newToken && <TokensFormNewToken token={newToken} />}\n\n        <table className=\"data zebra big-spacer-top\">\n          <thead>\n            <tr>\n              <th>{translate('name')}</th>\n              <th>{translate('my_account.tokens_last_usage')}</th>\n              <th className=\"text-right\">{translate('created')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            <DeferredSpinner customSpinner={customSpinner} loading={loading && tokens.length <= 0}>\n              {this.renderItems()}\n            </DeferredSpinner>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DeleteButton } from 'sonar-ui-common/components/controls/buttons';\n\nexport interface Props {\n  idx: number;\n  scmAccount: string;\n  onChange: (idx: number, scmAccount: string) => void;\n  onRemove: (idx: number) => void;\n}\n\nexport default class UserScmAccountInput extends React.PureComponent<Props> {\n  handleChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.props.onChange(this.props.idx, event.currentTarget.value);\n\n  handleRemove = () => this.props.onRemove(this.props.idx);\n\n  render() {\n    return (\n      <div className=\"js-scm-account display-flex-row spacer-bottom\">\n        <input\n          maxLength={255}\n          onChange={this.handleChange}\n          type=\"text\"\n          value={this.props.scmAccount}\n        />\n        <DeleteButton onClick={this.handleRemove} />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { Button, ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { parseError } from 'sonar-ui-common/helpers/request';\nimport { createUser, updateUser } from '../../../api/users';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport UserScmAccountInput from './UserScmAccountInput';\n\nexport interface Props {\n  onClose: () => void;\n  onUpdateUsers: () => void;\n  user?: T.User;\n}\n\ninterface State {\n  email: string;\n  error?: string;\n  login: string;\n  name: string;\n  password: string;\n  scmAccounts: string[];\n}\n\nexport default class UserForm extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const { user } = props;\n    if (user) {\n      this.state = {\n        email: user.email || '',\n        login: user.login,\n        name: user.name || '',\n        password: '',\n        scmAccounts: user.scmAccounts || []\n      };\n    } else {\n      this.state = {\n        email: '',\n        login: '',\n        name: '',\n        password: '',\n        scmAccounts: []\n      };\n    }\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleError = (response: Response) => {\n    if (!this.mounted || ![400, 500].includes(response.status)) {\n      return throwGlobalError(response);\n    } else {\n      return parseError(response).then(\n        errorMsg => this.setState({ error: errorMsg }),\n        throwGlobalError\n      );\n    }\n  };\n\n  handleEmailChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ email: event.currentTarget.value });\n\n  handleLoginChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ login: event.currentTarget.value });\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ name: event.currentTarget.value });\n\n  handlePasswordChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ password: event.currentTarget.value });\n\n  handleCreateUser = () => {\n    return createUser({\n      email: this.state.email || undefined,\n      login: this.state.login,\n      name: this.state.name,\n      password: this.state.password,\n      scmAccount: uniq(this.state.scmAccounts)\n    }).then(() => {\n      this.props.onUpdateUsers();\n      this.props.onClose();\n    }, this.handleError);\n  };\n\n  handleUpdateUser = () => {\n    const { user } = this.props;\n    return updateUser({\n      email: user!.local ? this.state.email : undefined,\n      login: this.state.login,\n      name: user!.local ? this.state.name : undefined,\n      scmAccount: uniq(this.state.scmAccounts)\n    }).then(() => {\n      this.props.onUpdateUsers();\n      this.props.onClose();\n    }, this.handleError);\n  };\n\n  handleAddScmAccount = () => {\n    this.setState(({ scmAccounts }) => ({ scmAccounts: scmAccounts.concat('') }));\n  };\n\n  handleUpdateScmAccount = (idx: number, scmAccount: string) =>\n    this.setState(({ scmAccounts: oldScmAccounts }) => {\n      const scmAccounts = oldScmAccounts.slice();\n      scmAccounts[idx] = scmAccount;\n      return { scmAccounts };\n    });\n\n  handleRemoveScmAccount = (idx: number) =>\n    this.setState(({ scmAccounts }) => ({\n      scmAccounts: scmAccounts.slice(0, idx).concat(scmAccounts.slice(idx + 1))\n    }));\n\n  render() {\n    const { user } = this.props;\n    const { error } = this.state;\n\n    const header = user ? translate('users.update_user') : translate('users.create_user');\n    return (\n      <SimpleModal\n        header={header}\n        onClose={this.props.onClose}\n        onSubmit={user ? this.handleUpdateUser : this.handleCreateUser}\n        size=\"small\">\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form autoComplete=\"off\" id=\"user-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body modal-container\">\n              {error && <Alert variant=\"error\">{error}</Alert>}\n\n              {!error && user && !user.local && (\n                <Alert variant=\"warning\">{translate('users.cannot_update_delegated_user')}</Alert>\n              )}\n\n              {!user && (\n                <div className=\"modal-field\">\n                  <label htmlFor=\"create-user-login\">\n                    {translate('login')}\n                    <em className=\"mandatory\">*</em>\n                  </label>\n                  {/* keep this fake field to hack browser autofill */}\n                  <input className=\"hidden\" name=\"login-fake\" type=\"text\" />\n                  <input\n                    autoFocus={true}\n                    id=\"create-user-login\"\n                    maxLength={255}\n                    minLength={3}\n                    name=\"login\"\n                    onChange={this.handleLoginChange}\n                    required={true}\n                    type=\"text\"\n                    value={this.state.login}\n                  />\n                  <p className=\"note\">{translateWithParameters('users.minimum_x_characters', 3)}</p>\n                </div>\n              )}\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-user-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                {/* keep this fake field to hack browser autofill */}\n                <input className=\"hidden\" name=\"name-fake\" type=\"text\" />\n                <input\n                  autoFocus={!!user}\n                  disabled={user && !user.local}\n                  id=\"create-user-name\"\n                  maxLength={200}\n                  name=\"name\"\n                  onChange={this.handleNameChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-user-email\">{translate('users.email')}</label>\n                {/* keep this fake field to hack browser autofill */}\n                <input className=\"hidden\" name=\"email-fake\" type=\"email\" />\n                <input\n                  disabled={user && !user.local}\n                  id=\"create-user-email\"\n                  maxLength={100}\n                  name=\"email\"\n                  onChange={this.handleEmailChange}\n                  type=\"email\"\n                  value={this.state.email}\n                />\n              </div>\n              {!user && (\n                <div className=\"modal-field\">\n                  <label htmlFor=\"create-user-password\">\n                    {translate('password')}\n                    <em className=\"mandatory\">*</em>\n                  </label>\n                  {/* keep this fake field to hack browser autofill */}\n                  <input className=\"hidden\" name=\"password-fake\" type=\"password\" />\n                  <input\n                    id=\"create-user-password\"\n                    maxLength={50}\n                    name=\"password\"\n                    onChange={this.handlePasswordChange}\n                    required={true}\n                    type=\"password\"\n                    value={this.state.password}\n                  />\n                </div>\n              )}\n              <div className=\"modal-field\">\n                <label>{translate('my_profile.scm_accounts')}</label>\n                {this.state.scmAccounts.map((scm, idx) => (\n                  <UserScmAccountInput\n                    idx={idx}\n                    key={idx}\n                    onChange={this.handleUpdateScmAccount}\n                    onRemove={this.handleRemoveScmAccount}\n                    scmAccount={scm}\n                  />\n                ))}\n                <div className=\"spacer-bottom\">\n                  <Button className=\"js-scm-account-add\" onClick={this.handleAddScmAccount}>\n                    {translate('add_verb')}\n                  </Button>\n                </div>\n                <p className=\"note\">{translate('user.login_or_email_used_as_scm_account')}</p>\n              </div>\n            </div>\n\n            <footer className=\"modal-foot\">\n              {submitting && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={submitting}>\n                {user ? translate('update_verb') : translate('create')}\n              </SubmitButton>\n              <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport UserForm from './components/UserForm';\n\ninterface Props {\n  loading: boolean;\n  onUpdateUsers: () => void;\n}\n\ninterface State {\n  openUserForm: boolean;\n}\n\nexport default class Header extends React.PureComponent<Props, State> {\n  state: State = { openUserForm: false };\n\n  handleOpenUserForm = () => {\n    this.setState({ openUserForm: true });\n  };\n\n  handleCloseUserForm = () => {\n    this.setState({ openUserForm: false });\n  };\n\n  render() {\n    return (\n      <header className=\"page-header\" id=\"users-header\">\n        <h1 className=\"page-title\">{translate('users.page')}</h1>\n        <DeferredSpinner loading={this.props.loading} />\n\n        <div className=\"page-actions\">\n          <Button id=\"users-create\" onClick={this.handleOpenUserForm}>\n            {translate('users.create_user')}\n          </Button>\n        </div>\n\n        <p className=\"page-description\">{translate('users.page.description')}</p>\n        {this.state.openUserForm && (\n          <UserForm onClose={this.handleCloseUserForm} onUpdateUsers={this.props.onUpdateUsers} />\n        )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Query } from './utils';\n\ninterface Props {\n  query: Query;\n  updateQuery: (newQuery: Partial<Query>) => void;\n}\n\nexport default class Search extends React.PureComponent<Props> {\n  handleSearch = (search: string) => {\n    this.props.updateQuery({ search });\n  };\n\n  render() {\n    const { query } = this.props;\n\n    return (\n      <div className=\"panel panel-vertical bordered-bottom spacer-bottom\" id=\"users-search\">\n        <SearchBox\n          minLength={2}\n          onChange={this.handleSearch}\n          placeholder={translate('search.search_by_login_or_name')}\n          value={query.search}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport TokensForm from './TokensForm';\n\ninterface Props {\n  user: T.User;\n  onClose: () => void;\n  updateTokensCount: (login: string, tokensCount: number) => void;\n}\n\nexport default function TokensFormModal(props: Props) {\n  return (\n    <Modal contentLabel={translate('users.tokens')} onRequestClose={props.onClose}>\n      <header className=\"modal-head\">\n        <h2>\n          <FormattedMessage\n            defaultMessage={translate('users.user_X_tokens')}\n            id=\"users.user_X_tokens\"\n            values={{ user: <em>{props.user.name}</em> }}\n          />\n        </h2>\n      </header>\n      <div className=\"modal-body modal-container\">\n        <TokensForm\n          deleteConfirmation=\"inline\"\n          login={props.user.login}\n          updateTokensCount={props.updateTokensCount}\n        />\n      </div>\n      <footer className=\"modal-foot\">\n        <ResetButtonLink onClick={props.onClose}>{translate('Done')}</ResetButtonLink>\n      </footer>\n    </Modal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { deactivateUser } from '../../../api/users';\n\nexport interface Props {\n  onClose: () => void;\n  onUpdateUsers: () => void;\n  user: T.UserActive;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class DeactivateForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDeactivate = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    deactivateUser({ login: this.props.user.login }).then(\n      () => {\n        this.props.onUpdateUsers();\n        this.props.onClose();\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { user } = this.props;\n    const { submitting } = this.state;\n\n    const header = translate('users.deactivate_user');\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form autoComplete=\"off\" id=\"deactivate-user-form\" onSubmit={this.handleDeactivate}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n          <div className=\"modal-body\">\n            {translateWithParameters('users.deactivate_user.confirmation', user.name, user.login)}\n          </div>\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton className=\"js-confirm button-red\" disabled={submitting}>\n              {translate('users.deactivate')}\n            </SubmitButton>\n            <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { parseError } from 'sonar-ui-common/helpers/request';\nimport { changePassword } from '../../../api/users';\nimport addGlobalSuccessMessage from '../../../app/utils/addGlobalSuccessMessage';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\n\ninterface Props {\n  isCurrentUser: boolean;\n  onClose: () => void;\n  user: T.User;\n}\n\ninterface State {\n  confirmPassword: string;\n  error?: string;\n  newPassword: string;\n  oldPassword: string;\n  submitting: boolean;\n}\n\nexport default class PasswordForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    confirmPassword: '',\n    newPassword: '',\n    oldPassword: '',\n    submitting: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleError = (response: Response) => {\n    if (!this.mounted || response.status !== 400) {\n      return throwGlobalError(response);\n    } else {\n      return parseError(response).then(\n        errorMsg => this.setState({ error: errorMsg, submitting: false }),\n        throwGlobalError\n      );\n    }\n  };\n\n  handleConfirmPasswordChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ confirmPassword: event.currentTarget.value });\n\n  handleNewPasswordChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ newPassword: event.currentTarget.value });\n\n  handleOldPasswordChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ oldPassword: event.currentTarget.value });\n\n  handleChangePassword = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (\n      this.state.newPassword.length > 0 &&\n      this.state.newPassword === this.state.confirmPassword\n    ) {\n      this.setState({ submitting: true });\n      changePassword({\n        login: this.props.user.login,\n        password: this.state.newPassword,\n        previousPassword: this.state.oldPassword\n      }).then(() => {\n        addGlobalSuccessMessage(translate('my_profile.password.changed'));\n        this.props.onClose();\n      }, this.handleError);\n    }\n  };\n\n  render() {\n    const { error, submitting, newPassword, confirmPassword } = this.state;\n\n    const header = translate('my_profile.password.title');\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form autoComplete=\"off\" id=\"user-password-form\" onSubmit={this.handleChangePassword}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n          <div className=\"modal-body\">\n            {error && <Alert variant=\"error\">{error}</Alert>}\n            {this.props.isCurrentUser && (\n              <div className=\"modal-field\">\n                <label htmlFor=\"old-user-password\">\n                  {translate('my_profile.password.old')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                {/* keep this fake field to hack browser autofill */}\n                <input className=\"hidden\" name=\"old-password-fake\" type=\"password\" />\n                <input\n                  id=\"old-user-password\"\n                  maxLength={50}\n                  name=\"old-password\"\n                  onChange={this.handleOldPasswordChange}\n                  required={true}\n                  type=\"password\"\n                  value={this.state.oldPassword}\n                />\n              </div>\n            )}\n            <div className=\"modal-field\">\n              <label htmlFor=\"user-password\">\n                {translate('my_profile.password.new')}\n                <em className=\"mandatory\">*</em>\n              </label>\n              {/* keep this fake field to hack browser autofill */}\n              <input className=\"hidden\" name=\"password-fake\" type=\"password\" />\n              <input\n                id=\"user-password\"\n                maxLength={50}\n                name=\"password\"\n                onChange={this.handleNewPasswordChange}\n                required={true}\n                type=\"password\"\n                value={this.state.newPassword}\n              />\n            </div>\n            <div className=\"modal-field\">\n              <label htmlFor=\"confirm-user-password\">\n                {translate('my_profile.password.confirm')}\n                <em className=\"mandatory\">*</em>\n              </label>\n              {/* keep this fake field to hack browser autofill */}\n              <input className=\"hidden\" name=\"confirm-password-fake\" type=\"password\" />\n              <input\n                id=\"confirm-user-password\"\n                maxLength={50}\n                name=\"confirm-password\"\n                onChange={this.handleConfirmPasswordChange}\n                required={true}\n                type=\"password\"\n                value={this.state.confirmPassword}\n              />\n            </div>\n          </div>\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={submitting || !newPassword || newPassword !== confirmPassword}>\n              {translate('change_verb')}\n            </SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActionsDropdown, {\n  ActionsDropdownDivider,\n  ActionsDropdownItem\n} from 'sonar-ui-common/components/controls/ActionsDropdown';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isUserActive } from '../../../helpers/users';\nimport DeactivateForm from './DeactivateForm';\nimport PasswordForm from './PasswordForm';\nimport UserForm from './UserForm';\n\ninterface Props {\n  isCurrentUser: boolean;\n  onUpdateUsers: () => void;\n  user: T.User;\n}\n\ninterface State {\n  openForm?: string;\n}\n\nexport default class UserActions extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  handleOpenDeactivateForm = () => {\n    this.setState({ openForm: 'deactivate' });\n  };\n\n  handleOpenPasswordForm = () => {\n    this.setState({ openForm: 'password' });\n  };\n\n  handleOpenUpdateForm = () => {\n    this.setState({ openForm: 'update' });\n  };\n\n  handleCloseForm = () => {\n    this.setState({ openForm: undefined });\n  };\n\n  renderActions = () => {\n    const { user } = this.props;\n    return (\n      <ActionsDropdown>\n        <ActionsDropdownItem className=\"js-user-update\" onClick={this.handleOpenUpdateForm}>\n          {translate('update_details')}\n        </ActionsDropdownItem>\n        {user.local && (\n          <ActionsDropdownItem\n            className=\"js-user-change-password\"\n            onClick={this.handleOpenPasswordForm}>\n            {translate('my_profile.password.title')}\n          </ActionsDropdownItem>\n        )}\n        <ActionsDropdownDivider />\n        {isUserActive(user) && (\n          <ActionsDropdownItem\n            className=\"js-user-deactivate\"\n            destructive={true}\n            onClick={this.handleOpenDeactivateForm}>\n            {translate('users.deactivate')}\n          </ActionsDropdownItem>\n        )}\n      </ActionsDropdown>\n    );\n  };\n\n  render() {\n    const { openForm } = this.state;\n    const { isCurrentUser, onUpdateUsers, user } = this.props;\n\n    return (\n      <>\n        {this.renderActions()}\n        {openForm === 'deactivate' && isUserActive(user) && (\n          <DeactivateForm\n            onClose={this.handleCloseForm}\n            onUpdateUsers={onUpdateUsers}\n            user={user}\n          />\n        )}\n        {openForm === 'password' && (\n          <PasswordForm isCurrentUser={isCurrentUser} onClose={this.handleCloseForm} user={user} />\n        )}\n        {openForm === 'update' && (\n          <UserForm onClose={this.handleCloseForm} onUpdateUsers={onUpdateUsers} user={user} />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { find, without } from 'lodash';\nimport * as React from 'react';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport SelectList, {\n  SelectListFilter,\n  SelectListSearchParams\n} from 'sonar-ui-common/components/controls/SelectList';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getUserGroups, UserGroup } from '../../../api/users';\nimport { addUserToGroup, removeUserFromGroup } from '../../../api/user_groups';\n\ninterface Props {\n  onClose: () => void;\n  onUpdateUsers: () => void;\n  user: T.User;\n}\n\ninterface State {\n  needToReload: boolean;\n  lastSearchParams?: SelectListSearchParams;\n  groups: UserGroup[];\n  groupsTotalCount?: number;\n  selectedGroups: string[];\n}\n\nexport default class GroupsForm extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      needToReload: false,\n      groups: [],\n      selectedGroups: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchUsers = (searchParams: SelectListSearchParams) =>\n    getUserGroups({\n      login: this.props.user.login,\n      organization: undefined,\n      p: searchParams.page,\n      ps: searchParams.pageSize,\n      q: searchParams.query !== '' ? searchParams.query : undefined,\n      selected: searchParams.filter\n    }).then(data => {\n      if (this.mounted) {\n        this.setState(prevState => {\n          const more = searchParams.page != null && searchParams.page > 1;\n\n          const groups = more ? [...prevState.groups, ...data.groups] : data.groups;\n          const newSeletedGroups = data.groups.filter(gp => gp.selected).map(gp => gp.name);\n          const selectedGroups = more\n            ? [...prevState.selectedGroups, ...newSeletedGroups]\n            : newSeletedGroups;\n\n          return {\n            lastSearchParams: searchParams,\n            needToReload: false,\n            groups,\n            groupsTotalCount: data.paging.total,\n            selectedGroups\n          };\n        });\n      }\n    });\n\n  handleSelect = (name: string) =>\n    addUserToGroup({\n      name,\n      login: this.props.user.login\n    }).then(() => {\n      if (this.mounted) {\n        this.setState((state: State) => ({\n          needToReload: true,\n          selectedGroups: [...state.selectedGroups, name]\n        }));\n      }\n    });\n\n  handleUnselect = (name: string) =>\n    removeUserFromGroup({\n      name,\n      login: this.props.user.login\n    }).then(() => {\n      if (this.mounted) {\n        this.setState((state: State) => ({\n          needToReload: true,\n          selectedGroups: without(state.selectedGroups, name)\n        }));\n      }\n    });\n\n  handleCloseClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.handleClose();\n  };\n\n  handleClose = () => {\n    this.props.onUpdateUsers();\n    this.props.onClose();\n  };\n\n  renderElement = (name: string): React.ReactNode => {\n    const group = find(this.state.groups, { name });\n    return (\n      <div className=\"select-list-list-item\">\n        {group === undefined ? (\n          name\n        ) : (\n          <>\n            {group.name}\n            <br />\n            <span className=\"note\">{group.description}</span>\n          </>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const header = translate('users.update_groups');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.handleClose}>\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n\n        <div className=\"modal-body modal-container\">\n          <SelectList\n            elements={this.state.groups.map(group => group.name)}\n            elementsTotalCount={this.state.groupsTotalCount}\n            needToReload={\n              this.state.needToReload &&\n              this.state.lastSearchParams &&\n              this.state.lastSearchParams.filter !== SelectListFilter.All\n            }\n            onSearch={this.fetchUsers}\n            onSelect={this.handleSelect}\n            onUnselect={this.handleUnselect}\n            renderElement={this.renderElement}\n            selectedElements={this.state.selectedGroups}\n            withPaging={true}\n          />\n        </div>\n\n        <footer className=\"modal-foot\">\n          <a className=\"js-modal-close\" href=\"#\" onClick={this.handleCloseClick}>\n            {translate('Done')}\n          </a>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport BulletListIcon from 'sonar-ui-common/components/icons/BulletListIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport GroupsForm from './GroupsForm';\n\ninterface Props {\n  groups: string[];\n  onUpdateUsers: () => void;\n  user: T.User;\n}\n\ninterface State {\n  openForm: boolean;\n  showMore: boolean;\n}\n\nconst GROUPS_LIMIT = 3;\n\nexport default class UserGroups extends React.PureComponent<Props, State> {\n  state: State = { openForm: false, showMore: false };\n\n  handleOpenForm = () => this.setState({ openForm: true });\n  handleCloseForm = () => this.setState({ openForm: false });\n\n  toggleShowMore = (evt: React.SyntheticEvent<HTMLAnchorElement>) => {\n    evt.preventDefault();\n    this.setState(state => ({ showMore: !state.showMore }));\n  };\n\n  render() {\n    const { groups } = this.props;\n    const limit = groups.length > GROUPS_LIMIT ? GROUPS_LIMIT - 1 : GROUPS_LIMIT;\n    return (\n      <ul>\n        {groups.slice(0, limit).map(group => (\n          <li className=\"little-spacer-bottom\" key={group}>\n            {group}\n          </li>\n        ))}\n        {groups.length > GROUPS_LIMIT &&\n          this.state.showMore &&\n          groups.slice(limit).map(group => (\n            <li className=\"little-spacer-bottom\" key={group}>\n              {group}\n            </li>\n          ))}\n        <li className=\"little-spacer-bottom\">\n          {groups.length > GROUPS_LIMIT && !this.state.showMore && (\n            <a className=\"js-user-more-groups spacer-right\" href=\"#\" onClick={this.toggleShowMore}>\n              {translateWithParameters('more_x', groups.length - limit)}\n            </a>\n          )}\n          <ButtonIcon\n            className=\"js-user-groups button-small\"\n            onClick={this.handleOpenForm}\n            tooltip={translate('users.update_groups')}>\n            <BulletListIcon />\n          </ButtonIcon>\n        </li>\n        {this.state.openForm && (\n          <GroupsForm\n            onClose={this.handleCloseForm}\n            onUpdateUsers={this.props.onUpdateUsers}\n            user={this.props.user}\n          />\n        )}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getTextColor } from 'sonar-ui-common/helpers/colors';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { colors } from '../../../app/theme';\n\nexport interface Props {\n  identityProvider?: T.IdentityProvider;\n  user: T.User;\n}\n\nexport default function UserListItemIdentity({ identityProvider, user }: Props) {\n  return (\n    <td className=\"text-middle\">\n      <div>\n        <strong className=\"js-user-name\">{user.name}</strong>\n        <span className=\"js-user-login note little-spacer-left\">{user.login}</span>\n      </div>\n      {user.email && <div className=\"js-user-email little-spacer-top\">{user.email}</div>}\n      {!user.local && user.externalProvider !== 'sonarqube' && (\n        <ExternalProvider identityProvider={identityProvider} user={user} />\n      )}\n    </td>\n  );\n}\n\nexport function ExternalProvider({ identityProvider, user }: Props) {\n  if (!identityProvider) {\n    return (\n      <div className=\"js-user-identity-provider little-spacer-top\">\n        <span>\n          {user.externalProvider}: {user.externalIdentity}\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"js-user-identity-provider little-spacer-top\">\n      <div\n        className=\"identity-provider\"\n        style={{\n          backgroundColor: identityProvider.backgroundColor,\n          color: getTextColor(identityProvider.backgroundColor, colors.secondFontColor)\n        }}>\n        <img\n          alt={identityProvider.name}\n          className=\"little-spacer-right\"\n          height=\"14\"\n          src={getBaseUrl() + identityProvider.iconPath}\n          width=\"14\"\n        />\n        {user.externalIdentity}\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  scmAccounts: string[];\n}\n\ninterface State {\n  showMore: boolean;\n}\n\nconst SCM_LIMIT = 3;\n\nexport default class UserScmAccounts extends React.PureComponent<Props, State> {\n  state: State = { showMore: false };\n\n  toggleShowMore = (evt: React.SyntheticEvent<HTMLAnchorElement>) => {\n    evt.preventDefault();\n    this.setState(state => ({ showMore: !state.showMore }));\n  };\n\n  render() {\n    const { scmAccounts } = this.props;\n    const limit = scmAccounts.length > SCM_LIMIT ? SCM_LIMIT - 1 : SCM_LIMIT;\n    return (\n      <ul className=\"js-scm-accounts\">\n        {scmAccounts.slice(0, limit).map((scmAccount, idx) => (\n          <li className=\"little-spacer-bottom\" key={idx}>\n            {scmAccount}\n          </li>\n        ))}\n        {scmAccounts.length > SCM_LIMIT &&\n          (this.state.showMore ? (\n            scmAccounts.slice(limit).map((scmAccount, idx) => (\n              <li className=\"little-spacer-bottom\" key={idx + limit}>\n                {scmAccount}\n              </li>\n            ))\n          ) : (\n            <li className=\"little-spacer-bottom\">\n              <a className=\"js-user-more-scm\" href=\"#\" onClick={this.toggleShowMore}>\n                {translateWithParameters('more_x', scmAccounts.length - limit)}\n              </a>\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport BulletListIcon from 'sonar-ui-common/components/icons/BulletListIcon';\nimport DateFromNowHourPrecision from 'sonar-ui-common/components/intl/DateFromNowHourPrecision';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../../components/ui/Avatar';\nimport TokensFormModal from './TokensFormModal';\nimport UserActions from './UserActions';\nimport UserGroups from './UserGroups';\nimport UserListItemIdentity from './UserListItemIdentity';\nimport UserScmAccounts from './UserScmAccounts';\n\ninterface Props {\n  identityProvider?: T.IdentityProvider;\n  isCurrentUser: boolean;\n  onUpdateUsers: () => void;\n  organizationsEnabled?: boolean;\n  updateTokensCount: (login: string, tokensCount: number) => void;\n  user: T.User;\n}\n\ninterface State {\n  openTokenForm: boolean;\n}\n\nexport default class UserListItem extends React.PureComponent<Props, State> {\n  state: State = { openTokenForm: false };\n\n  handleOpenTokensForm = () => this.setState({ openTokenForm: true });\n  handleCloseTokensForm = () => this.setState({ openTokenForm: false });\n\n  render() {\n    const { identityProvider, onUpdateUsers, organizationsEnabled, user } = this.props;\n\n    return (\n      <tr>\n        <td className=\"thin nowrap text-middle\">\n          <Avatar hash={user.avatar} name={user.name} size={36} />\n        </td>\n        <UserListItemIdentity identityProvider={identityProvider} user={user} />\n        <td className=\"thin nowrap text-middle\">\n          <UserScmAccounts scmAccounts={user.scmAccounts || []} />\n        </td>\n        <td className=\"thin nowrap text-middle\">\n          <DateFromNowHourPrecision date={user.lastConnectionDate} />\n        </td>\n        {!organizationsEnabled && (\n          <td className=\"thin nowrap text-middle\">\n            <UserGroups groups={user.groups || []} onUpdateUsers={onUpdateUsers} user={user} />\n          </td>\n        )}\n        <td className=\"thin nowrap text-middle\">\n          {user.tokensCount}\n          <ButtonIcon\n            className=\"js-user-tokens spacer-left button-small\"\n            onClick={this.handleOpenTokensForm}\n            tooltip={translate('users.update_tokens')}>\n            <BulletListIcon />\n          </ButtonIcon>\n        </td>\n        <td className=\"thin nowrap text-right text-middle\">\n          <UserActions\n            isCurrentUser={this.props.isCurrentUser}\n            onUpdateUsers={onUpdateUsers}\n            user={user}\n          />\n        </td>\n        {this.state.openTokenForm && (\n          <TokensFormModal\n            onClose={this.handleCloseTokensForm}\n            updateTokensCount={this.props.updateTokensCount}\n            user={user}\n          />\n        )}\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport UserListItem from './components/UserListItem';\n\ninterface Props {\n  currentUser: { isLoggedIn: boolean; login?: string };\n  identityProviders: T.IdentityProvider[];\n  onUpdateUsers: () => void;\n  organizationsEnabled?: boolean;\n  updateTokensCount: (login: string, tokensCount: number) => void;\n  users: T.User[];\n}\n\nexport default function UsersList({\n  currentUser,\n  identityProviders,\n  onUpdateUsers,\n  organizationsEnabled,\n  updateTokensCount,\n  users\n}: Props) {\n  return (\n    <div className=\"boxed-group boxed-group-inner\">\n      <table className=\"data zebra\" id=\"users-list\">\n        <thead>\n          <tr>\n            <th />\n            <th className=\"nowrap\" />\n            <th className=\"nowrap\">{translate('my_profile.scm_accounts')}</th>\n            <th className=\"nowrap\">{translate('users.last_connection')}</th>\n            {!organizationsEnabled && <th className=\"nowrap\">{translate('my_profile.groups')}</th>}\n            <th className=\"nowrap\">{translate('users.tokens')}</th>\n            <th className=\"nowrap\">&nbsp;</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map(user => (\n            <UserListItem\n              identityProvider={identityProviders.find(\n                provider => user.externalProvider === provider.key\n              )}\n              isCurrentUser={currentUser.isLoggedIn && currentUser.login === user.login}\n              key={user.login}\n              onUpdateUsers={onUpdateUsers}\n              organizationsEnabled={organizationsEnabled}\n              updateTokensCount={updateTokensCount}\n              user={user}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport { cleanQuery, parseAsString, serializeString } from 'sonar-ui-common/helpers/query';\n\nexport interface Query {\n  search: string;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery): Query => ({\n    search: parseAsString(urlQuery['search'])\n  })\n);\n\nexport const serializeQuery = memoize(\n  (query: Query): T.RawQuery =>\n    cleanQuery({\n      search: query.search ? serializeString(query.search) : undefined\n    })\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getIdentityProviders, searchUsers } from '../../api/users';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport Header from './Header';\nimport Search from './Search';\nimport UsersList from './UsersList';\nimport { parseQuery, Query, serializeQuery } from './utils';\n\ninterface Props {\n  currentUser: { isLoggedIn: boolean; login?: string };\n  location: Pick<Location, 'query'>;\n  organizationsEnabled?: boolean;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  identityProviders: T.IdentityProvider[];\n  loading: boolean;\n  paging?: T.Paging;\n  users: T.User[];\n}\n\nexport class UsersApp extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { identityProviders: [], loading: true, users: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIdentityProviders();\n    this.fetchUsers();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.location.query.search !== this.props.location.query.search) {\n      this.fetchUsers(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  finishLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  fetchIdentityProviders = () =>\n    getIdentityProviders().then(\n      ({ identityProviders }) => {\n        if (this.mounted) {\n          this.setState({ identityProviders });\n        }\n      },\n      () => {}\n    );\n\n  fetchUsers = ({ location } = this.props) => {\n    this.setState({ loading: true });\n    searchUsers({ q: parseQuery(location.query).search }).then(({ paging, users }) => {\n      if (this.mounted) {\n        this.setState({ loading: false, paging, users });\n      }\n    }, this.finishLoading);\n  };\n\n  fetchMoreUsers = () => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      searchUsers({\n        p: paging.pageIndex + 1,\n        q: parseQuery(this.props.location.query).search\n      }).then(({ paging, users }) => {\n        if (this.mounted) {\n          this.setState(state => ({ loading: false, users: [...state.users, ...users], paging }));\n        }\n      }, this.finishLoading);\n    }\n  };\n\n  updateQuery = (newQuery: Partial<Query>) => {\n    const query = serializeQuery({ ...parseQuery(this.props.location.query), ...newQuery });\n    this.props.router.push({ ...this.props.location, query });\n  };\n\n  updateTokensCount = (login: string, tokensCount: number) => {\n    this.setState(state => ({\n      users: state.users.map(user => (user.login === login ? { ...user, tokensCount } : user))\n    }));\n  };\n\n  render() {\n    const query = parseQuery(this.props.location.query);\n    const { loading, paging, users } = this.state;\n    return (\n      <div className=\"page page-limited\" id=\"users-page\">\n        <Suggestions suggestions=\"users\" />\n        <Helmet defer={false} title={translate('users.page')} />\n        <Header loading={loading} onUpdateUsers={this.fetchUsers} />\n        <Search query={query} updateQuery={this.updateQuery} />\n        <UsersList\n          currentUser={this.props.currentUser}\n          identityProviders={this.state.identityProviders}\n          onUpdateUsers={this.fetchUsers}\n          organizationsEnabled={this.props.organizationsEnabled}\n          updateTokensCount={this.updateTokensCount}\n          users={users}\n        />\n        {paging !== undefined && (\n          <ListFooter\n            count={users.length}\n            loadMore={this.fetchMoreUsers}\n            ready={!loading}\n            total={paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(UsersApp);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { areThereCustomOrganizations, getCurrentUser, Store } from '../../store/rootReducer';\nimport UsersApp from './UsersApp';\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  organizationsEnabled: areThereCustomOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(UsersApp);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric'\n};\nfunction DateTimeFormatter(_a) {\n    var children = _a.children, date = _a.date;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, exports.formatterOption), children));\n}\nexports.default = DateTimeFormatter;\n//# sourceMappingURL=DateTimeFormatter.js.map","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nfunction DateFromNow(_a) {\n    var children = _a.children, date = _a.date;\n    return React.createElement(react_intl_1.FormattedRelative, { value: dates_1.parseDate(date) }, children);\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ConfirmModal_1 = require(\"./ConfirmModal\");\nvar ModalButton_1 = require(\"./ModalButton\");\nvar ConfirmButton = (function (_super) {\n    __extends(ConfirmButton, _super);\n    function ConfirmButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderConfirmModal = function (_a) {\n            var onClose = _a.onClose;\n            var _b = _this.props, children = _b.children, modalBody = _b.modalBody, modalHeader = _b.modalHeader, modalHeaderDescription = _b.modalHeaderDescription, confirmModalProps = __rest(_b, [\"children\", \"modalBody\", \"modalHeader\", \"modalHeaderDescription\"]);\n            return (React.createElement(ConfirmModal_1.default, __assign({ header: modalHeader, headerDescription: modalHeaderDescription, onClose: onClose }, confirmModalProps), modalBody));\n        };\n        return _this;\n    }\n    ConfirmButton.prototype.render = function () {\n        return React.createElement(ModalButton_1.default, { modal: this.renderConfirmModal }, this.props.children);\n    };\n    return ConfirmButton;\n}(React.PureComponent));\nexports.default = ConfirmButton;\n//# sourceMappingURL=ConfirmButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ModalButton = (function (_super) {\n    __extends(ModalButton, _super);\n    function ModalButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { modal: false };\n        _this.handleButtonClick = function () {\n            _this.setState({ modal: true });\n        };\n        _this.handleFormSubmit = function (event) {\n            if (event) {\n                event.preventDefault();\n            }\n            _this.setState({ modal: true });\n        };\n        _this.handleCloseModal = function () {\n            if (_this.mounted) {\n                _this.setState({ modal: false });\n            }\n        };\n        return _this;\n    }\n    ModalButton.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ModalButton.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ModalButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            this.props.children({\n                onClick: this.handleButtonClick,\n                onFormSubmit: this.handleFormSubmit\n            }),\n            this.state.modal && this.props.modal({ onClose: this.handleCloseModal })));\n    };\n    return ModalButton;\n}(React.PureComponent));\nexports.default = ModalButton;\n//# sourceMappingURL=ModalButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar react_router_1 = require(\"react-router\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DropdownIcon_1 = require(\"../icons/DropdownIcon\");\nvar SettingsIcon_1 = require(\"../icons/SettingsIcon\");\nvar buttons_1 = require(\"./buttons\");\nvar clipboard_1 = require(\"./clipboard\");\nvar Dropdown_1 = require(\"./Dropdown\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction ActionsDropdown(props) {\n    var children = props.children, className = props.className, overlayPlacement = props.overlayPlacement, small = props.small, toggleClassName = props.toggleClassName;\n    return (React.createElement(Dropdown_1.default, { className: className, onOpen: props.onOpen, overlay: React.createElement(\"ul\", { className: \"menu\" }, children), overlayPlacement: overlayPlacement },\n        React.createElement(buttons_1.Button, { className: classNames('dropdown-toggle', toggleClassName, {\n                'button-small': small\n            }) },\n            React.createElement(SettingsIcon_1.default, { size: small ? 12 : 14 }),\n            React.createElement(DropdownIcon_1.default, { className: \"little-spacer-left\" }))));\n}\nexports.default = ActionsDropdown;\nvar ActionsDropdownItem = (function (_super) {\n    __extends(ActionsDropdownItem, _super);\n    function ActionsDropdownItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (_this.props.onClick) {\n                _this.props.onClick();\n            }\n        };\n        return _this;\n    }\n    ActionsDropdownItem.prototype.render = function () {\n        var _this = this;\n        var className = classNames(this.props.className, { 'text-danger': this.props.destructive });\n        if (this.props.download && typeof this.props.to === 'string') {\n            return (React.createElement(\"li\", null,\n                React.createElement(\"a\", { className: className, download: this.props.download, href: this.props.to, id: this.props.id }, this.props.children)));\n        }\n        if (this.props.to) {\n            return (React.createElement(\"li\", null,\n                React.createElement(react_router_1.Link, { className: className, id: this.props.id, to: this.props.to }, this.props.children)));\n        }\n        if (this.props.copyValue) {\n            return (React.createElement(clipboard_1.ClipboardBase, null, function (_a) {\n                var setCopyButton = _a.setCopyButton, copySuccess = _a.copySuccess;\n                return (React.createElement(Tooltip_1.default, { overlay: l10n_1.translate('copied_action'), visible: copySuccess },\n                    React.createElement(\"li\", { \"data-clipboard-text\": _this.props.copyValue, ref: setCopyButton },\n                        React.createElement(\"a\", { className: className, href: \"#\", id: _this.props.id, onClick: _this.handleClick }, _this.props.children))));\n            }));\n        }\n        return (React.createElement(\"li\", null,\n            React.createElement(\"a\", { className: className, href: \"#\", id: this.props.id, onClick: this.handleClick }, this.props.children)));\n    };\n    return ActionsDropdownItem;\n}(React.PureComponent));\nexports.ActionsDropdownItem = ActionsDropdownItem;\nfunction ActionsDropdownDivider() {\n    return React.createElement(\"li\", { className: \"divider\" });\n}\nexports.ActionsDropdownDivider = ActionsDropdownDivider;\n//# sourceMappingURL=ActionsDropdown.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction SettingsIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c;\n    return (React.createElement(Icon_1.default, { className: className, size: size, viewBox: \"0 0 14 14\" },\n        React.createElement(\"g\", { transform: \"matrix(0.0364583,0,0,0.0364583,0,-1.16667)\" },\n            React.createElement(\"path\", { d: \"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z\", style: { fill: fill } }))));\n}\nexports.default = SettingsIcon;\n//# sourceMappingURL=SettingsIcon.js.map","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as globalMessages from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BulletListIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M2.968 11.274v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM2.968 8.255v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM2.968 5.235v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM15.045 11.274v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM2.968 2.216v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM15.045 8.255v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM15.045 5.235v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM15.045 2.216v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177z\", style: { fill: fill } })));\n}\nexports.default = BulletListIcon;\n//# sourceMappingURL=BulletListIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\n/** List tokens for given user login */\nexport function getTokens(login: string): Promise<T.UserToken[]> {\n  return getJSON('/api/user_tokens/search', { login }).then(r => r.userTokens, throwGlobalError);\n}\n\nexport function generateToken(data: { name: string; login?: string }): Promise<T.NewUserToken> {\n  return postJSON('/api/user_tokens/generate', data).catch(throwGlobalError);\n}\n\nexport function revokeToken(data: { name: string; login?: string }) {\n  return post('/api/user_tokens/revoke', data).catch(throwGlobalError);\n}\n"],"sourceRoot":""}