(window.webpackJsonp=window.webpackJsonp||[]).push([[381],{1913:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(328),c=a(317),r=a(314),s=a(5),i=a(319),l=a(807),m=a(326),d=a.n(m),u=a(696),p=a(697);function g({organization:e}){const{actions:t={}}=e;return n.createElement("div",{className:"account-project-card clearfix"},n.createElement("aside",{className:"account-project-side note"},n.createElement("strong",null,Object(s.translate)("organization.key"),":")," ",e.key),n.createElement("h3",{className:"account-project-name"},n.createElement(u.a,{organization:e}),n.createElement(p.a,{className:"spacer-left text-middle",organization:e},e.name),t.admin&&n.createElement("span",{className:"badge spacer-left"},Object(s.translate)("admin"))),!!e.description&&n.createElement("div",{className:"markdown spacer-top"},e.description),!!e.url&&n.createElement("div",{className:"markdown spacer-top"},n.createElement("a",{href:e.url,rel:"nofollow",title:e.url},e.url)))}function E({organizations:e}){return 0===e.length?n.createElement("div",null,Object(s.translate)("my_account.organizations.no_results")):n.createElement("ul",{className:"account-projects-list"},d()(e,e=>e.name.toLocaleLowerCase()).map(e=>n.createElement("li",{key:e.key},n.createElement(g,{organization:e}))))}class h extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})}}componentDidMount(){this.mounted=!0,this.props.fetchIfAnyoneCanCreateOrganizations().then(this.stopLoading,this.stopLoading)}componentWillUnmount(){this.mounted=!1}render(){const{anyoneCanCreate:e}=this.props,t=!this.state.loading&&(e||this.props.canAdmin);return n.createElement("div",{className:"account-body account-container"},n.createElement(o.a,{title:Object(s.translate)("my_account.organizations")}),n.createElement("div",{className:"boxed-group"},t&&n.createElement("div",{className:"clearfix"},n.createElement("div",{className:"boxed-group-actions"},n.createElement(r.Link,{className:"button",to:"/create-organization"},Object(s.translate)("create")))),n.createElement("div",{className:"boxed-group-inner"},this.state.loading?n.createElement("i",{className:"spinner"}):n.createElement(E,{organizations:this.props.organizations}))))}}const b={fetchIfAnyoneCanCreateOrganizations:l.a};t.default=Object(c.connect)(e=>{const t=Object(i.getGlobalSettingValue)(e,"sonar.organizations.anyoneCanCreate");return{anyoneCanCreate:Boolean(t&&"true"===t.value),canAdmin:Object(i.getAppState)(e).canAdmin,organizations:Object(i.getMyOrganizations)(e)}},b)(h)}}]);
//# sourceMappingURL=381.m.b9d831cf.chunk.js.map