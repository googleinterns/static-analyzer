{"version":3,"sources":["webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./src/main/js/components/common/EmptySearch.css?d1ee","webpack:///./src/main/js/components/common/LocationIndex.css?e012","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?8760","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?a142","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./src/main/js/components/shared/Organization.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?3321","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/common/MarkdownTips.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./src/main/js/components/controls/DayPicker.css?d7e1","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?5633","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./src/main/js/components/controls/DateRangeInput.tsx"],"names":["IssueChangelogDiff","message","diff","key","oldValue","newValue","includes","api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","LocationMessage","props","className","selected","children","onChange","resultPromise","oldIssue","newIssue","optimisticUpdate","undefined","then","response","issue","components","users","rules","handleSelect","event","preventDefault","onSelect","item","handleHover","onHover","renderLink","this","active","href","onClick","onFocus","onMouseOver","render","overlay","title","placement","attachShortcuts","previousKeyScope","previousFilter","currentKeyScope","tagName","isInput","keyCode","setState","selectNextElement","selectPreviousElement","state","detachShortcuts","idx","items","indexOf","length","renderChild","child","type","currentItem","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","hasChildren","count","map","searchMembers","query","organization","projectOrganization","q","ps","handleSearchResult","searchUsers","activeUsers","filter","currentUser","login","handleSearchChange","defaultUsersArray","name","Dropdown","noPadding","autoFocus","minLength","placeholder","value","user","Avatar","hash","avatar","size","style","marginLeft","withCurrentUser","toggleAssign","open","togglePopup","handleClose","renderAssignee","assigneeName","assignee","assigneeAvatar","assigneeActive","canAssign","closeOnEscape","onRequestClose","isOpen","onAssign","handleCommentChange","textComment","target","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","handleKeyboard","metaKey","ctrlKey","stopPropagation","comment","markdown","autoTriggered","onKeyDown","rows","disabled","MarkdownTips","addComment","text","issueKey","closeOnClickOutside","currentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","severity","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","SeverityHelper","mounted","searchResult","onSearch","Math","min","selectedTags","tags","tag","setTags","onUnselect","availableTags","BottomRight","TagsSelector","listSize","toggleSetTags","join","canSetTags","TagsList","allowUpdate","SetTransitionPopup","fromHotspot","transitions","isManualVulnerability","transition","description","setTransition","toggleSetTransition","hasTransitions","StatusHelper","resolution","status","TYPES","SetTypePopup","toggleSetType","setType","canSetType","fill","baseFontColor","property","popup","apiCall","handleTransition","actions","canComment","isSecurityHotspot","effort","CommentDeletePopup","onDelete","openPopup","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","popupName","force","prevState","closePopups","author","authorName","displayName","authorActive","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","date","createdAt","updatable","changelog","loadChangelog","creationDate","userName","isUserActive","diffs","toggleChangelog","handleClick","mouseEnterDelay","IssueMessage","engine","manualVulnerability","ruleKey","onOpenRule","onFilter","subProject","ruleName","qualifier","projectName","subProjectName","componentQualifier","componentLongName","handleFilter","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","secondaryLocations","flows","reduce","sum","locations","locationsBadge","LocationIndex","displayLocations","displayLocationsCount","issueUrl","project","branchLike","issues","types","Consumer","openRule","externalRuleEngine","rule","textRange","endLine","displayLocationsLink","to","handleCheck","onCheck","isClickable","editComment","deleteComment","hasCheckbox","issueClass","hotspot","role","tabIndex","comments","checked","node","toUpperCase","parentElement","onPopupToggle","handleAssignement","bindShortcuts","componentWillUpdate","nextProps","unbindShortcuts","defaultProps","Organization","link","shouldBeDisplayed","linkClassName","ownProps","organizationKey","FiltersHeader","displayReset","onReset","id","PageCounter","current","label","total","TypeHelper","EmptySearch","getWrappedDisplayName","WrappedComponent","hocName","Wrapper","FacetBox","getPosition","containerPos","container","getBoundingClientRect","top","window","pageYOffset","left","pageXOffset","debouncedOnResize","forceUpdate","addEventListener","removeEventListener","ref","currentTarget","blur","renderHelper","helper","renderValueIndicator","values","showClearButton","onClear","fetching","renderValue","stat","halfWidth","tooltip","loading","MultiSelectOption","custom","element","renderLabel","Boolean","onSelectChange","handleSelectChange","onSelectItem","onUnselectItem","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","evt","toggleSelect","stopLoading","isNewElement","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","slice","setElementActive","allElements","componentWillReceiveProps","totalElements","searchInput","focus","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","FacetItemsList","handleShowMoreClick","showMore","handleShowLessClick","showLess","hasMore","allShown","searching","searchResultsCounts","showFullList","handleItemClick","itemValue","multiple","onItemClick","handleHeaderClick","onToggle","handleClear","stopSearching","search","minSearchLength","loadCountsForSearchResults","maxResults","paging","results","stats","searchMaxResults","searchResults","searchPaging","catch","searchMore","pageIndex","loadSearchResultCount","resultsToLoad","result","getSearchResultKey","getStat","hideFullList","Object","keys","maxInitialItems","renderList","sortedItems","getSortedItems","getFacetItemText","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","FacetItem","renderFacetItem","formatFacetStat","Alert","variant","renderSearch","searchPlaceholder","renderSearchResults","renderSearchResult","loadMore","ready","getSearchResultText","loadingResults","showList","FacetHeader","disabledHelper","facetHeader","MultipleSelectionHint","validateTag","toLowerCase","replace","DayPicker","input","openCalendar","handleResetClick","closeCalendar","currentMonth","Date","lastHovered","handleDayClick","day","modifiers","handleDayMouseEnter","handleCurrentMonthChange","handleCurrentYearChange","handlePreviousMonthClick","handleNextMonthClick","highlightFrom","highlightTo","minDate","after","maxDate","months","years","getFullYear","selectedDays","lastHoveredOrValue","highlighted","from","weekdaysLong","weekdaysShort","onClickOutside","InputWrapper","inputClassName","innerRef","readOnly","iconProps","month","getMonth","year","String","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","intl","formattedValue","formatDate","other","setHomePage","currentPage","a","b","homepage","branch","component","filled","mapDispatchToProps","HomePageSelect","leading","clickAttributes","navigator","userAgent","SourceViewer","getStandards","x","renderCWECategory","standards","category","record","cwe","renderOwaspTop10Category","withPrefix","owaspTop10","addPrefix","renderSansTop25Category","sansTop25","renderSonarSourceSecurityCategory","sonarsourceSecurity","prefix","handleFromChange","setTimeout","toDateInput","handleToChange"],"mappings":"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","file":"js/303.1588858339197.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none;word-break:break-all}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { IssueResponse } from '../../api/issues';\nimport { parseIssueFromResponse } from '../../helpers/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    () => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  issue: Pick<T.Issue, 'projectOrganization'>;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query: string) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (isSonarCloud()) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<\n    T.Issue,\n    'assignee' | 'assigneeActive' | 'assigneeAvatar' | 'assigneeName' | 'projectOrganization'\n  >;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MarkdownTips from '../../common/MarkdownTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addIssueComment } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink className=\"issue-action js-issue-comment\" onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { IssueResponse, setIssueSeverity } from '../../../api/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { searchIssueTags } from '../../../api/issues';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTags } from '../../../api/issues';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'projectOrganization' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        translate('issue.transition', transition, 'description')\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { setIssueTransition } from '../../../api/issues';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse, setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          <li className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && issue.effort && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </li>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: sanitize(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getIssueChangelog } from '../../../api/issues';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  organization: string;\n  ruleKey: string;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, manualVulnerability, message, organization, ruleKey } = props;\n\n  return (\n    <div className=\"issue-message\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right\"\n        onClick={() => props.onOpenRule({ key: ruleKey, organization })}>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {engine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', engine)}>\n          <div className=\"badge spacer-right text-top\">{engine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-top\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { fileFromPath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\ninterface Props {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: Props) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            organization={issue.organization}\n            ruleKey={issue.rule}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { areThereCustomOrganizations, getOrganizationByKey, Store } from '../../store/rootReducer';\nimport OrganizationLink from '../ui/OrganizationLink';\n\ninterface OwnProps {\n  organizationKey: string;\n}\n\ninterface Props {\n  link?: boolean;\n  linkClassName?: string;\n  organization: { key: string; name: string } | null;\n  shouldBeDisplayed?: boolean;\n}\n\nfunction Organization(props: Props) {\n  const { link = true, organization, shouldBeDisplayed } = props;\n\n  if (!shouldBeDisplayed || !organization) {\n    return null;\n  }\n\n  return (\n    <span>\n      {link ? (\n        <OrganizationLink className={props.linkClassName} organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n      ) : (\n        organization.name\n      )}\n      <span className=\"slash-separator\" />\n    </span>\n  );\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  organization: getOrganizationByKey(state, ownProps.organizationKey),\n  shouldBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(Organization);\n\nexport const UnconnectedOrganization = Organization;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#777;text-align:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName<P>(\n  WrappedComponent: React.ComponentType<P>,\n  hocName: string\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentType<P & { currentUser: T.CurrentUser }>\n) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withCurrentUser');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getMarkdownHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class MarkdownTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(getMarkdownHelpUrl(), 'Markdown', 'height=300,width=600,scrollbars=1,resizable=1');\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('markdown.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { queriesEqual } from 'sonar-ui-common/helpers/query';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: T.RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else {\n      this.props.onChange({ [this.props.property]: [] });\n    }\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => this.props.getFacetItemText(key)\n        );\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\"></div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoadComponent(() => import('react-day-picker'), 'DayPicker');\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HomeIcon from 'sonar-ui-common/components/icons/HomeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nclass HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const checked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const tooltip = checked ? translate('homepage.current') : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {checked ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={checked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={this.handleClick}>\n            <HomeIcon filled={checked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component &&\n    (a as any).organization === (b as any).organization\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from 'sonar-ui-common/components/icons/StatusIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getStandards(): Promise<T.Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: T.Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateInput from './DateInput';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}