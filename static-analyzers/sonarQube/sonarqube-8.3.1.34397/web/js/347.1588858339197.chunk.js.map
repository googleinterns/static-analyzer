{"version":3,"sources":["webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNowHourPrecision.js","webpack:///./src/main/js/apps/users/components/TokensFormItem.tsx","webpack:///./src/main/js/apps/users/components/TokensFormNewToken.tsx","webpack:///./src/main/js/apps/users/components/TokensForm.tsx","webpack:///./src/main/js/apps/account/components/Password.tsx","webpack:///./src/main/js/apps/account/components/Tokens.tsx","webpack:///./src/main/js/apps/account/components/Security.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateTimeFormatter.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/ModalButton.js","webpack:///./src/main/js/api/user-tokens.ts"],"names":["Object","defineProperty","exports","value","date_fns_1","React","l10n_1","Tooltip_1","DateFromNow_1","DateTimeFormatter_1","default","props","_a","children","f","date","differenceInHours","Date","now","translate","createElement","overlay","mounted","state","loading","showConfirmation","handleClick","handleRevoke","then","setState","login","name","token","onRevokeToken","componentDidMount","this","componentWillUnmount","render","deleteConfirmation","className","lastConnectionDate","createdAt","long","confirmButtonText","isDestructive","modalBody","defaultMessage","id","values","modalHeader","onConfirm","onClick","disabled","title","TokensFormNewToken","Alert","variant","copyValue","generating","newTokenName","tokens","fetchTokens","updateTokensCount","length","handleGenerateToken","evt","preventDefault","newToken","handleRevokeToken","revokedToken","filter","handleNewTokenChange","currentTarget","renderItems","colSpan","map","key","customSpinner","autoComplete","onSubmit","maxLength","onChange","placeholder","required","type","success","handleSuccessfulChange","oldPassword","password","passwordConfirmation","errors","undefined","setErrors","handleChangePassword","event","user","previousPassword","focus","e","i","htmlFor","ref","elem","Tokens","InstanceMessage","message","TokensForm","Security","defer","local","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","n","arguments","call","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Modal_1","SimpleModal","_super","_this","submitting","stopSubmitting","handleCloseClick","blur","onClose","handleFormSubmit","submit","handleSubmitClick","result","header","modalProps","contentLabel","onRequestClose","onCloseClick","onFormSubmit","onSubmitClick","Component","react_intl_1","dates_1","formatterOption","year","month","day","hour","minute","FormattedDate","parseDate","FormattedRelative","ConfirmModal_1","ModalButton_1","ConfirmButton","renderConfirmModal","_b","modalHeaderDescription","confirmModalProps","headerDescription","modal","PureComponent","ModalButton","handleButtonClick","handleCloseModal","Fragment","getTokens","r","generateToken","data","catch","revokeToken"],"mappings":"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","file":"js/347.1588858339197.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar date_fns_1 = require(\"date-fns\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nvar DateFromNow_1 = require(\"./DateFromNow\");\nvar DateTimeFormatter_1 = require(\"./DateTimeFormatter\");\nfunction DateFromNowHourPrecision(props) {\n    var _a = props.children, children = _a === void 0 ? function (f) { return f; } : _a, date = props.date;\n    if (!date) {\n        return children(l10n_1.translate('never'));\n    }\n    if (date_fns_1.differenceInHours(Date.now(), date) < 1) {\n        return children(l10n_1.translate('less_than_1_hour_ago'));\n    }\n    return (React.createElement(Tooltip_1.default, { overlay: React.createElement(DateTimeFormatter_1.default, { date: date }) },\n        React.createElement(\"span\", null,\n            React.createElement(DateFromNow_1.default, { date: date }, children))));\n}\nexports.default = DateFromNowHourPrecision;\n//# sourceMappingURL=DateFromNowHourPrecision.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNowHourPrecision from 'sonar-ui-common/components/intl/DateFromNowHourPrecision';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { revokeToken } from '../../../api/user-tokens';\n\nexport type TokenDeleteConfirmation = 'inline' | 'modal';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  onRevokeToken: (token: T.UserToken) => void;\n  token: T.UserToken;\n}\n\ninterface State {\n  loading: boolean;\n  showConfirmation: boolean;\n}\n\nexport default class TokensFormItem extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false, showConfirmation: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    if (this.state.showConfirmation) {\n      this.handleRevoke().then(() => {\n        if (this.mounted) {\n          this.setState({ showConfirmation: false });\n        }\n      });\n    } else {\n      this.setState({ showConfirmation: true });\n    }\n  };\n\n  handleRevoke = () => {\n    this.setState({ loading: true });\n    return revokeToken({ login: this.props.login, name: this.props.token.name }).then(\n      () => this.props.onRevokeToken(this.props.token),\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { deleteConfirmation, token } = this.props;\n    const { loading, showConfirmation } = this.state;\n    return (\n      <tr>\n        <td>\n          <Tooltip overlay={token.name}>\n            <span>{limitComponentName(token.name)}</span>\n          </Tooltip>\n        </td>\n        <td className=\"nowrap\">\n          <DateFromNowHourPrecision date={token.lastConnectionDate} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DateFormatter date={token.createdAt} long={true} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DeferredSpinner loading={loading}>\n            <i className=\"deferred-spinner-placeholder\" />\n          </DeferredSpinner>\n          {deleteConfirmation === 'modal' ? (\n            <ConfirmButton\n              confirmButtonText={translate('users.tokens.revoke_token')}\n              isDestructive={true}\n              modalBody={\n                <FormattedMessage\n                  defaultMessage={translate('users.tokens.sure_X')}\n                  id=\"users.tokens.sure_X\"\n                  values={{ token: <strong>{token.name}</strong> }}\n                />\n              }\n              modalHeader={translate('users.tokens.revoke_token')}\n              onConfirm={this.handleRevoke}>\n              {({ onClick }) => (\n                <Button\n                  className=\"spacer-left button-red input-small\"\n                  disabled={loading}\n                  onClick={onClick}\n                  title={translate('users.tokens.revoke_token')}>\n                  {translate('users.tokens.revoke')}\n                </Button>\n              )}\n            </ConfirmButton>\n          ) : (\n            <Button\n              className=\"button-red input-small spacer-left\"\n              disabled={loading}\n              onClick={this.handleClick}>\n              {showConfirmation ? translate('users.tokens.sure') : translate('users.tokens.revoke')}\n            </Button>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  token: { name: string; token: string };\n}\n\nexport default function TokensFormNewToken({ token }: Props) {\n  return (\n    <div className=\"panel panel-white big-spacer-top\">\n      <Alert variant=\"warning\">\n        {translateWithParameters('users.tokens.new_token_created', token.name)}\n      </Alert>\n      <ClipboardButton copyValue={token.token} />\n      <code className=\"big-spacer-left text-success\">{token.token}</code>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens } from '../../../api/user-tokens';\nimport TokensFormItem, { TokenDeleteConfirmation } from './TokensFormItem';\nimport TokensFormNewToken from './TokensFormNewToken';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  updateTokensCount?: (login: string, tokensCount: number) => void;\n}\n\ninterface State {\n  generating: boolean;\n  loading: boolean;\n  newToken?: { name: string; token: string };\n  newTokenName: string;\n  tokens: T.UserToken[];\n}\n\nexport default class TokensForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    generating: false,\n    loading: true,\n    newTokenName: '',\n    tokens: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchTokens();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchTokens = () => {\n    this.setState({ loading: true });\n    getTokens(this.props.login).then(\n      tokens => {\n        if (this.mounted) {\n          this.setState({ loading: false, tokens });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  updateTokensCount = () => {\n    if (this.props.updateTokensCount) {\n      this.props.updateTokensCount(this.props.login, this.state.tokens.length);\n    }\n  };\n\n  handleGenerateToken = (evt: React.SyntheticEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    if (this.state.newTokenName.length > 0) {\n      this.setState({ generating: true });\n      generateToken({ name: this.state.newTokenName, login: this.props.login }).then(\n        newToken => {\n          if (this.mounted) {\n            this.setState(state => {\n              const tokens = [\n                ...state.tokens,\n                { name: newToken.name, createdAt: newToken.createdAt }\n              ];\n              return { generating: false, newToken, newTokenName: '', tokens };\n            }, this.updateTokensCount);\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ generating: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleRevokeToken = (revokedToken: T.UserToken) => {\n    this.setState(\n      state => ({\n        tokens: state.tokens.filter(token => token.name !== revokedToken.name)\n      }),\n      this.updateTokensCount\n    );\n  };\n\n  handleNewTokenChange = (evt: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ newTokenName: evt.currentTarget.value });\n\n  renderItems() {\n    const { tokens } = this.state;\n    if (tokens.length <= 0) {\n      return (\n        <tr>\n          <td className=\"note\" colSpan={3}>\n            {translate('users.no_tokens')}\n          </td>\n        </tr>\n      );\n    }\n    return tokens.map(token => (\n      <TokensFormItem\n        deleteConfirmation={this.props.deleteConfirmation}\n        key={token.name}\n        login={this.props.login}\n        onRevokeToken={this.handleRevokeToken}\n        token={token}\n      />\n    ));\n  }\n\n  render() {\n    const { generating, loading, newToken, newTokenName, tokens } = this.state;\n    const customSpinner = (\n      <tr>\n        <td>\n          <i className=\"spinner\" />\n        </td>\n      </tr>\n    );\n    return (\n      <>\n        <h3 className=\"spacer-bottom\">{translate('users.generate_tokens')}</h3>\n        <form\n          autoComplete=\"off\"\n          className=\"display-flex-center\"\n          id=\"generate-token-form\"\n          onSubmit={this.handleGenerateToken}>\n          <input\n            className=\"input-large spacer-right\"\n            maxLength={100}\n            onChange={this.handleNewTokenChange}\n            placeholder={translate('users.enter_token_name')}\n            required={true}\n            type=\"text\"\n            value={newTokenName}\n          />\n          <SubmitButton\n            className=\"js-generate-token\"\n            disabled={generating || newTokenName.length <= 0}>\n            {translate('users.generate')}\n          </SubmitButton>\n        </form>\n\n        {newToken && <TokensFormNewToken token={newToken} />}\n\n        <table className=\"data zebra big-spacer-top\">\n          <thead>\n            <tr>\n              <th>{translate('name')}</th>\n              <th>{translate('my_account.tokens_last_usage')}</th>\n              <th className=\"text-right\">{translate('created')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            <DeferredSpinner customSpinner={customSpinner} loading={loading && tokens.length <= 0}>\n              {this.renderItems()}\n            </DeferredSpinner>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { changePassword } from '../../../api/users';\n\ninterface Props {\n  user: T.LoggedInUser;\n}\n\ninterface State {\n  errors?: string[];\n  success: boolean;\n}\n\nexport default class Password extends React.Component<Props, State> {\n  oldPassword!: HTMLInputElement;\n  password!: HTMLInputElement;\n  passwordConfirmation!: HTMLInputElement;\n  state: State = {\n    success: false\n  };\n\n  handleSuccessfulChange = () => {\n    this.oldPassword.value = '';\n    this.password.value = '';\n    this.passwordConfirmation.value = '';\n    this.setState({ success: true, errors: undefined });\n  };\n\n  setErrors = (errors: string[]) => {\n    this.setState({ success: false, errors });\n  };\n\n  handleChangePassword = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    const { user } = this.props;\n    const previousPassword = this.oldPassword.value;\n    const password = this.password.value;\n    const passwordConfirmation = this.passwordConfirmation.value;\n\n    if (password !== passwordConfirmation) {\n      this.password.focus();\n      this.setErrors([translate('user.password_doesnt_match_confirmation')]);\n    } else {\n      changePassword({ login: user.login, password, previousPassword }).then(\n        this.handleSuccessfulChange,\n        () => {}\n      );\n    }\n  };\n\n  render() {\n    const { success, errors } = this.state;\n\n    return (\n      <section className=\"boxed-group\">\n        <h2 className=\"spacer-bottom\">{translate('my_profile.password.title')}</h2>\n\n        <form className=\"boxed-group-inner\" onSubmit={this.handleChangePassword}>\n          {success && <Alert variant=\"success\">{translate('my_profile.password.changed')}</Alert>}\n\n          {errors &&\n            errors.map((e, i) => (\n              <Alert key={i} variant=\"error\">\n                {e}\n              </Alert>\n            ))}\n\n          <div className=\"form-field\">\n            <label htmlFor=\"old_password\">\n              {translate('my_profile.password.old')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              autoComplete=\"off\"\n              id=\"old_password\"\n              name=\"old_password\"\n              ref={elem => (this.oldPassword = elem!)}\n              required={true}\n              type=\"password\"\n            />\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"password\">\n              {translate('my_profile.password.new')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              autoComplete=\"off\"\n              id=\"password\"\n              name=\"password\"\n              ref={elem => (this.password = elem!)}\n              required={true}\n              type=\"password\"\n            />\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"password_confirmation\">\n              {translate('my_profile.password.confirm')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              autoComplete=\"off\"\n              id=\"password_confirmation\"\n              name=\"password_confirmation\"\n              ref={elem => (this.passwordConfirmation = elem!)}\n              required={true}\n              type=\"password\"\n            />\n          </div>\n          <div className=\"form-field\">\n            <SubmitButton id=\"change-password\">\n              {translate('my_profile.password.submit')}\n            </SubmitButton>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport TokensForm from '../../users/components/TokensForm';\n\ninterface Props {\n  login: string;\n}\n\nexport default function Tokens({ login }: Props) {\n  return (\n    <div className=\"boxed-group\">\n      <h2>{translate('users.tokens')}</h2>\n      <div className=\"boxed-group-inner\">\n        <div className=\"big-spacer-bottom big-spacer-right markdown\">\n          <InstanceMessage message={translate('my_account.tokens_description')} />\n        </div>\n\n        <TokensForm deleteConfirmation=\"modal\" login={login} />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport Password from './Password';\nimport Tokens from './Tokens';\n\nexport interface SecurityProps {\n  user: T.LoggedInUser;\n}\n\nexport function Security({ user }: SecurityProps) {\n  return (\n    <div className=\"account-body account-container\">\n      <Helmet defer={false} title={translate('my_account.security')} />\n      <Tokens login={user.login} />\n      {user.local && <Password user={user} />}\n    </div>\n  );\n}\n\nconst mapStateToProps = (state: Store) => ({\n  user: getCurrentUser(state) as T.LoggedInUser\n});\n\nexport default connect(mapStateToProps)(Security);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric'\n};\nfunction DateTimeFormatter(_a) {\n    var children = _a.children, date = _a.date;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, exports.formatterOption), children));\n}\nexports.default = DateTimeFormatter;\n//# sourceMappingURL=DateTimeFormatter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nfunction DateFromNow(_a) {\n    var children = _a.children, date = _a.date;\n    return React.createElement(react_intl_1.FormattedRelative, { value: dates_1.parseDate(date) }, children);\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ConfirmModal_1 = require(\"./ConfirmModal\");\nvar ModalButton_1 = require(\"./ModalButton\");\nvar ConfirmButton = (function (_super) {\n    __extends(ConfirmButton, _super);\n    function ConfirmButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderConfirmModal = function (_a) {\n            var onClose = _a.onClose;\n            var _b = _this.props, children = _b.children, modalBody = _b.modalBody, modalHeader = _b.modalHeader, modalHeaderDescription = _b.modalHeaderDescription, confirmModalProps = __rest(_b, [\"children\", \"modalBody\", \"modalHeader\", \"modalHeaderDescription\"]);\n            return (React.createElement(ConfirmModal_1.default, __assign({ header: modalHeader, headerDescription: modalHeaderDescription, onClose: onClose }, confirmModalProps), modalBody));\n        };\n        return _this;\n    }\n    ConfirmButton.prototype.render = function () {\n        return React.createElement(ModalButton_1.default, { modal: this.renderConfirmModal }, this.props.children);\n    };\n    return ConfirmButton;\n}(React.PureComponent));\nexports.default = ConfirmButton;\n//# sourceMappingURL=ConfirmButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ModalButton = (function (_super) {\n    __extends(ModalButton, _super);\n    function ModalButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { modal: false };\n        _this.handleButtonClick = function () {\n            _this.setState({ modal: true });\n        };\n        _this.handleFormSubmit = function (event) {\n            if (event) {\n                event.preventDefault();\n            }\n            _this.setState({ modal: true });\n        };\n        _this.handleCloseModal = function () {\n            if (_this.mounted) {\n                _this.setState({ modal: false });\n            }\n        };\n        return _this;\n    }\n    ModalButton.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ModalButton.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ModalButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            this.props.children({\n                onClick: this.handleButtonClick,\n                onFormSubmit: this.handleFormSubmit\n            }),\n            this.state.modal && this.props.modal({ onClose: this.handleCloseModal })));\n    };\n    return ModalButton;\n}(React.PureComponent));\nexports.default = ModalButton;\n//# sourceMappingURL=ModalButton.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\n/** List tokens for given user login */\nexport function getTokens(login: string): Promise<T.UserToken[]> {\n  return getJSON('/api/user_tokens/search', { login }).then(r => r.userTokens, throwGlobalError);\n}\n\nexport function generateToken(data: { name: string; login?: string }): Promise<T.NewUserToken> {\n  return postJSON('/api/user_tokens/generate', data).catch(throwGlobalError);\n}\n\nexport function revokeToken(data: { name: string; login?: string }) {\n  return post('/api/user_tokens/revoke', data).catch(throwGlobalError);\n}\n"],"sourceRoot":""}