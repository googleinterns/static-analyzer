(window.webpackJsonp=window.webpackJsonp||[]).push([[330],{1096:function(e,t,n){var a=n(311),o=n(1097);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1},s=(a(o,r),o.locals?o.locals:{});e.exports=s},1097:function(e,t,n){(t=n(312)(!1)).push([e.i,".onboarding-step{position:relative;padding-left:34px}.onboarding-step:not(.is-open):not(.is-finished){opacity:.4}.onboarding-step .boxed-group-actions{height:24px;line-height:24px}.onboarding-step hr{margin-left:-54px}.onboarding-step-number{position:absolute;top:15px;left:15px;width:24px;height:24px;line-height:24px;border-radius:24px;background-color:#b9b9b9;color:#fff;font-size:14px;text-align:center}.onboarding-step.is-open .onboarding-step-number{background-color:#236a97}.onboarding-step.is-finished{cursor:pointer;outline:none}",""]),e.exports=t},1878:function(e,t,n){"use strict";n.r(t),n.d(t,"EmptyOverview",(function(){return ne}));var a=n(2),o=n(304),r=n(317),s=n(325),i=n(5),l=n(329),c=n(333),d=n(319),p=n(348),u=n(411),m=n(416),h=n(336),g=n(542);function b(e){return"win"===e?e=>'"'.concat(e,'"'):e=>e}function f(e,t=""){const n=t=>void 0!==e.find(e=>e.name===t);if(!n(t))return t;let a=1;for(;n("".concat(t," ").concat(a));)a++;return"".concat(t," ").concat(a)}const k={win:"build-wrapper-win-x86.zip",linux:"build-wrapper-linux-x86.zip",mac:"build-wrapper-macosx-x86.zip"};function v(e){return a.createElement("div",{className:e.className},a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)("onboarding.analysis.build_wrapper.header",e.os)),a.createElement("p",{className:"spacer-bottom markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.build_wrapper.text"),id:"onboarding.analysis.build_wrapper.text",values:{env_var:a.createElement("code",null,"win"===e.os?"%PATH%":"PATH")}})),a.createElement("p",null,a.createElement("a",{className:"button",download:k[e.os],href:"".concat(Object(h.getBaseUrl)(),"/static/cpp/").concat(k[e.os]),target:"_blank",rel:"noopener noreferrer"},Object(i.translate)("download_verb"))))}function y(e){return a.createElement("div",{className:e.className},a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)("onboarding.analysis.sq_scanner.header",e.os)),a.createElement("p",{className:"spacer-bottom markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.sq_scanner.text"),id:"onboarding.analysis.sq_scanner.text",values:{dir:a.createElement("code",null,"bin"),env_var:a.createElement("code",null,"win"===e.os?"%PATH%":"PATH")}})),a.createElement("p",null,a.createElement("a",{className:"button",href:"http://redirect.sonarsource.com/doc/install-configure-scanner.html",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("download_verb"))))}const E={linux:"build-wrapper-linux-x86-64",win:"build-wrapper-win-x86-64.exe",mac:"build-wrapper-macosx-x86"};function j(e){const t="".concat(E[e.os]," --out-dir bw-output make clean all"),n=b(e.os),r=["win"===e.os?"sonar-scanner.bat":"sonar-scanner","-D"+n("sonar.projectKey=".concat(e.projectKey)),e.organization&&"-D"+n("sonar.organization=".concat(e.organization)),"-D"+n("sonar.sources=."),"-D"+n("sonar.cfamily.build-wrapper-output=bw-output"),"-D"+n("sonar.host.url=".concat(e.host)),"-D"+n("sonar.login=".concat(e.token))];return a.createElement("div",null,a.createElement(y,{os:e.os}),a.createElement(v,{className:"huge-spacer-top",os:e.os}),a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(i.translate)("onboarding.analysis.sq_scanner.execute")),a.createElement(u.a,{message:Object(i.translate)("onboarding.analysis.sq_scanner.execute.text")},e=>a.createElement("p",{className:"spacer-bottom markdown"},e)),a.createElement(g.a,{isOneLine:e.small,snippet:t}),a.createElement(g.a,{isOneLine:"win"===e.os,snippet:r}),a.createElement("p",{className:"big-spacer-top markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.sq_scanner.docs"),id:"onboarding.analysis.sq_scanner.docs",values:{link:a.createElement("a",{href:"http://redirect.sonarsource.com/doc/install-configure-scanner.html",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("onboarding.analysis.sq_scanner.docs_link"))}})))}function x(e){return a.createElement("div",{className:e.className},a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)("onboarding.analysis.msbuild.header")),a.createElement("p",{className:"spacer-bottom markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.msbuild.text"),id:"onboarding.analysis.msbuild.text",values:{code:a.createElement("code",null,"%PATH%")}})),a.createElement("p",null,a.createElement("a",{className:"button",href:"https://sonarcloud.io/documentation/analysis/scan/sonarscanner-for-msbuild/",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("download_verb"))))}function O(e){const t=["SonarScanner.MSBuild.exe begin",'/k:"'.concat(e.projectKey,'"'),e.organization&&'/d:sonar.organization="'.concat(e.organization,'"'),'/d:sonar.host.url="'.concat(e.host,'"'),'/d:sonar.login="'.concat(e.token,'"')],n=["SonarScanner.MSBuild.exe end",'/d:sonar.login="'.concat(e.token,'"')];return a.createElement("div",null,a.createElement(x,null),a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(i.translate)("onboarding.analysis.msbuild.execute")),a.createElement(u.a,{message:Object(i.translate)("onboarding.analysis.msbuild.execute.text")},e=>a.createElement("p",{className:"spacer-bottom markdown"},e)),a.createElement(g.a,{isOneLine:!0,snippet:t}),a.createElement(g.a,{isOneLine:!1,snippet:"MsBuild.exe /t:Rebuild"}),a.createElement(g.a,{isOneLine:e.small,snippet:n}),a.createElement("p",{className:"big-spacer-top markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.docs"),id:"onboarding.analysis.docs",values:{link:a.createElement("a",{href:"http://redirect.sonarsource.com/doc/install-configure-scanner-msbuild.html",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("onboarding.analysis.msbuild.docs_link"))}})))}function N(e){const t=["./gradlew sonarqube",e.projectKey&&"-Dsonar.projectKey=".concat(e.projectKey),e.organization&&"-Dsonar.organization=".concat(e.organization),"-Dsonar.host.url=".concat(e.host),"-Dsonar.login=".concat(e.token)];return a.createElement("div",null,a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)("onboarding.analysis.java.gradle.header")),a.createElement(u.a,{message:Object(i.translate)("onboarding.analysis.java.gradle.text.1")},e=>a.createElement("p",{className:"spacer-bottom markdown"},a.createElement(o.FormattedMessage,{defaultMessage:e,id:"onboarding.analysis.java.gradle.text.1",values:{plugin_code:a.createElement("code",null,"org.sonarqube"),filename:a.createElement("code",null,"build.gradle")}}))),a.createElement(g.a,{snippet:'plugins {\n  id "org.sonarqube" version "2.7"\n}'}),a.createElement("p",{className:"spacer-top spacer-bottom markdown"},Object(i.translate)("onboarding.analysis.java.gradle.text.2")),a.createElement(g.a,{snippet:t}),a.createElement("p",{className:"big-spacer-top markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.docs"),id:"onboarding.analysis.docs",values:{link:a.createElement("a",{href:"http://redirect.sonarsource.com/doc/gradle.html",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("onboarding.analysis.java.gradle.docs_link"))}})),a.createElement("p",{className:"big-spacer-top markdown"},e.projectKey?Object(i.translate)("onboarding.analysis.auto_refresh_after_analysis"):Object(i.translate)("onboarding.analysis.browse_url_after_analysis")))}function _(e){const t=["mvn sonar:sonar",e.projectKey&&"-Dsonar.projectKey=".concat(e.projectKey),e.organization&&"-Dsonar.organization=".concat(e.organization),"-Dsonar.host.url=".concat(e.host),"-Dsonar.login=".concat(e.token)];return a.createElement("div",null,a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)("onboarding.analysis.java.maven.header")),a.createElement("p",{className:"spacer-bottom markdown"},a.createElement(u.a,{message:Object(i.translate)("onboarding.analysis.java.maven.text")})),a.createElement(g.a,{snippet:t}),a.createElement("p",{className:"big-spacer-top markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.docs"),id:"onboarding.analysis.docs",values:{link:a.createElement("a",{href:"http://redirect.sonarsource.com/doc/install-configure-scanner-maven.html",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("onboarding.analysis.java.maven.docs_link"))}})),a.createElement("p",{className:"big-spacer-top markdown"},e.projectKey?Object(i.translate)("onboarding.analysis.auto_refresh_after_analysis"):Object(i.translate)("onboarding.analysis.browse_url_after_analysis")))}function C(e){const t=["SonarQube.Scanner.MSBuild.exe begin",'/k:"'.concat(e.projectKey,'"'),e.organization&&'/d:sonar.organization="'.concat(e.organization,'"'),"/d:sonar.cfamily.build-wrapper-output=bw-output",'/d:sonar.host.url="'.concat(e.host,'"'),'/d:sonar.login="'.concat(e.token,'"')],n=["SonarQube.Scanner.MSBuild.exe end",'/d:sonar.login="'.concat(e.token,'"')];return a.createElement("div",null,a.createElement(x,null),a.createElement(v,{className:"huge-spacer-top",os:"win"}),a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(i.translate)("onboarding.analysis.msbuild.execute")),a.createElement(u.a,{message:Object(i.translate)("onboarding.analysis.msbuild.execute.text")},e=>a.createElement("p",{className:"spacer-bottom markdown"},e)),a.createElement(g.a,{isOneLine:!0,snippet:t}),a.createElement(g.a,{isOneLine:e.small,snippet:"build-wrapper-win-x86-64.exe --out-dir bw-output MsBuild.exe /t:Rebuild"}),a.createElement(g.a,{isOneLine:e.small,snippet:n}),a.createElement("p",{className:"big-spacer-top markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.docs"),id:"onboarding.analysis.docs",values:{link:a.createElement("a",{href:"http://redirect.sonarsource.com/doc/install-configure-scanner-msbuild.html",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("onboarding.analysis.msbuild.docs_link"))}})))}function w(e){const t=b(e.os),n=["win"===e.os?"sonar-scanner.bat":"sonar-scanner","-D"+t("sonar.projectKey=".concat(e.projectKey)),e.organization&&"-D"+t("sonar.organization=".concat(e.organization)),"-D"+t("sonar.sources=."),"-D"+t("sonar.host.url=".concat(e.host)),"-D"+t("sonar.login=".concat(e.token))];return a.createElement("div",null,a.createElement(y,{os:e.os}),a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(i.translate)("onboarding.analysis.sq_scanner.execute")),a.createElement(u.a,{message:Object(i.translate)("onboarding.analysis.sq_scanner.execute.text")},e=>a.createElement("p",{className:"spacer-bottom markdown"},e)),a.createElement(g.a,{isOneLine:"win"===e.os,snippet:n}),a.createElement("p",{className:"big-spacer-top markdown"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.analysis.sq_scanner.docs"),id:"onboarding.analysis.sq_scanner.docs",values:{link:a.createElement("a",{href:"http://redirect.sonarsource.com/doc/install-configure-scanner.html",rel:"noopener noreferrer",target:"_blank"},Object(i.translate)("onboarding.analysis.sq_scanner.docs_link"))}})))}class S extends a.PureComponent{constructor(){super(...arguments),this.renderCommandForMaven=()=>{const{component:e,token:t}=this.props;return t?a.createElement(_,{host:Object(h.getHostUrl)(),organization:this.props.organization,projectKey:e&&e.key,token:t}):null},this.renderCommandForGradle=()=>{const{component:e,token:t}=this.props;return t?a.createElement(N,{host:Object(h.getHostUrl)(),organization:this.props.organization,projectKey:e&&e.key,token:t}):null},this.renderCommandForDotNet=()=>{const{component:e,languageConfig:t,small:n,token:o}=this.props,r=H(t,e);return r&&o?a.createElement(O,{host:Object(h.getHostUrl)(),organization:this.props.organization,projectKey:r,small:n,token:o}):null},this.renderCommandForMSVC=()=>{const{component:e,languageConfig:t,small:n,token:o}=this.props,r=H(t,e);return r&&o?a.createElement(C,{host:Object(h.getHostUrl)(),organization:this.props.organization,projectKey:r,small:n,token:o}):null},this.renderCommandForClangGCC=()=>{const{component:e,languageConfig:t,small:n,token:o}=this.props,r=H(t,e);return t&&r&&t.os&&o?a.createElement(j,{host:Object(h.getHostUrl)(),organization:this.props.organization,os:t.os,projectKey:r,small:n,token:o}):null},this.renderCommandForOther=()=>{const{component:e,languageConfig:t,token:n}=this.props,o=H(t,e);return t&&o&&t.os&&n?a.createElement(w,{host:Object(h.getHostUrl)(),organization:this.props.organization,os:t.os,projectKey:o,token:n}):null}}render(){const{languageConfig:e}=this.props;return"java"===e.language?"maven"===e.javaBuild?this.renderCommandForMaven():this.renderCommandForGradle():"dotnet"===e.language?this.renderCommandForDotNet():"c-family"===e.language?"msvc"===e.cFamilyCompiler?this.renderCommandForMSVC():this.renderCommandForClangGCC():this.renderCommandForOther()}}var K=n(448),z=n.n(K),F=n(22),D=n(310),P=n(360);class M extends a.PureComponent{constructor(e){super(e),this.mounted=!1,this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.sanitizeProjectKey=e=>e.replace(/[^-_a-zA-Z0-9.:]/,""),this.handleProjectKeyChange=e=>{this.setState({projectKey:this.sanitizeProjectKey(e.target.value)})},this.handleProjectCreate=e=>{e.preventDefault();const{projectKey:t}=this.state,n={name:t,project:t};this.props.organization&&(n.organization=this.props.organization),this.setState({loading:!0}),Object(P.c)(n).then(()=>{this.mounted&&(this.setState({done:!0,loading:!1}),this.props.onDone(t))},this.stopLoading)},this.handleProjectDelete=()=>{const{projectKey:e}=this.state;this.setState({loading:!0}),Object(P.e)(e).then(()=>{this.mounted&&(this.setState({done:!1,loading:!1,projectKey:""}),this.props.onDelete())},this.stopLoading)},this.state={done:null!=e.projectKey,loading:!1,projectKey:e.projectKey||""}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{done:e,loading:t,projectKey:n}=this.state,o=n.length>0,r=e?a.createElement("div",null,a.createElement("span",{className:"spacer-right text-middle"},n),t?a.createElement("i",{className:"spinner text-middle"}):a.createElement(D.DeleteButton,{className:"button-small text-middle",onClick:this.handleProjectDelete})):a.createElement("form",{onSubmit:this.handleProjectCreate},a.createElement("input",{autoFocus:!0,className:"input-large spacer-right text-middle",maxLength:400,minLength:1,onChange:this.handleProjectKeyChange,required:!0,type:"text",value:n}),t?a.createElement("i",{className:"spinner text-middle"}):a.createElement(D.SubmitButton,{className:"text-middle",disabled:!o},Object(i.translate)("Done")),a.createElement("div",{className:"note spacer-top abs-width-300"},Object(i.translate)("onboarding.project_key_requirement")));return a.createElement("div",{className:"big-spacer-top"},a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)("onboarding.language.project_key")),r)}}function T({checked:e,onCheck:t,optionLabelKey:n,options:o,titleLabelKey:r}){return a.createElement("div",{className:"big-spacer-top"},r&&a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)(r)),a.createElement(z.a,{name:name,onCheck:t,options:o.map(e=>({label:Object(i.translate)(n,e),value:e})),value:e}))}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){return a.createElement(T,{checked:e.os,name:"os",onCheck:e.setOS,optionLabelKey:"onboarding.language.os",options:["linux","win","mac"],titleLabelKey:"onboarding.language.os"})}class q extends a.PureComponent{constructor(e){super(e),this.handleChange=()=>{!function(e){if(!e)return!1;const{language:t,javaBuild:n,cFamilyCompiler:a,os:o,projectKey:r}=e;return"java"===t&&null!=n||"dotnet"===t&&null!=r||"c-family"===t&&("msvc"===a||null!=o)&&null!=r||"other"===t&&null!=r}(this.state)?this.props.onReset():this.props.onDone(this.state)},this.handleLanguageChange=e=>{this.setState({language:e},this.handleChange)},this.handleJavaBuildChange=e=>{this.setState({javaBuild:e},this.handleChange)},this.handleCFamilyCompilerChange=e=>{this.setState({cFamilyCompiler:e},this.handleChange)},this.handleOSChange=e=>{this.setState({os:e},this.handleChange)},this.handleProjectKeyDone=e=>{this.setState({projectKey:e},this.handleChange)},this.handleProjectKeyDelete=()=>{this.setState({projectKey:void 0},this.handleChange)},this.renderJavaBuild=()=>a.createElement(T,{checked:this.state.javaBuild,name:"java-build",onCheck:this.handleJavaBuildChange,optionLabelKey:"onboarding.language.java.build_technology",options:["maven","gradle"],titleLabelKey:"onboarding.language.java.build_technology"}),this.renderCFamilyCompiler=()=>a.createElement(T,{checked:this.state.cFamilyCompiler,name:"c-family-compiler",onCheck:this.handleCFamilyCompilerChange,optionLabelKey:"onboarding.language.c-family.compiler",options:["msvc","clang-gcc"],titleLabelKey:"onboarding.language.c-family.compiler"}),this.renderProjectKey=()=>{const{cFamilyCompiler:e,language:t,os:n}=this.state;return!("dotnet"===t||"c-family"===t&&("msvc"===e||"clang-gcc"===e&&void 0!==n)||"other"===t&&void 0!==n)||this.props.component?null:a.createElement(M,{onDelete:this.handleProjectKeyDelete,onDone:this.handleProjectKeyDone,organization:this.props.organization,projectKey:this.state.projectKey})},this.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.config||{},{projectKey:e.component?e.component.key:void 0})}render(){const{cFamilyCompiler:e,language:t}=this.state,n=Object(F.isSonarCloud)()?["java","dotnet","c-family","other"]:["java","dotnet","other"];return a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("h4",{className:"spacer-bottom"},Object(i.translate)("onboarding.language")),a.createElement(z.a,{name:"language",onCheck:this.handleLanguageChange,options:n.map(e=>({label:Object(i.translate)("onboarding.language",e),value:e})),value:t})),"java"===t&&this.renderJavaBuild(),"c-family"===t&&this.renderCFamilyCompiler(),("c-family"===t&&"clang-gcc"===e||"other"===t)&&a.createElement(B,{os:this.state.os,setOS:this.handleOSChange}),this.renderProjectKey())}}var R=n(309);function U(e){const t=R("boxed-group","onboarding-step",{"is-open":e.open,"is-finished":e.finished}),n=!e.open&&e.finished;return a.createElement("div",{className:t,onClick:n?t=>{t.preventDefault(),e.onOpen()}:void 0,role:n?"button":void 0,tabIndex:n?0:void 0},a.createElement("div",{className:"onboarding-step-number"},e.stepNumber),!e.open&&e.renderResult(),a.createElement("div",{className:"boxed-group-header"},a.createElement("h2",null,e.stepTitle)),!e.open&&a.createElement("div",{className:"boxed-group-inner"}),a.createElement("div",{className:R({hidden:!e.open})},e.renderForm()))}function H(e,t){return t&&t.key||e&&e.projectKey}class G extends a.PureComponent{constructor(){super(...arguments),this.state={},this.handleLanguageSelect=e=>{if(this.setState({config:e}),this.props.onFinish){const t="java"!==e.language?H(e):void 0;this.props.onFinish(t)}},this.handleLanguageReset=()=>{this.setState({config:void 0}),this.props.onReset&&this.props.onReset()},this.renderForm=()=>{const e=a.createElement(q,{component:this.props.component,onDone:this.handleLanguageSelect,onReset:this.handleLanguageReset,organization:this.props.organization}),t=this.state.config&&a.createElement(S,{component:this.props.component,languageConfig:this.state.config,organization:this.props.organization,small:!0,token:this.props.token});return this.props.displayRowLayout?a.createElement("div",{className:"boxed-group-inner"},a.createElement("div",{className:"display-flex-column"},e,t&&a.createElement("div",{className:"huge-spacer-top"},t))):a.createElement("div",{className:"boxed-group-inner"},a.createElement("div",{className:"flex-columns"},a.createElement("div",{className:"flex-column flex-column-half bordered-right"},e),a.createElement("div",{className:"flex-column flex-column-half"},t)))},this.renderResult=()=>null}render(){return a.createElement(U,{finished:!1,onOpen:()=>{},open:this.props.open,renderForm:this.renderForm,renderResult:this.renderResult,stepNumber:this.props.stepNumber,stepTitle:Object(i.translate)("onboarding.analysis.header")})}}var J=n(314),I=n(438),W=n.n(I),Y=n(514),V=n.n(Y),Q=n(444),$=n.n(Q),Z=n(617);class X extends a.PureComponent{constructor(e){super(e),this.mounted=!1,this.getToken=()=>"generate"===this.state.selection?this.state.token:this.state.existingToken,this.canContinue=()=>{const{existingToken:e,selection:t,token:n}=this.state,a=null!=e.match(/^[a-z0-9]+$/);return"generate"===t&&null!=n||"use-existing"===t&&e&&a},this.handleTokenNameChange=e=>{this.setState({tokenName:e.target.value})},this.handleTokenGenerate=e=>{e.preventDefault();const{tokenName:t}=this.state;t&&(this.setState({loading:!0}),Object(Z.a)({name:t}).then(({token:e})=>{this.mounted&&this.setState({loading:!1,token:e})},this.stopLoading))},this.handleTokenRevoke=()=>{const{tokenName:e}=this.state;e&&(this.setState({loading:!0}),Object(Z.c)({name:e}).then(()=>{this.mounted&&this.setState({loading:!1,token:void 0,tokenName:void 0})},this.stopLoading))},this.handleContinueClick=()=>{const e=this.getToken();e&&this.props.onContinue(e)},this.handleGenerateClick=e=>{e.preventDefault(),this.setState({selection:"generate"})},this.handleUseExistingClick=e=>{e.preventDefault(),this.setState({selection:"use-existing"})},this.handleModeChange=e=>{this.setState({selection:e})},this.handleExisingTokenChange=e=>{this.setState({existingToken:e.currentTarget.value})},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.renderGenerateOption=()=>a.createElement("div",null,void 0!==this.state.tokens&&this.state.tokens.length>0?a.createElement(W.a,{checked:"generate"===this.state.selection,onCheck:this.handleModeChange,value:"generate"},Object(i.translate)("onboarding.token.generate_token")):Object(i.translate)("onboarding.token.generate_token"),"generate"===this.state.selection&&a.createElement("div",{className:"big-spacer-top"},a.createElement("form",{onSubmit:this.handleTokenGenerate},a.createElement("input",{autoFocus:!0,className:"input-super-large spacer-right text-middle",onChange:this.handleTokenNameChange,placeholder:Object(i.translate)("onboarding.token.generate_token.placeholder"),required:!0,type:"text",value:this.state.tokenName||""}),this.state.loading?a.createElement("i",{className:"spinner text-middle"}):a.createElement(D.SubmitButton,{className:"text-middle",disabled:!this.state.tokenName},Object(i.translate)("onboarding.token.generate"))))),this.renderUseExistingOption=()=>{const{existingToken:e}=this.state,t=!e||null!=e.match(/^[a-z0-9]+$/);return a.createElement("div",{className:"big-spacer-top"},a.createElement(W.a,{checked:"use-existing"===this.state.selection,onCheck:this.handleModeChange,value:"use-existing"},Object(i.translate)("onboarding.token.use_existing_token")),"use-existing"===this.state.selection&&a.createElement("div",{className:"big-spacer-top"},a.createElement("input",{autoFocus:!0,className:"input-super-large spacer-right text-middle",onChange:this.handleExisingTokenChange,placeholder:Object(i.translate)("onboarding.token.use_existing_token.placeholder"),required:!0,type:"text",value:this.state.existingToken}),!t&&a.createElement("span",{className:"text-danger"},a.createElement(V.a,{className:"little-spacer-right text-text-top"}),Object(i.translate)("onboarding.token.invalid_format"))))},this.renderForm=()=>{const{loading:e,token:t,tokenName:n,tokens:r}=this.state,s=void 0!==r&&r.length>0;return a.createElement("div",{className:"boxed-group-inner"},null!=t?a.createElement("form",{onSubmit:this.handleTokenRevoke},a.createElement("span",{className:"text-middle"},n,": "),a.createElement("strong",{className:"spacer-right text-middle"},t),e?a.createElement("i",{className:"spinner text-middle"}):a.createElement(D.DeleteButton,{className:"button-small text-middle",onClick:this.handleTokenRevoke})):a.createElement("div",null,this.renderGenerateOption(),s&&this.renderUseExistingOption()),a.createElement("div",{className:"note big-spacer-top width-50"},a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("onboarding.token.text"),id:"onboarding.token.text",values:{link:a.createElement(J.Link,{target:"_blank",to:"/account/security"},Object(i.translate)("onboarding.token.text.user_account"))}})),this.canContinue()&&a.createElement("div",{className:"big-spacer-top"},a.createElement(D.Button,{className:"js-continue",onClick:this.handleContinueClick},Object(i.translate)("continue"))))},this.renderResult=()=>{const{selection:e,tokenName:t}=this.state,n=this.getToken();return n?a.createElement("div",{className:"boxed-group-actions display-flex-center"},a.createElement($.a,{className:"spacer-right"}),"generate"===e&&t&&"".concat(t,": "),a.createElement("strong",null,n)):null},this.state={existingToken:"",loading:!1,selection:"generate",tokenName:e.initialTokenName}}componentDidMount(){this.mounted=!0,Object(Z.b)(this.props.currentUser.login).then(e=>{this.mounted&&(this.setState({tokens:e}),void 0!==this.props.initialTokenName&&this.props.initialTokenName===this.state.tokenName&&this.setState({tokenName:f(e)}))},()=>{})}componentWillUnmount(){this.mounted=!1}render(){return a.createElement(U,{finished:this.props.finished,onOpen:this.props.onOpen,open:this.props.open,renderForm:this.renderForm,renderResult:this.renderResult,stepNumber:this.props.stepNumber,stepTitle:Object(i.translate)("onboarding.token.header")})}}var ee;n(1096);!function(e){e[e.ANALYSIS=0]="ANALYSIS",e[e.TOKEN=1]="TOKEN"}(ee||(ee={}));class te extends a.PureComponent{constructor(){super(...arguments),this.state={step:ee.TOKEN},this.handleTokenDone=e=>{this.setState({step:ee.ANALYSIS,token:e})},this.handleTokenOpen=()=>{this.setState({step:ee.TOKEN})}}render(){const{component:e,currentUser:t}=this.props,{step:n,token:o}=this.state,r=e.alm&&e.alm.key||t.externalProvider;return a.createElement(a.Fragment,null,a.createElement("div",{className:"page-header big-spacer-bottom"},a.createElement("h1",{className:"page-title"},Object(i.translate)("onboarding.project_analysis.header")),a.createElement("p",{className:"page-description"},a.createElement(u.a,{message:Object(i.translate)("onboarding.project_analysis.description")}))),!Object(m.f)(r)&&a.createElement(a.Fragment,null,a.createElement(X,{currentUser:t,finished:Boolean(this.state.token),initialTokenName:'Analyze "'.concat(e.name,'"'),onContinue:this.handleTokenDone,onOpen:this.handleTokenOpen,open:n===ee.TOKEN,stepNumber:1}),a.createElement(G,{component:e,displayRowLayout:!0,open:n===ee.ANALYSIS,stepNumber:2,token:o})))}}function ne(e){const{branchLike:t,branchLikes:n,component:r,currentUser:d,hasAnalyses:u}=e;if(r.qualifier===p.a.Application)return a.createElement("div",{className:"page page-limited"},a.createElement(s.Alert,{variant:"warning"},Object(i.translate)("provisioning.no_analysis.application")));if(!Object(l.f)(t))return null;const m=n.length>1,h=n.length>2||2===n.length&&n.some(e=>Object(l.f)(e)),g=Object(l.g)(t)&&m,b=Object(l.g)(t)&&!m&&!u;let f;return f=Object(c.b)(d)&&g&&h?a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("provisioning.no_analysis_on_main_branch.bad_configuration"),id:"provisioning.no_analysis_on_main_branch.bad_configuration",values:{branchName:Object(l.b)(t),branchType:Object(i.translate)("branches.main_branch")}}):a.createElement(o.FormattedMessage,{defaultMessage:Object(i.translate)("provisioning.no_analysis_on_main_branch"),id:"provisioning.no_analysis_on_main_branch",values:{branchName:Object(l.b)(t)}}),a.createElement("div",{className:"page page-limited"},Object(c.b)(d)?a.createElement(a.Fragment,null,g&&a.createElement(s.Alert,{variant:"warning"},f),b&&a.createElement(te,{component:r,currentUser:d})):a.createElement(s.Alert,{variant:"warning"},f))}t.default=Object(r.connect)(e=>({currentUser:Object(d.getCurrentUser)(e)}))(ne)},405:function(e,t,n){var a=n(311),o=n(430);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1},s=(a(o,r),o.locals?o.locals:{});e.exports=s},416:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d}));var a=n(333);function o(e,t){return t.endsWith("/")||(t+="/"),l(e)?t.replace("github.com/","github.com/orgs/")+"people":t+"profile/members"}function r(e){return Object(a.b)(e)&&e.externalProvider?d(e.externalProvider):void 0}function s(e){return Object(a.b)(e)&&(i(e.externalProvider)||l(e.externalProvider))}function i(e){return!!e&&e.startsWith("bitbucket")}function l(e){return"github"===e}function c(e){return"microsoft"===e}function d(e){return i(e)?"bitbucket":e}},430:function(e,t,n){(t=n(312)(!1)).push([e.i,'.icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:"";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}',""]),e.exports=t},438:function(e,t,n){"use strict";var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(309),s=n(2);n(405);var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.disabled||t.props.onCheck(t.props.value)},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.checked,a=e.children,o=e.disabled;return s.createElement("a",{"aria-checked":n,className:r("display-inline-flex-center link-radio",t,{disabled:o}),href:"#",onClick:this.handleClick,role:"radio"},s.createElement("i",{className:r("icon-radio","spacer-right",{"is-checked":n})}),a)},t}(s.PureComponent);t.default=i},448:function(e,t,n){"use strict";var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(309),s=n(2);n(492);var i=n(315),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOption=function(e){var n=e.value===t.props.value,a=t.props.name+"__"+e.value;return s.createElement("li",{key:e.value.toString()},s.createElement("input",{checked:n,disabled:e.disabled,id:a,name:t.props.name,onChange:function(){return t.props.onCheck(e.value)},type:"radio"}),s.createElement(i.default,{overlay:e.tooltip||void 0},s.createElement("label",{htmlFor:a},e.label)))},t}return o(t,e),t.prototype.render=function(){return s.createElement("ul",{className:r("radio-toggle",this.props.className)},this.props.options.map(this.renderOption))},t.defaultProps={disabled:!1,value:null},t}(s.PureComponent);t.default=l},492:function(e,t,n){var a=n(311),o=n(493);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1},s=(a(o,r),o.locals?o.locals:{});e.exports=s},493:function(e,t,n){(t=n(312)(!1)).push([e.i,".radio-toggle{font-size:0;white-space:nowrap}.radio-toggle,.radio-toggle>li{display:inline-block;vertical-align:middle}.radio-toggle>li{font-size:12px}.radio-toggle>li:first-child>label{border-top-left-radius:2px;border-bottom-left-radius:2px}.radio-toggle>li:last-child>label{border-top-right-radius:2px;border-bottom-right-radius:2px}.radio-toggle>li+li>label{border-left:none}.radio-toggle>li>label{display:inline-block;padding:0 12px;margin:0;border:1px solid #236a97;color:#236a97;height:22px;line-height:22px;cursor:pointer;font-weight:600}.radio-toggle input[type=radio]{display:none}.radio-toggle input[type=radio]:checked+label{background-color:#236a97;color:#fff}.radio-toggle input[type=radio]:disabled+label{color:#bbb;border-color:#ddd;background:#ebebeb;cursor:not-allowed}",""]),e.exports=t},542:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(309),o=n(2),r=n(377);n(700);function s({className:e,isOneLine:t,noCopy:n,render:s,snippet:i,wrap:l}){const c=Array.isArray(i)?i.filter(e=>void 0!==e):[i],d=t?c.join(" "):c.join(" \\\n  ");return o.createElement("div",{className:a("code-snippet",{"code-snippet-oneline":t,"code-snippet-wrap":l},e)},o.createElement("pre",null,s?s():d),!n&&o.createElement(r.ClipboardButton,{copyValue:d}))}},617:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n(8),o=n(321);function r(e){return Object(a.getJSON)("/api/user_tokens/search",{login:e}).then(e=>e.userTokens,o.a)}function s(e){return Object(a.postJSON)("/api/user_tokens/generate",e).catch(o.a)}function i(e){return Object(a.post)("/api/user_tokens/revoke",e).catch(o.a)}},700:function(e,t,n){var a=n(311),o=n(701);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1},s=(a(o,r),o.locals?o.locals:{});e.exports=s},701:function(e,t,n){(t=n(312)(!1)).push([e.i,".code-snippet{position:relative;margin:8px 0;background:#404040;color:#f0f0f0;border-radius:3px}.code-snippet pre{padding:16px;overflow:auto}.code-snippet>button{position:absolute;top:16px;right:16px;line-height:18px;border:1px solid #fff;color:#fff;font-size:11px;font-weight:400;-webkit-user-select:none;-ms-user-select:none;user-select:none}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:#fff;color:#404040}.code-snippet-oneline pre{padding-bottom:40px}.code-snippet-oneline>button{top:auto;bottom:16px}.code-snippet-wrap pre{white-space:pre-wrap;word-break:break-all}.code-snippet .highlight{font-weight:700;color:#f4b1b0}.code-snippet .button-icon{color:#fff!important}.code-snippet .button-icon:active svg,.code-snippet .button-icon:focus svg,.code-snippet .button-icon:hover svg{background-color:#fff;color:#404040}",""]),e.exports=t}}]);
//# sourceMappingURL=330.m.0758c817.chunk.js.map