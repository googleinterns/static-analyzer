(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{1060:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(2),n=s(5);s(680);function r(){return a.createElement("div",{className:"empty-search"},a.createElement("h3",null,Object(n.translate)("no_results_search")),a.createElement("p",{className:"big-spacer-top"},Object(n.translate)("no_results_search.2")))}},1061:function(e,t,s){(t=s(312)(!1)).push([e.i,".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#777;text-align:center}",""]),e.exports=t},337:function(e,t,s){"use strict";function a(e,t){const s=e.displayName||e.name||"Component";return"".concat(t,"(").concat(s,")")}s.d(t,"a",(function(){return a}))},378:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(2),n=s(317),r=s(319),i=s(337);function o(e){class t extends a.Component{render(){return a.createElement(e,Object.assign({},this.props))}}return t.displayName=Object(i.a)(e,"withCurrentUser"),Object(n.connect)((function(e){return{currentUser:Object(r.getCurrentUser)(e)}}))(t)}},379:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(2),n=s(449),r=s.n(n),i=s(5);function o({className:e,severity:t}){return t?a.createElement("span",{className:e},a.createElement(r.a,{className:"little-spacer-right",severity:t}),Object(i.translate)("severity",t)):null}},414:function(e,t,s){var a=s(311),n=s(488);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},440:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(309),n=s(2);function r(e){return n.createElement("div",{className:a("search-navigator-facet-box",e.className),"data-property":e.property},e.children)}},447:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(364),n=s.n(a),r=s(2);class i extends r.PureComponent{constructor(e){super(e),this.getPosition=()=>{const e=this.container&&this.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},this.debouncedOnResize=n()(()=>this.forceUpdate(),250)}componentDidMount(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)}componentWillUnmount(){window.removeEventListener("resize",this.debouncedOnResize)}render(){return r.createElement("div",{className:this.props.className,ref:e=>this.container=e},this.props.children(this.getPosition()))}}},455:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var a=s(2),n=s(310),r=s(322),i=s.n(r),o=s(431),l=s.n(o),c=s(316),p=s.n(c),h=s(5);class u extends a.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick&&this.props.onClick()}}renderHelper(){return this.props.helper?a.createElement(i.a,{className:"spacer-left",overlay:this.props.helper}):null}renderValueIndicator(){const{values:e}=this.props;if(!e||!e.length)return null;const t=1===e.length?e[0]:Object(h.translateWithParameters)("x_selected",e.length);return a.createElement("span",{className:"badge text-ellipsis",title:t},t)}render(){const e=null!=this.props.values&&this.props.values.length>0&&null!=this.props.onClear;return a.createElement("div",{className:"search-navigator-facet-header-wrapper display-flex-center"},this.props.onClick?a.createElement("span",{className:"search-navigator-facet-header display-flex-center"},a.createElement("a",{href:"#",onClick:this.handleClick},a.createElement(l.a,{className:"little-spacer-right",open:this.props.open}),this.props.name),this.renderHelper()):a.createElement("span",{className:"search-navigator-facet-header display-flex-center"},this.props.name,this.renderHelper()),this.props.children,a.createElement("span",{className:"search-navigator-facet-header-value spacer-left spacer-right "},this.renderValueIndicator()),this.props.fetching&&a.createElement("span",{className:"little-spacer-right"},a.createElement(p.a,null)),e&&a.createElement(n.Button,{className:"search-navigator-facet-header-button button-small button-red",onClick:this.props.onClear},Object(h.translate)("clear")))}}},456:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(309),n=s(2);class r extends n.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick(this.props.value,e.ctrlKey||e.metaKey)}}renderValue(){return null==this.props.stat?null:n.createElement("span",{className:"facet-stat"},this.props.stat)}render(){const{name:e}=this.props,t=a("search-navigator-facet",this.props.className,{active:this.props.active,"search-navigator-facet-half":this.props.halfWidth});return this.props.disabled?n.createElement("span",{className:t,"data-facet":this.props.value,title:this.props.tooltip},n.createElement("span",{className:"facet-name"},e),this.renderValue()):n.createElement("a",{className:t,"data-facet":this.props.value,href:"#",onClick:this.handleClick,title:this.props.tooltip},n.createElement("span",{className:"facet-name"},e),this.renderValue())}}r.defaultProps={disabled:!1,halfWidth:!1,loading:!1}},464:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var a=s(387),n=s.n(a),r=s(309),i=s(2),o=s(353),l=s.n(o),c=s(5),p=s(342),h=s.n(p);function u(e){const{active:t,custom:s,disabled:a,element:n,selected:o}=e,l=()=>e.onHover(n),p=r({active:t,disabled:a}),u=e.renderLabel(n);return i.createElement("li",{onFocus:l,onMouseOver:l},i.createElement(h.a,{checked:Boolean(o),className:p,disabled:a,id:n,onCheck:e.onSelectChange},s?i.createElement("span",{"aria-label":"".concat(Object(c.translate)("create_new_element"),": ").concat(u),className:"little-spacer-left"},i.createElement("span",{"aria-hidden":!0,className:"little-spacer-right"},"+"),u):i.createElement("span",{className:"little-spacer-left"},u)))}class m extends i.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleSelectChange=(e,t)=>{e?this.onSelectItem(t):this.onUnselectItem(t)},this.handleSearchChange=e=>{this.onSearchQuery(this.props.validateSearchInput(e))},this.handleElementHover=e=>{this.setState((t,s)=>({activeIdx:this.getAllElements(s,t).indexOf(e)}))},this.handleKeyboard=e=>{switch(e.keyCode){case 40:e.stopPropagation(),e.preventDefault(),this.setState(this.selectNextElement);break;case 38:e.stopPropagation(),e.preventDefault(),this.setState(this.selectPreviousElement);break;case 37:case 39:e.stopPropagation();break;case 13:this.state.activeIdx>=0&&this.toggleSelect(this.getAllElements(this.props,this.state)[this.state.activeIdx])}},this.onSearchQuery=e=>{this.setState({activeIdx:0,loading:!0,query:e}),this.props.onSearch(e).then(this.stopLoading,this.stopLoading)},this.onSelectItem=e=>{this.isNewElement(e,this.props)&&this.onSearchQuery(""),this.props.onSelect(e)},this.onUnselectItem=e=>this.props.onUnselect(e),this.isNewElement=(e,{selectedElements:t,elements:s})=>e.length>0&&-1===t.indexOf(e)&&-1===s.indexOf(e),this.updateSelectedElements=e=>{this.setState(t=>t.query?{selectedElements:e.filterSelected(t.query,e.selectedElements)}:{selectedElements:[...e.selectedElements]})},this.updateUnselectedElements=e=>{this.setState(t=>0===e.listSize?{unselectedElements:n()(e.elements,e.selectedElements)}:e.listSize<t.selectedElements.length?{unselectedElements:[]}:{unselectedElements:n()(e.elements,e.selectedElements).slice(0,e.listSize-t.selectedElements.length)})},this.getAllElements=(e,t)=>this.isNewElement(t.query,e)?[...t.selectedElements,...t.unselectedElements,t.query]:[...t.selectedElements,...t.unselectedElements],this.setElementActive=e=>this.setState({activeIdx:e}),this.selectNextElement=(e,t)=>{const{activeIdx:s}=e,a=this.getAllElements(t,e);return s<0||s>=a.length-1?{activeIdx:0}:{activeIdx:s+1}},this.selectPreviousElement=(e,t)=>{const{activeIdx:s}=e,a=this.getAllElements(t,e);if(s<=0){return{activeIdx:a.length-1}}return{activeIdx:s-1}},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.toggleSelect=e=>{-1===this.props.selectedElements.indexOf(e)?this.onSelectItem(e):this.onUnselectItem(e)},this.state={activeIdx:0,loading:!0,query:"",selectedElements:[],unselectedElements:[]}}componentDidMount(){this.mounted=!0,this.onSearchQuery(""),this.updateSelectedElements(this.props),this.updateUnselectedElements(this.props),this.container&&this.container.addEventListener("keydown",this.handleKeyboard,!0)}componentWillReceiveProps(e){if(this.props.elements!==e.elements||this.props.selectedElements!==e.selectedElements){this.updateSelectedElements(e),this.updateUnselectedElements(e);const t=this.getAllElements(e,this.state).length;this.state.activeIdx>=t&&this.setState({activeIdx:t-1})}}componentDidUpdate(){this.searchInput&&this.searchInput.focus()}componentWillUnmount(){this.mounted=!1,this.container&&this.container.removeEventListener("keydown",this.handleKeyboard)}render(){const{allowSelection:e=!0,allowNewElements:t=!0,footerNode:s=""}=this.props,{renderLabel:a}=this.props,{query:n,activeIdx:o,selectedElements:p,unselectedElements:h}=this.state,m=this.getAllElements(this.props,this.state)[o],d=t&&this.isNewElement(n,this.props),g=0===this.props.listSize,f=r("menu",{"menu-vertically-limited":g,"spacer-top":g,"with-top-separator":g,"with-bottom-separator":Boolean(s)});return i.createElement("div",{className:"multi-select",ref:e=>this.container=e},i.createElement("div",{className:"menu-search"},i.createElement(l.a,{autoFocus:!0,className:"little-spacer-top",loading:this.state.loading,onChange:this.handleSearchChange,placeholder:this.props.placeholder,value:n})),i.createElement("ul",{className:f},p.length>0&&p.map(e=>i.createElement(u,{active:m===e,element:e,key:e,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:a,selected:!0})),h.length>0&&h.map(t=>i.createElement(u,{active:m===t,disabled:!e,element:t,key:t,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:a})),d&&i.createElement(u,{active:m===n,custom:!0,element:n,key:n,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:a}),!d&&p.length<1&&h.length<1&&i.createElement("li",{className:"spacer-left"},Object(c.translateWithParameters)("no_results_for_x",n))),s)}}m.defaultProps={filterSelected:(e,t)=>t.filter(t=>t.includes(e)),listSize:0,renderLabel:e=>e,validateSearchInput:e=>e}},471:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var a=s(309),n=s(2),r=s(330),i=s.n(r),o=s(402),l=s.n(o),c=s(5);s(414);function p({allowUpdate:e=!1,className:t,tags:s}){return n.createElement("span",{"aria-label":Object(c.translateWithParameters)("tags_list_x",s.join(", ")),className:a("tags-list",t)},n.createElement(l.a,{className:"text-middle"}),n.createElement("span",{"aria-hidden":!0,className:"text-ellipsis text-middle",title:s.join(", ")},s.join(", ")),e&&n.createElement(i.a,{className:"text-middle"}))}},472:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(309),n=s(2),r=s(5),i=s(320);class o extends n.PureComponent{handleClick(e){e.preventDefault(),window.open(Object(i.n)(),"Markdown","height=300,width=600,scrollbars=1,resizable=1")}render(){return n.createElement("div",{className:a("markdown-tips",this.props.className)},n.createElement("a",{className:"little-spacer-right",href:"#",onClick:this.handleClick},Object(r.translate)("markdown.helplink")),":",n.createElement("span",{className:"spacer-left"},"*",Object(r.translate)("bold"),"*"),n.createElement("span",{className:"spacer-left"},"``",Object(r.translate)("code"),"``"),n.createElement("span",{className:"spacer-left"},"* ",Object(r.translate)("bulleted_point")))}}},476:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(2);function n({children:e,title:t}){return a.createElement("div",{className:"search-navigator-facet-list"},t&&a.createElement("div",{className:"search-navigator-facet-list-title"},t),e)}},488:function(e,t,s){(t=s(312)(!1)).push([e.i,".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}",""]),e.exports=t},502:function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var a=s(356),n=s.n(a),r=s(326),i=s.n(r),o=s(309),l=s(2),c=s(358),p=s.n(c),h=s(353),u=s.n(h),m=s(315),d=s.n(m),g=s(325),f=s(5),v=s(318),b=s(432),y=s(440),E=s(455),x=s(456),k=s(476);class C extends l.PureComponent{constructor(){super(...arguments),this.handleShowMoreClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.showMore()},this.handleShowLessClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.showLess&&this.props.showLess()}}render(){const{count:e,total:t}=this.props,s=t>e,a=Boolean(t&&t===e);return l.createElement("footer",{className:"note spacer-top spacer-bottom text-center"},Object(f.translateWithParameters)("x_show",Object(v.formatMeasure)(e,"INT",null)),s&&l.createElement("a",{className:"spacer-left text-muted",href:"#",onClick:this.handleShowMoreClick},Object(f.translate)("show_more")),this.props.showLess&&a&&l.createElement("a",{className:"spacer-left text-muted",href:"#",onClick:this.handleShowLessClick},Object(f.translate)("show_less")))}}var O=s(564);function N(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function P(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?N(Object(s),!0).forEach((function(t){w(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function w(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class S extends l.Component{constructor(){super(...arguments),this.mounted=!1,this.state={autoFocus:!1,query:"",searching:!1,searchResultsCounts:{},showFullList:!1},this.handleItemClick=(e,t)=>{if(this.props.onItemClick)this.props.onItemClick(e,t);else{const{values:s}=this.props;if(t){const t=i()(s.includes(e)?n()(s,e):[...s,e]);this.props.onChange({[this.props.property]:t})}else this.props.onChange({[this.props.property]:s.includes(e)&&s.length<2?[]:[e]})}},this.handleHeaderClick=()=>{this.props.onToggle(this.props.property)},this.handleClear=()=>{this.props.onClear?this.props.onClear():this.props.onChange({[this.props.property]:[]})},this.stopSearching=()=>{this.mounted&&this.setState({searching:!1})},this.search=e=>{e.length>=this.props.minSearchLength?(this.setState({query:e,searching:!0}),this.props.onSearch(e).then(this.loadCountsForSearchResults).then(({maxResults:e,paging:t,results:s,stats:a})=>{this.mounted&&this.setState(n=>({searching:!1,searchMaxResults:e,searchResults:s,searchPaging:t,searchResultsCounts:P({},n.searchResultsCounts,{},a)}))}).catch(this.stopSearching)):this.setState({query:e,searching:!1,searchResults:[]})},this.searchMore=()=>{const{query:e,searchPaging:t,searchResults:s}=this.state;e&&s&&t&&(this.setState({searching:!0}),this.props.onSearch(e,t.pageIndex+1).then(this.loadCountsForSearchResults).then(({paging:e,results:t,stats:a})=>{this.mounted&&this.setState(n=>({searching:!1,searchResults:[...s,...t],searchPaging:e,searchResultsCounts:P({},n.searchResultsCounts,{},a)}))}).catch(this.stopSearching))},this.loadCountsForSearchResults=e=>{const{loadSearchResultCount:t=(()=>Promise.resolve({}))}=this.props,s=e.results.filter(e=>{const t=this.props.getSearchResultKey(e);return void 0===this.getStat(t)&&void 0===this.state.searchResultsCounts[t]});return s.length>0?t(s).then(t=>P({},e,{stats:t})):P({},e,{stats:{}})},this.showFullList=()=>{this.setState({showFullList:!0})},this.hideFullList=()=>{this.setState({showFullList:!1})}}componentDidMount(){this.mounted=!0}componentDidUpdate(e){!e.open&&this.props.open?this.setState({autoFocus:!0}):e.open&&!this.props.open||!Object(b.queriesEqual)(e.query||{},this.props.query||{})?this.setState({query:"",searchMaxResults:void 0,searchResults:void 0,searching:!1,searchResultsCounts:{},showFullList:!1}):e.stats!==this.props.stats&&Object.keys(this.props.stats||{}).length<this.props.maxInitialItems&&this.setState({showFullList:!1})}componentWillUnmount(){this.mounted=!1}getStat(e){const{stats:t}=this.props;return t&&void 0!==t[e]?t&&t[e]:void 0}renderList(){const{stats:e}=this.props;if(!e)return null;const t=this.props.getSortedItems?this.props.getSortedItems():i()(Object.keys(e),t=>-e[t],e=>this.props.getFacetItemText(e)),s=this.state.showFullList?t:t.slice(0,this.props.maxInitialItems),a=this.state.showFullList?[]:t.slice(this.props.maxInitialItems).filter(e=>this.props.values.includes(e)),n=t.length>=this.props.maxItems;return l.createElement(l.Fragment,null,l.createElement(k.a,null,s.map(e=>l.createElement(x.a,{active:this.props.values.includes(e),key:e,name:this.props.renderFacetItem(e),onClick:this.handleItemClick,stat:j(this.getStat(e)),tooltip:this.props.getFacetItemText(e),value:e}))),a.length>0&&l.createElement(l.Fragment,null,l.createElement("div",{className:"note spacer-bottom text-center"},"â‹¯"),l.createElement(k.a,null,a.map(e=>l.createElement(x.a,{active:!0,key:e,name:this.props.renderFacetItem(e),onClick:this.handleItemClick,stat:j(this.getStat(e)),tooltip:this.props.getFacetItemText(e),value:e})))),l.createElement(C,{count:s.length+a.length,showLess:this.state.showFullList?this.hideFullList:void 0,showMore:this.showFullList,total:t.length}),n&&this.state.showFullList&&l.createElement(g.Alert,{className:"spacer-top",variant:"warning"},Object(f.translate)("facet_might_have_more_results")))}renderSearch(){return this.props.stats&&Object.keys(this.props.stats).length?l.createElement(u.a,{autoFocus:this.state.autoFocus,className:"little-spacer-top spacer-bottom",loading:this.state.searching,minLength:this.props.minSearchLength,onChange:this.search,placeholder:this.props.searchPlaceholder,value:this.state.query}):null}renderSearchResults(){const{searching:e,searchMaxResults:t,searchResults:s,searchPaging:a}=this.state;return e||s&&s.length?s?l.createElement(l.Fragment,null,l.createElement(k.a,null,s.map(e=>this.renderSearchResult(e))),t&&l.createElement(g.Alert,{className:"spacer-top",variant:"warning"},Object(f.translate)("facet_might_have_more_results")),a&&l.createElement(p.a,{className:"spacer-bottom",count:s.length,loadMore:this.searchMore,ready:!e,total:a.total})):null:l.createElement("div",{className:"note spacer-bottom"},Object(f.translate)("no_results"))}renderSearchResult(e){const t=this.props.getSearchResultKey(e),s=this.props.values.includes(t),a=this.getStat(t)||this.state.searchResultsCounts[t],n=!s&&0===a;return l.createElement(x.a,{active:s,disabled:n,key:t,name:this.props.renderSearchResult(e,this.state.query),onClick:this.handleItemClick,stat:j(a),tooltip:this.props.getSearchResultText(e),value:t})}render(){const{disabled:e,stats:t={}}=this.props,{query:s,searching:a,searchResults:n}=this.state,r=this.props.values.map(e=>this.props.getFacetItemText(e)),i=""!==s&&a&&(void 0===n||0===n.length),c=!s||i;return l.createElement(y.a,{className:o(this.props.className,{"search-navigator-facet-box-forbidden":e}),property:this.props.property},l.createElement(E.a,{fetching:this.props.fetching,name:l.createElement(d.a,{overlay:e?this.props.disabledHelper:void 0},l.createElement("span",null,this.props.facetHeader)),onClear:this.handleClear,onClick:e?void 0:this.handleHeaderClick,open:this.props.open&&!e,values:r}),this.props.open&&!e&&l.createElement(l.Fragment,null,this.renderSearch(),c?this.renderList():this.renderSearchResults(),l.createElement(O.a,{options:Object.keys(t).length,values:r.length})))}}function j(e){return e&&Object(v.formatMeasure)(e,"SHORT_INT")}S.defaultProps={maxInitialItems:15,maxItems:100,minSearchLength:2}},521:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(2),n=s(5),r=s(464);s(414);function i(e){return a.createElement(r.a,{elements:e.tags,listSize:e.listSize,onSearch:e.onSearch,onSelect:e.onSelect,onUnselect:e.onUnselect,placeholder:Object(n.translate)("search.search_for_tags"),selectedElements:e.selectedTags,validateSearchInput:o})}function o(e){return e.toLowerCase().replace(/[^-a-z0-9+#.]/gi,"")}},531:function(e,t,s){"use strict";s.d(t,"a",(function(){return w}));var a=s(489),n=s.n(a),r=s(309),i=s(384),o=s(439),l=s(473),c=s(474),p=s(2),h=s(304),u=s(310),m=s(541),d=s.n(m),g=s(340),f=s.n(g),v=s(532),b=s.n(v),y=s(496),E=s.n(y),x=s(418),k=s.n(x),C=s(323),O=s(5);s(533),s(535);function N(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}const P=Object(C.lazyLoadComponent)(()=>s.e(329).then(s.t.bind(null,686,7)),"DayPicker");class w extends p.PureComponent{constructor(e){super(e),this.focus=()=>{this.input&&this.input.focus(),this.openCalendar()},this.handleResetClick=()=>{this.closeCalendar(),this.props.onChange(void 0)},this.openCalendar=()=>{this.setState({currentMonth:this.props.value||this.props.currentMonth||new Date,lastHovered:void 0,open:!0})},this.closeCalendar=()=>{this.setState({open:!1})},this.handleDayClick=(e,t)=>{t.disabled||(this.closeCalendar(),this.props.onChange(e))},this.handleDayMouseEnter=(e,t)=>{this.setState({lastHovered:t.disabled?void 0:e})},this.handleCurrentMonthChange=({value:e})=>{this.setState(t=>({currentMonth:o(t.currentMonth,e)}))},this.handleCurrentYearChange=({value:e})=>{this.setState(t=>({currentMonth:l(t.currentMonth,e)}))},this.handlePreviousMonthClick=()=>{this.setState(e=>({currentMonth:c(e.currentMonth,1)}))},this.handleNextMonthClick=()=>{this.setState(e=>({currentMonth:i(e.currentMonth,1)}))},this.state={currentMonth:e.value||e.currentMonth||new Date,open:!1}}render(){const{highlightFrom:e,highlightTo:t,minDate:s,value:a}=this.props,{lastHovered:i}=this.state,o=this.props.maxDate||new Date,l=n()(12),c=n()((new Date).getFullYear()-10,(new Date).getFullYear()+1),h=a?[a]:[];let m;const g=i||a;e&&g&&(m={highlighted:{from:e,to:g}},h.push(e)),t&&g&&(m={highlighted:{from:g,to:t}},h.push(t));const v=n()(7).map(O.getWeekDayName),y=n()(7).map(O.getShortWeekDayName);return p.createElement(d.a,{onClickOutside:this.closeCalendar},p.createElement("span",{className:r("date-input-control",this.props.className)},p.createElement(j,{className:r("date-input-control-input",this.props.inputClassName,{"is-filled":void 0!==this.props.value}),innerRef:e=>this.input=e,name:this.props.name,onFocus:this.openCalendar,placeholder:this.props.placeholder,readOnly:!0,type:"text",value:a}),p.createElement(b.a,{className:"date-input-control-icon",fill:""}),void 0!==this.props.value&&p.createElement(u.ClearButton,{className:"button-tiny date-input-control-reset",iconProps:{size:12},onClick:this.handleResetClick}),this.state.open&&p.createElement("div",{className:"date-input-calendar"},p.createElement("nav",{className:"date-input-calendar-nav"},p.createElement(u.ButtonIcon,{className:"button-small",onClick:this.handlePreviousMonthClick},p.createElement(E.a,null)),p.createElement("div",{className:"date-input-calender-month"},p.createElement(f.a,{className:"date-input-calender-month-select",onChange:this.handleCurrentMonthChange,options:l.map(e=>({label:Object(O.getShortMonthName)(e),value:e})),value:this.state.currentMonth.getMonth()}),p.createElement(f.a,{className:"date-input-calender-month-select spacer-left",onChange:this.handleCurrentYearChange,options:c.map(e=>({label:String(e),value:e})),value:this.state.currentMonth.getFullYear()})),p.createElement(u.ButtonIcon,{className:"button-small",onClick:this.handleNextMonthClick},p.createElement(k.a,null))),p.createElement(P,{captionElement:p.createElement(S,null),disabledDays:{after:o,before:s},firstDayOfWeek:1,modifiers:m,month:this.state.currentMonth,navbarElement:p.createElement(S,null),onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,selectedDays:h,weekdaysLong:v,weekdaysShort:y}))))}}function S(){return null}const j=Object(h.injectIntl)(e=>{let{innerRef:t,intl:s,value:a}=e,n=N(e,["innerRef","intl","value"]);const r=a&&s.formatDate(a,{year:"numeric",month:"short",day:"numeric"});return p.createElement("input",Object.assign({},n,{ref:t,value:r||""}))})},533:function(e,t,s){var a=s(311),n=s(534);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},534:function(e,t,s){(t=s(312)(!1)).push([e.i,".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}",""]),e.exports=t},535:function(e,t,s){var a=s(311),n=s(536);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},536:function(e,t,s){(t=s(312)(!1)).push([e.i,".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}",""]),e.exports=t},555:function(e,t,s){"use strict";var a=s(309),n=s(2),r=s(317),i=s(310),o=s(315),l=s.n(o),c=s(556),p=s.n(c),h=s(5),u=s(333),m=s(319);class d extends n.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.setHomePage(this.props.currentPage)}}render(){const{currentPage:e,currentUser:t}=this.props;if(!Object(u.b)(t))return null;const{homepage:s}=t,r=void 0!==s&&(c=e,(o=s).type===c.type&&o.branch===c.branch&&o.component===c.component&&o.organization===c.organization);var o,c;const m=r?Object(h.translate)("homepage.current"):Object(h.translate)("homepage.check");return n.createElement(l.a,{overlay:m},r?n.createElement("span",{"aria-label":m,className:a("display-inline-block",this.props.className)},n.createElement(p.a,{filled:r})):n.createElement(i.ButtonLink,{"aria-label":m,className:a("link-no-underline","set-homepage-link",this.props.className),onClick:this.handleClick},n.createElement(p.a,{filled:r})))}}const g={setHomePage:s(518).f};t.a=Object(r.connect)(e=>({currentUser:Object(m.getCurrentUser)(e)}),g)(d)},557:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(309),n=s(2);s(717);function r(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function i(e){const{children:t,leading:s,onClick:i,selected:o}=e,l=r(e,["children","leading","onClick","selected"]),c=i?{onClick:i,role:"button",tabIndex:0}:{};return n.createElement("div",Object.assign({className:a("location-index",{"is-leading":s,selected:o})},c,l),t)}},558:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(2),n=s(888),r=s.n(n),i=s(5);function o(e){const t=e.resolution&&" (".concat(Object(i.translate)("issue.resolution",e.resolution),")");return a.createElement("span",{className:e.className},a.createElement(r.a,{className:"little-spacer-right",status:e.status}),Object(i.translate)("issue.status",e.status),t)}},562:function(e,t,s){var a=s(311),n=s(563);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},563:function(e,t,s){(t=s(312)(!1)).push([e.i,'.search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:"";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:"";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}',""]),e.exports=t},564:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(2),n=s(5);s(995);function r({options:e,values:t}){return 0===t||e<2?null:a.createElement("div",{className:"multiple-selection-hint"},a.createElement("div",{className:"multiple-selection-hint-inner"},Object(n.translate)(-1!==navigator.userAgent.indexOf("Mac OS X")?"shortcuts.section.global.facets.multiselection.mac":"shortcuts.section.global.facets.multiselection")))}},589:function(e,t,s){"use strict";var a=s(323);const n=Object(a.lazyLoadComponent)(()=>Promise.all([s.e(0),s.e(2),s.e(11),s.e(16),s.e(299)]).then(s.bind(null,851)),"SourceViewer");t.a=n},612:function(e,t,s){"use strict";function a(){return s.e(391).then(s.t.bind(null,845,3)).then(e=>e.default)}function n(e,t){const s=e.cwe[t];return s?"unknown"===t?s.title:"CWE-".concat(t," - ").concat(s.title):"CWE-".concat(t)}function r(e,t,s=!1){const a=e.owaspTop10[t];return l(a?"".concat(t.toUpperCase()," - ").concat(a.title):t.toUpperCase(),"OWASP",s)}function i(e,t,s=!1){const a=e.sansTop25[t];return l(a?a.title:t,"SANS",s)}function o(e,t,s=!1){const a=e.sonarsourceSecurity[t];return a?"others"===t?a.title:l(a.title,"SONAR",s):l(t.toUpperCase(),"SONAR",s)}function l(e,t,s){return s?"".concat(t," ").concat(e):e}s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return r})),s.d(t,"d",(function(){return i})),s.d(t,"e",(function(){return o}))},629:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(309),n=s(2),r=s(5),i=s(531);class o extends n.PureComponent{constructor(){super(...arguments),this.handleFromChange=e=>{this.props.onChange({from:e,to:this.to}),setTimeout(()=>{e&&!this.to&&this.toDateInput&&this.toDateInput.focus()},0)},this.handleToChange=e=>{this.props.onChange({from:this.from,to:e})}}get from(){return this.props.value&&this.props.value.from}get to(){return this.props.value&&this.props.value.to}render(){return n.createElement("div",{className:a("display-inline-flex-center",this.props.className)},n.createElement(i.a,{currentMonth:this.to,"data-test":"from",highlightTo:this.to,maxDate:this.to,onChange:this.handleFromChange,placeholder:Object(r.translate)("start_date"),value:this.from}),n.createElement("span",{className:"note little-spacer-left little-spacer-right"},Object(r.translate)("to_")),n.createElement(i.a,{currentMonth:this.from,"data-test":"to",highlightFrom:this.from,minDate:this.from,onChange:this.handleToChange,placeholder:Object(r.translate)("end_date"),ref:e=>this.toDateInput=e,value:this.to}))}}},664:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(2),n=s(5),r=s(318);function i({diff:e}){if("file"===e.key)return a.createElement("p",null,Object(n.translateWithParameters)("issue.change.file_move",e.oldValue||"",e.newValue||""));if(["from_long_branch","from_branch"].includes(e.key))return a.createElement("p",null,Object(n.translateWithParameters)("issue.change.from_branch",e.oldValue||"",e.newValue||""));if("from_short_branch"===e.key)return a.createElement("p",null,Object(n.translateWithParameters)("issue.change.from_non_branch",e.oldValue||"",e.newValue||""));if("line"===e.key)return a.createElement("p",null,Object(n.translateWithParameters)("issue.changelog.line_removed_X",e.oldValue||""));let t;if(null!=e.newValue){let{newValue:s}=e;"effort"===e.key&&(s=Object(r.formatMeasure)(e.newValue,"WORK_DUR")),t=Object(n.translateWithParameters)("issue.changelog.changed_to",Object(n.translate)("issue.changelog.field",e.key),s)}else t=Object(n.translateWithParameters)("issue.changelog.removed",Object(n.translate)("issue.changelog.field",e.key));if(null!=e.oldValue){let{oldValue:s}=e;"effort"===e.key&&(s=Object(r.formatMeasure)(e.oldValue,"WORK_DUR")),t+=" (".concat(Object(n.translateWithParameters)("issue.changelog.was",s),")")}return a.createElement("p",null,t)}},680:function(e,t,s){var a=s(311),n=s(1061);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},717:function(e,t,s){var a=s(311),n=s(718);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},718:function(e,t,s){(t=s(312)(!1)).push([e.i,".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}",""]),e.exports=t},719:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(309),n=s(2);s(720);function r(e){return n.createElement("div",{className:a("location-message",{selected:e.selected})},e.children)}},720:function(e,t,s){var a=s(311),n=s(721);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},721:function(e,t,s){(t=s(312)(!1)).push([e.i,'.location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:""}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}',""]),e.exports=t},722:function(e,t,s){var a=s(311),n=s(723);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},723:function(e,t,s){(t=s(312)(!1)).push([e.i,'.issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none;word-break:break-all}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:"";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}',""]),e.exports=t},796:function(e,t,s){"use strict";s.d(t,"a",(function(){return Xe}));var a=s(487),n=s(2),r=s(352),i=s(604);const o=(e,t,s,a)=>{const n=void 0!==s&&void 0!==a;n&&e(a),t.then(t=>{if(!n){const s=Object(i.a)(t.issue,t.components,t.users,t.rules);e(s)}},()=>{n&&e(s)})};s(722);var l=s(309),c=s.n(l),p=s(342),h=s.n(p),u=s(5),m=s(310),d=s(346),g=s.n(d),f=s(330),v=s.n(f),b=s(366),y=s(355),E=s.n(y),x=s(324),k=s(353),C=s.n(k),O=s(485),N=s(435),P=s(22),w=s(333),S=s(804),j=s.n(S),D=s(315),_=s.n(D);class I extends n.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{e.preventDefault(),this.props.onSelect&&this.props.onSelect(this.props.item)},this.handleHover=()=>{this.props.onHover&&this.props.onHover(this.props.item)}}renderLink(){const e=this.props.children||this.props.item;return n.createElement("li",null,n.createElement("a",{className:c()({active:this.props.active===this.props.item},this.props.className),href:"#",onClick:this.handleSelect,onFocus:this.handleHover,onMouseOver:this.handleHover},e))}render(){return n.createElement(_.a,{overlay:this.props.title||void 0,placement:"right"},this.renderLink())}}class T extends n.PureComponent{constructor(e){super(e),this.attachShortcuts=()=>{this.previousKeyScope=a.getScope(),this.previousFilter=a.filter,this.currentKeyScope=j()("key-scope"),a.setScope(this.currentKeyScope),a.filter=e=>{const{tagName:t}=e.target||e.srcElement,s="INPUT"===t||"SELECT"===t||"TEXTAREA"===t;return[13,38,40].includes(e.keyCode)||!s},a("down",this.currentKeyScope,()=>(this.setState(this.selectNextElement),!1)),a("up",this.currentKeyScope,()=>(this.setState(this.selectPreviousElement),!1)),a("return",this.currentKeyScope,()=>(null!=this.state.active&&this.handleSelect(this.state.active),!1))},this.detachShortcuts=()=>{this.previousKeyScope&&a.setScope(this.previousKeyScope),this.currentKeyScope&&a.deleteScope(this.currentKeyScope),a.filter=this.previousFilter},this.handleSelect=e=>{this.props.onSelect(e)},this.handleHover=e=>{this.setState({active:e})},this.selectNextElement=(e,t)=>{const s=t.items.indexOf(e.active);return s<0?{active:t.items[0]}:{active:t.items[(s+1)%t.items.length]}},this.selectPreviousElement=(e,t)=>{const s=t.items.indexOf(e.active);return s<=0?{active:t.items[t.items.length-1]}:{active:t.items[s-1]}},this.renderChild=e=>null==e?null:e.type!==I?e:n.cloneElement(e,{active:this.state.active,onHover:this.handleHover,onSelect:this.handleSelect}),this.state={active:e.currentItem}}componentDidMount(){this.attachShortcuts()}componentDidUpdate(e){e.currentItem===this.props.currentItem||this.props.items.includes(this.state.active)||this.setState({active:this.props.currentItem})}componentWillUnmount(){this.detachShortcuts()}render(){const{children:e}=this.props,t=n.Children.count(e)>0;return n.createElement("ul",{className:c()("menu",this.props.className)},t&&n.Children.map(e,this.renderChild),!t&&this.props.items.map(e=>n.createElement(I,{active:this.state.active,item:e,key:e,onHover:this.handleHover,onSelect:this.handleSelect})))}}var L=s(378);class R extends n.PureComponent{constructor(e){super(e),this.searchMembers=e=>{Object(O.h)({organization:this.props.issue.projectOrganization,q:e,ps:10}).then(this.handleSearchResult,()=>{})},this.searchUsers=e=>{Object(N.f)({q:e,ps:10}).then(this.handleSearchResult,()=>{})},this.handleSearchResult=({users:e})=>{const t=e.filter(w.c);this.setState({users:t,currentUser:t.length>0?t[0].login:""})},this.handleSearchChange=e=>{0===e.length?this.setState({query:e,users:this.defaultUsersArray,currentUser:this.defaultUsersArray[0].login}):(this.setState({query:e}),Object(P.isSonarCloud)()?this.searchMembers(e):this.searchUsers(e))},this.defaultUsersArray=[{login:"",name:Object(u.translate)("unassigned")}],Object(w.b)(e.currentUser)&&(this.defaultUsersArray=[e.currentUser,...this.defaultUsersArray]),this.state={query:"",users:this.defaultUsersArray,currentUser:this.defaultUsersArray.length>0?this.defaultUsersArray[0].login:""}}render(){return n.createElement(x.DropdownOverlay,{noPadding:!0},n.createElement("div",{className:"multi-select"},n.createElement("div",{className:"menu-search"},n.createElement(C.a,{autoFocus:!0,className:"little-spacer-top",minLength:2,onChange:this.handleSearchChange,placeholder:Object(u.translate)("search.search_for_users"),value:this.state.query})),n.createElement(T,{currentItem:this.state.currentUser,items:E()(this.state.users,"login"),onSelect:this.props.onSelect},this.state.users.map(e=>n.createElement(I,{item:e.login,key:e.login},!!e.login&&n.createElement(b.a,{className:"spacer-right",hash:e.avatar,name:e.name,size:16}),n.createElement("span",{className:"text-middle",style:{marginLeft:e.login?24:void 0}},e.name))))))}}var M=Object(L.a)(R);class U extends n.PureComponent{constructor(){super(...arguments),this.toggleAssign=e=>{this.props.togglePopup("assign",e)},this.handleClose=()=>{this.toggleAssign(!1)}}renderAssignee(){const{issue:e}=this.props,t=e.assigneeName||e.assignee;return t?n.createElement(n.Fragment,null,n.createElement("span",{className:"text-top"},n.createElement(b.a,{className:"little-spacer-right",hash:e.assigneeAvatar,name:e.assigneeName||e.assignee,size:16})),n.createElement("span",{className:"issue-meta-label"},!1===e.assigneeActive?Object(u.translateWithParameters)("user.x_deleted",t):t)):n.createElement("span",{className:"issue-meta-label"},Object(u.translate)("unassigned"))}render(){return this.props.canAssign?n.createElement("div",{className:"dropdown"},n.createElement(g.a,{closeOnEscape:!0,onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canAssign,overlay:n.createElement(M,{issue:this.props.issue,onSelect:this.props.onAssign})},n.createElement(m.ButtonLink,{className:"issue-action issue-action-with-options js-issue-assign",onClick:this.toggleAssign},this.renderAssignee(),n.createElement(v.a,{className:"little-spacer-left"})))):this.renderAssignee()}}var A=s(472);class F extends n.PureComponent{constructor(e){super(e),this.handleCommentChange=e=>{this.setState({textComment:e.target.value})},this.handleCommentClick=()=>{this.state.textComment.trim().length>0&&this.props.onComment(this.state.textComment)},this.handleCancelClick=()=>{this.props.toggleComment(!1)},this.handleKeyboard=e=>{13===e.keyCode&&(e.metaKey||e.ctrlKey)?this.handleCommentClick():[37,38,39,40].includes(e.keyCode)&&e.stopPropagation()},this.state={textComment:e.comment?e.comment.markdown:""}}render(){const{comment:e,autoTriggered:t}=this.props;return n.createElement(x.DropdownOverlay,{placement:this.props.placement},n.createElement("div",{className:"issue-comment-bubble-popup"},n.createElement("div",{className:"issue-comment-form-text"},n.createElement("textarea",{autoFocus:!0,onChange:this.handleCommentChange,onKeyDown:this.handleKeyboard,placeholder:this.props.placeholder,rows:2,value:this.state.textComment})),n.createElement("div",{className:"issue-comment-form-footer"},n.createElement("div",{className:"issue-comment-form-actions"},n.createElement(m.Button,{className:"js-issue-comment-submit little-spacer-right",disabled:this.state.textComment.trim().length<1,onClick:this.handleCommentClick},e&&Object(u.translate)("save"),!e&&Object(u.translate)("issue.comment.submit")),n.createElement(m.ResetButtonLink,{className:"js-issue-comment-cancel",onClick:this.handleCancelClick},t?Object(u.translate)("skip"):Object(u.translate)("cancel"))),n.createElement("div",{className:"issue-comment-form-tips"},n.createElement(A.a,null)))))}}class z extends n.PureComponent{constructor(){super(...arguments),this.addComment=e=>{o(this.props.onChange,Object(r.a)({issue:this.props.issueKey,text:e})),this.props.toggleComment(!1)},this.handleCommentClick=()=>{this.props.toggleComment()},this.handleClose=()=>{this.props.toggleComment(!1)}}render(){return n.createElement("li",{className:"issue-meta dropdown"},n.createElement(g.a,{closeOnClickOutside:!1,onRequestClose:this.handleClose,open:"comment"===this.props.currentPopup,overlay:n.createElement(F,{autoTriggered:this.props.commentAutoTriggered,onComment:this.addComment,placeholder:this.props.commentPlaceholder,toggleComment:this.props.toggleComment})},n.createElement(m.ButtonLink,{className:"issue-action js-issue-comment",onClick:this.handleCommentClick},n.createElement("span",{className:"issue-meta-label"},Object(u.translate)("issue.comment.formlink")))))}}var q=s(379),H=s(449),W=s.n(H);const B=["BLOCKER","CRITICAL","MAJOR","MINOR","INFO"];function K({issue:e,onSelect:t}){return n.createElement(x.DropdownOverlay,null,n.createElement(T,{currentItem:e.severity,items:B,onSelect:t},B.map(e=>n.createElement(I,{className:"display-flex-center",item:e,key:e},n.createElement(W.a,{className:"little-spacer-right",severity:e}),Object(u.translate)("severity",e)))))}class V extends n.PureComponent{constructor(){super(...arguments),this.toggleSetSeverity=e=>{this.props.togglePopup("set-severity",e)},this.setSeverity=e=>{this.props.setIssueProperty("severity","set-severity",r.m,e)},this.handleClose=()=>{this.toggleSetSeverity(!1)}}render(){const{issue:e}=this.props;return this.props.canSetSeverity?n.createElement("div",{className:"dropdown"},n.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canSetSeverity,overlay:n.createElement(K,{issue:e,onSelect:this.setSeverity})},n.createElement(m.ButtonLink,{className:"issue-action issue-action-with-options js-issue-set-severity",onClick:this.toggleSetSeverity},n.createElement(q.a,{className:"issue-meta-label",severity:e.severity}),n.createElement(v.a,{className:"little-spacer-left"})))):n.createElement(q.a,{className:"issue-meta-label",severity:e.severity})}}var Y=s(471),X=s(356),Q=s.n(X),J=s(387),G=s.n(J),Z=s(365),$=s(521);class ee extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={searchResult:[]},this.onSearch=e=>Object(r.j)({q:e,ps:Math.min(this.props.selectedTags.length-1+10,100),organization:this.props.organization}).then(e=>{this.mounted&&this.setState({searchResult:e})},()=>{}),this.onSelect=e=>{this.props.setTags([...this.props.selectedTags,e])},this.onUnselect=e=>{this.props.setTags(Q()(this.props.selectedTags,e))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=G()(this.state.searchResult,this.props.selectedTags);return n.createElement(x.DropdownOverlay,{placement:Z.PopupPlacement.BottomRight},n.createElement($.a,{listSize:10,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,selectedTags:this.props.selectedTags,tags:e}))}}function te(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function se(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ae extends n.PureComponent{constructor(){super(...arguments),this.toggleSetTags=e=>{this.props.togglePopup("edit-tags",e)},this.setTags=e=>{const{issue:t}=this.props,s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?te(Object(s),!0).forEach((function(t){se(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):te(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{tags:e});o(this.props.onChange,Object(r.n)({issue:t.key,tags:e.join(",")}),t,s)},this.handleClose=()=>{this.toggleSetTags(!1)}}render(){const{issue:e}=this.props,{tags:t=[]}=e;return this.props.canSetTags?n.createElement("div",{className:"dropdown"},n.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:n.createElement(ee,{organization:e.projectOrganization,selectedTags:t,setTags:this.setTags})},n.createElement(m.ButtonLink,{className:"issue-action issue-action-with-options js-issue-edit-tags",onClick:this.toggleSetTags},n.createElement(Y.a,{allowUpdate:this.props.canSetTags,tags:e.tags&&e.tags.length>0?e.tags:[Object(u.translate)("issue.no_tag")]})))):n.createElement(Y.a,{allowUpdate:this.props.canSetTags,className:"note",tags:e.tags&&e.tags.length>0?e.tags:[Object(u.translate)("issue.no_tag")]})}}var ne=s(558);function re({fromHotspot:e,onSelect:t,transitions:s,type:a}){const r=e&&"VULNERABILITY"===a;return n.createElement(x.DropdownOverlay,null,n.createElement(T,{currentItem:s[0],items:s,onSelect:t},s.map(e=>{const[t,s]=function(e,t){return t&&Object(u.hasMessage)("vulnerability.transition",e)?[Object(u.translate)("vulnerability.transition",e),Object(u.translate)("vulnerability.transition",e,"description")]:[Object(u.translate)("issue.transition",e),Object(u.translate)("issue.transition",e,"description")]}(e,r);return n.createElement(I,{item:e,key:e,title:s},t)})))}class ie extends n.PureComponent{constructor(){super(...arguments),this.setTransition=e=>{o(this.props.onChange,Object(r.o)({issue:this.props.issue.key,transition:e})),this.toggleSetTransition()},this.toggleSetTransition=e=>{this.props.togglePopup("transition",e)},this.handleClose=()=>{this.toggleSetTransition(!1)}}render(){const{issue:e}=this.props;return this.props.hasTransitions?n.createElement("div",{className:"dropdown"},n.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.hasTransitions,overlay:n.createElement(re,{fromHotspot:e.fromHotspot,onSelect:this.setTransition,transitions:e.transitions,type:e.type})},n.createElement(m.ButtonLink,{className:"issue-action issue-action-with-options js-issue-transition",onClick:this.toggleSetTransition},n.createElement(ne.a,{className:"issue-meta-label",resolution:e.resolution,status:e.status}),n.createElement(v.a,{className:"little-spacer-left"})))):n.createElement(ne.a,{className:"issue-meta-label",resolution:e.resolution,status:e.status})}}var oe=s(369),le=s.n(oe),ce=s(332);const pe=["BUG","VULNERABILITY","CODE_SMELL"];function he({issue:e,onSelect:t}){return n.createElement(x.DropdownOverlay,null,n.createElement(T,{currentItem:e.type,items:pe,onSelect:t},pe.map(e=>n.createElement(I,{className:"display-flex-center",item:e,key:e},n.createElement(le.a,{className:"little-spacer-right",query:e}),Object(u.translate)("issue.type",e)))))}class ue extends n.PureComponent{constructor(){super(...arguments),this.toggleSetType=e=>{this.props.togglePopup("set-type",e)},this.setType=e=>{this.props.setIssueProperty("type","set-type",r.p,e)},this.handleClose=()=>{this.toggleSetType(!1)}}render(){const{issue:e}=this.props;return this.props.canSetType?n.createElement("div",{className:"dropdown"},n.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canSetType,overlay:n.createElement(he,{issue:e,onSelect:this.setType})},n.createElement(m.ButtonLink,{className:"issue-action issue-action-with-options js-issue-set-type",onClick:this.toggleSetType},n.createElement(le.a,{className:"little-spacer-right",fill:ce.colors.baseFontColor,query:e.type}),Object(u.translate)("issue.type",e.type),n.createElement(v.a,{className:"little-spacer-left"})))):n.createElement("span",null,n.createElement(le.a,{className:"little-spacer-right",query:e.type}),Object(u.translate)("issue.type",e.type))}}function me(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function de(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ge extends n.PureComponent{constructor(){super(...arguments),this.state={commentAutoTriggered:!1,commentPlaceholder:""},this.setIssueProperty=(e,t,s,a)=>{const{issue:n}=this.props;if(n[e]!==a){const t=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?me(Object(s),!0).forEach((function(t){de(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):me(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},n,{[e]:a});o(this.props.onChange,s({issue:n.key,[e]:a}),n,t)}this.props.togglePopup(t,!1)},this.toggleComment=(e,t="",s=!1)=>{this.setState({commentPlaceholder:t,commentAutoTriggered:s}),this.props.togglePopup("comment",e)},this.handleTransition=e=>{this.props.onChange(e),("FALSE-POSITIVE"===e.resolution||"WONTFIX"===e.resolution&&"SECURITY_HOTSPOT"!==e.type)&&this.toggleComment(!0,Object(u.translate)("issue.comment.explain_why"),!0)}}render(){const{issue:e}=this.props,t=e.actions.includes("assign"),s=e.actions.includes("comment"),a=e.actions.includes("set_severity"),r=e.actions.includes("set_type"),i=e.actions.includes("set_tags"),o=e.transitions&&e.transitions.length>0,l="SECURITY_HOTSPOT"===e.type;return n.createElement("div",{className:"issue-actions"},n.createElement("ul",{className:"issue-meta-list"},n.createElement("li",{className:"issue-meta"},n.createElement(ue,{canSetType:r,isOpen:"set-type"===this.props.currentPopup&&r,issue:e,setIssueProperty:this.setIssueProperty,togglePopup:this.props.togglePopup})),!l&&n.createElement("li",{className:"issue-meta"},n.createElement(V,{canSetSeverity:a,isOpen:"set-severity"===this.props.currentPopup&&a,issue:e,setIssueProperty:this.setIssueProperty,togglePopup:this.props.togglePopup})),n.createElement("li",{className:"issue-meta"},n.createElement(ie,{hasTransitions:o,isOpen:"transition"===this.props.currentPopup&&o,issue:e,onChange:this.handleTransition,togglePopup:this.props.togglePopup})),n.createElement("li",{className:"issue-meta"},n.createElement(U,{canAssign:t,isOpen:"assign"===this.props.currentPopup&&t,issue:e,onAssign:this.props.onAssign,togglePopup:this.props.togglePopup})),!l&&e.effort&&n.createElement("li",{className:"issue-meta"},n.createElement("span",{className:"issue-meta-label"},Object(u.translateWithParameters)("issue.x_effort",e.effort))),s&&n.createElement(z,{commentAutoTriggered:this.state.commentAutoTriggered,commentPlaceholder:this.state.commentPlaceholder,currentPopup:this.props.currentPopup,issueKey:e.key,onChange:this.props.onChange,toggleComment:this.toggleComment})),n.createElement("ul",{className:"list-inline"},n.createElement("li",{className:"issue-meta js-issue-tags"},n.createElement(ae,{canSetTags:i,isOpen:"edit-tags"===this.props.currentPopup&&i,issue:e,onChange:this.props.onChange,togglePopup:this.props.togglePopup}))))}}var fe=s(660),ve=s(363),be=s.n(ve);function ye({onDelete:e}){return n.createElement(x.DropdownOverlay,{placement:Z.PopupPlacement.BottomRight},n.createElement("div",{className:"menu is-container"},n.createElement("div",{className:"spacer-bottom"},Object(u.translate)("issue.comment.delete_confirm_message")),n.createElement(m.Button,{className:"button-red",onClick:e},Object(u.translate)("delete"))))}class Ee extends n.PureComponent{constructor(){super(...arguments),this.state={openPopup:""},this.handleEdit=e=>{this.props.onEdit(this.props.comment.key,e),this.toggleEditPopup(!1)},this.handleDelete=()=>{this.props.onDelete(this.props.comment.key),this.toggleDeletePopup(!1)},this.togglePopup=(e,t)=>{this.setState(s=>s.openPopup!==e&&!1!==t?{openPopup:e}:s.openPopup===e&&!0!==t?{openPopup:""}:s)},this.toggleDeletePopup=e=>{this.togglePopup("delete",e)},this.toggleEditPopup=e=>{this.togglePopup("edit",e)},this.closePopups=()=>{this.setState({openPopup:""})}}render(){const{comment:e}=this.props,t=e.authorName||e.author,s=!1===e.authorActive&&t?Object(u.translateWithParameters)("user.x_deleted",t):t;return n.createElement("div",{className:"issue-comment"},n.createElement("div",{className:"issue-comment-author",title:s},n.createElement(b.a,{className:"little-spacer-right",hash:e.authorAvatar,name:t,size:16}),s),n.createElement("div",{className:"issue-comment-text markdown",dangerouslySetInnerHTML:{__html:Object(fe.sanitize)(e.htmlText)}}),n.createElement("div",{className:"issue-comment-age"},n.createElement(be.a,{date:e.createdAt})),n.createElement("div",{className:"issue-comment-actions"},e.updatable&&n.createElement("div",{className:"dropdown"},n.createElement(g.a,{closeOnClickOutside:!1,onRequestClose:this.closePopups,open:"edit"===this.state.openPopup,overlay:n.createElement(F,{comment:e,onComment:this.handleEdit,placeholder:"",placement:Z.PopupPlacement.BottomRight,toggleComment:this.toggleEditPopup})},n.createElement(m.EditButton,{className:"js-issue-comment-edit button-small",onClick:this.toggleEditPopup}))),e.updatable&&n.createElement("div",{className:"dropdown"},n.createElement(g.a,{onRequestClose:this.closePopups,open:"delete"===this.state.openPopup,overlay:n.createElement(ye,{onDelete:this.handleDelete})},n.createElement(m.DeleteButton,{className:"js-issue-comment-delete button-small",onClick:this.toggleDeletePopup})))))}}var xe=s(314),ke=s(507),Ce=s.n(ke),Oe=s(318),Ne=s(329),Pe=s(320),we=s(557),Se=s(606),je=s(349),De=s.n(je),_e=s(664);class Ie extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={changelog:[]}}componentDidMount(){this.mounted=!0,this.loadChangelog()}componentWillUnmount(){this.mounted=!1}loadChangelog(){Object(r.g)(this.props.issue.key).then(({changelog:e})=>{this.mounted&&this.setState({changelog:e})},()=>{})}render(){const{issue:e}=this.props,{author:t}=e;return n.createElement(x.DropdownOverlay,{placement:Z.PopupPlacement.BottomRight},n.createElement("div",{className:"menu is-container issue-changelog"},n.createElement("table",{className:"spaced"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"thin text-left text-top nowrap"},n.createElement(De.a,{date:e.creationDate})),n.createElement("td",{className:"text-left text-top"},t?"".concat(Object(u.translate)("created_by")," ").concat(t):Object(u.translate)("created"))),this.state.changelog.map((e,t)=>{const s=e.userName||e.user;return n.createElement("tr",{key:t},n.createElement("td",{className:"thin text-left text-top nowrap"},n.createElement(De.a,{date:e.creationDate})),n.createElement("td",{className:"text-left text-top"},s&&n.createElement("p",null,n.createElement(b.a,{className:"little-spacer-right",hash:e.avatar,name:s,size:16}),e.isUserActive?s:Object(u.translateWithParameters)("user.x_deleted",s)),e.diffs.map(e=>n.createElement(_e.a,{diff:e,key:e.key}))))})))))}}class Te extends n.PureComponent{constructor(){super(...arguments),this.toggleChangelog=e=>{this.props.togglePopup("changelog",e)},this.handleClick=()=>{this.toggleChangelog()},this.handleClose=()=>{this.toggleChangelog(!1)}}render(){return n.createElement("div",{className:"dropdown"},n.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:n.createElement(Ie,{issue:this.props.issue})},n.createElement(_.a,{mouseEnterDelay:.5,overlay:n.createElement(De.a,{date:this.props.creationDate})},n.createElement(m.ButtonLink,{className:"issue-action issue-action-with-options js-issue-show-changelog",onClick:this.handleClick},n.createElement("span",{className:"issue-meta-label"},n.createElement(be.a,{date:this.props.creationDate})),n.createElement(v.a,{className:"little-spacer-left"})))))}}function Le(e){const{engine:t,manualVulnerability:s,message:a,organization:r,ruleKey:i}=e;return n.createElement("div",{className:"issue-message"},n.createElement("span",{className:"spacer-right"},a),n.createElement(m.ButtonLink,{"aria-label":Object(u.translate)("issue.why_this_issue.long"),className:"issue-see-rule spacer-right",onClick:()=>e.onOpenRule({key:i,organization:r})},Object(u.translate)("issue.why_this_issue")),t&&n.createElement(_.a,{overlay:Object(u.translateWithParameters)("issue.from_external_rule_engine",t)},n.createElement("div",{className:"badge spacer-right text-top"},t)),s&&n.createElement(_.a,{overlay:Object(u.translate)("issue.manual_vulnerability.description")},n.createElement("div",{className:"badge spacer-right text-top"},Object(u.translate)("issue.manual_vulnerability"))))}var Re=s(667),Me=s.n(Re),Ue=s(343),Ae=s.n(Ue),Fe=s(402),ze=s.n(Fe),qe=s(390);class He extends n.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{this.props.onFilter(e,this.props.issue)}}render(){const{issue:e}=this.props,t=["type","severity","status","resolution","assignee","rule",...(e.tags||[]).map(e=>"tag###".concat(e)),"project",e.subProject?"module":void 0,"file"].filter(e=>e),s=e.assigneeName||e.assignee;return n.createElement(x.DropdownOverlay,{noPadding:!0},n.createElement("header",{className:"menu-search"},n.createElement("h6",null,Object(u.translate)("issue.filter_similar_issues"))),n.createElement(T,{className:"issues-similar-issues-menu",currentItem:t[0],items:t,onSelect:this.handleSelect},n.createElement(I,{className:"display-flex-center",item:"type"},n.createElement(le.a,{className:"little-spacer-right",query:e.type}),Object(u.translate)("issue.type",e.type)),n.createElement(I,{item:"severity"},n.createElement(q.a,{className:"display-flex-center",severity:e.severity})),n.createElement(I,{item:"status"},n.createElement(ne.a,{className:"display-flex-center",resolution:void 0,status:e.status})),n.createElement(I,{item:"resolution"},null!=e.resolution?Object(u.translate)("issue.resolution",e.resolution):Object(u.translate)("unresolved")),n.createElement(I,{item:"assignee"},s?n.createElement("span",null,Object(u.translate)("assigned_to"),n.createElement(b.a,{className:"little-spacer-left little-spacer-right",hash:e.assigneeAvatar,name:s,size:16}),!1===e.assigneeActive?Object(u.translateWithParameters)("user.x_deleted",s):s):Object(u.translate)("unassigned")),n.createElement("li",{className:"divider"}),n.createElement(I,{item:"rule"},Object(qe.limitComponentName)(e.ruleName)),null!=e.tags&&e.tags.map(e=>n.createElement(I,{item:"tag###".concat(e),key:"tag###".concat(e)},n.createElement(ze.a,{className:"icon-half-transparent little-spacer-right text-middle"}),n.createElement("span",{className:"text-middle"},e))),n.createElement("li",{className:"divider"}),n.createElement(I,{item:"project"},n.createElement(Ae.a,{className:"little-spacer-right",qualifier:"TRK"}),e.projectName),null!=e.subProject&&n.createElement(I,{item:"module"},n.createElement(Ae.a,{className:"little-spacer-right",qualifier:"BRC"}),e.subProjectName),n.createElement(I,{item:"file"},n.createElement(Ae.a,{className:"little-spacer-right",qualifier:e.componentQualifier}),Object(qe.fileFromPath)(e.componentLongName))))}}class We extends n.PureComponent{constructor(){super(...arguments),this.handleFilter=(e,t)=>{this.togglePopup(!1),this.props.onFilter&&this.props.onFilter(e,t)},this.togglePopup=e=>{this.props.togglePopup("similarIssues",e)},this.handleClose=()=>{this.togglePopup(!1)}}render(){return n.createElement("div",{className:"dropdown"},n.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:n.createElement(He,{issue:this.props.issue,onFilter:this.handleFilter})},n.createElement(m.ButtonLink,{"aria-label":Object(u.translate)("issue.filter_similar_issues"),className:"issue-action issue-action-with-options js-issue-filter",onClick:this.togglePopup,title:Object(u.translate)("issue.filter_similar_issues")},n.createElement(Me.a,{className:"icon-half-transparent"}),n.createElement(v.a,{className:"icon-half-transparent"}))))}}function Be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function Ke(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ve(e){const{issue:t}=e,s=null!=e.onFilter,a=t.secondaryLocations.length+t.flows.reduce((e,t)=>e+t.length,0),r=n.createElement(_.a,{overlay:Object(u.translateWithParameters)("issue.this_issue_involves_x_code_locations",Object(Oe.formatMeasure)(a,"INT"))},n.createElement(we.a,null,a)),i=e.displayLocationsCount&&a>0,o=Object(Pe.h)(t.project,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(s),!0).forEach((function(t){Ke(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Be(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(Ne.d)(e.branchLike),{issues:t.key,open:t.key,types:"SECURITY_HOTSPOT"===t.type?t.type:void 0}));return n.createElement("div",{className:"issue-row"},n.createElement(Se.a.Consumer,null,({openRule:e})=>n.createElement(Le,{engine:t.externalRuleEngine,manualVulnerability:t.fromHotspot&&"VULNERABILITY"===t.type,message:t.message,onOpenRule:e,organization:t.organization,ruleKey:t.rule})),n.createElement("div",{className:"issue-row-meta"},n.createElement("ul",{className:"issue-meta-list"},n.createElement("li",{className:"issue-meta"},n.createElement(Te,{creationDate:t.creationDate,isOpen:"changelog"===e.currentPopup,issue:t,togglePopup:e.togglePopup})),null!=t.textRange&&n.createElement("li",{className:"issue-meta"},n.createElement("span",{className:"issue-meta-label",title:Object(u.translate)("line_number")},"L",t.textRange.endLine)),i&&n.createElement("li",{className:"issue-meta"},e.displayLocationsLink?n.createElement(xe.Link,{target:"_blank",to:o},r):r),n.createElement("li",{className:"issue-meta"},n.createElement(xe.Link,{className:"js-issue-permalink link-no-underline",target:"_blank",title:Object(u.translate)("permalink"),to:o},n.createElement(Ce.a,null))),s&&n.createElement("li",{className:"issue-meta"},n.createElement(We,{isOpen:"similarIssues"===e.currentPopup,issue:t,onFilter:e.onFilter,togglePopup:e.togglePopup})))))}class Ye extends n.PureComponent{constructor(){super(...arguments),this.handleCheck=()=>{this.props.onCheck&&this.props.onCheck(this.props.issue.key)},this.handleClick=e=>{!function e(t){if(!t)return!1;const s=(t.tagName||"").toUpperCase();return["A","BUTTON","INPUT","TEXTAREA"].includes(s)||e(t.parentElement)}(e.target)&&this.props.onClick&&(e.preventDefault(),this.props.onClick(this.props.issue.key))},this.editComment=(e,t)=>{o(this.props.onChange,Object(r.d)({comment:e,text:t}))},this.deleteComment=e=>{o(this.props.onChange,Object(r.c)({comment:e}))}}render(){const{issue:e}=this.props,t=null!=this.props.onCheck,s=c()("issue",{hotspot:"SECURITY_HOTSPOT"===e.type,"issue-with-checkbox":t,selected:this.props.selected});return n.createElement("div",{className:s,"data-issue":e.key,onClick:this.handleClick,role:"listitem",tabIndex:0},n.createElement(Ve,{branchLike:this.props.branchLike,currentPopup:this.props.currentPopup,displayLocationsCount:this.props.displayLocationsCount,displayLocationsLink:this.props.displayLocationsLink,issue:e,onFilter:this.props.onFilter,togglePopup:this.props.togglePopup}),n.createElement(ge,{currentPopup:this.props.currentPopup,issue:e,onAssign:this.props.onAssign,onChange:this.props.onChange,togglePopup:this.props.togglePopup}),e.comments&&e.comments.length>0&&n.createElement("div",{className:"issue-comments"},e.comments.map(e=>n.createElement(Ee,{comment:e,key:e.key,onDelete:this.deleteComment,onEdit:this.editComment}))),t&&n.createElement(n.Fragment,null,n.createElement(h.a,{checked:this.props.checked||!1,className:"issue-checkbox-container",onCheck:this.handleCheck})))}}class Xe extends n.PureComponent{constructor(){super(...arguments),this.togglePopup=(e,t)=>{this.props.onPopupToggle(this.props.issue.key,e,t)},this.handleAssignement=e=>{const{issue:t}=this.props;t.assignee!==e&&o(this.props.onChange,Object(r.l)({issue:t.key,assignee:e})),this.togglePopup("assign",!1)}}componentDidMount(){this.props.selected&&this.bindShortcuts()}componentWillUpdate(e){!e.selected&&this.props.selected&&this.unbindShortcuts()}componentDidUpdate(e){!e.selected&&this.props.selected&&this.bindShortcuts()}componentWillUnmount(){this.props.selected&&this.unbindShortcuts()}bindShortcuts(){a("f","issues",()=>(this.togglePopup("transition"),!1)),a("a","issues",()=>(this.togglePopup("assign"),!1)),a("m","issues",()=>(this.props.issue.actions.includes("assign")&&this.handleAssignement("_me"),!1)),a("i","issues",()=>(this.togglePopup("set-severity"),!1)),a("c","issues",()=>(this.togglePopup("comment"),!1)),a("t","issues",()=>(this.togglePopup("edit-tags"),!1)),a("space","issues",()=>{if(this.props.onCheck)return this.props.onCheck(this.props.issue.key),!1})}unbindShortcuts(){a.unbind("f","issues"),a.unbind("a","issues"),a.unbind("m","issues"),a.unbind("i","issues"),a.unbind("c","issues"),a.unbind("space","issues"),a.unbind("t","issues")}render(){return n.createElement(Ye,{branchLike:this.props.branchLike,checked:this.props.checked,currentPopup:this.props.openPopup,displayLocationsCount:this.props.displayLocationsCount,displayLocationsLink:this.props.displayLocationsLink,issue:this.props.issue,onAssign:this.handleAssignement,onChange:this.props.onChange,onCheck:this.props.onCheck,onClick:this.props.onClick,onFilter:this.props.onFilter,selected:this.props.selected,togglePopup:this.togglePopup})}}Xe.defaultProps={selected:!1}},819:function(e,t,s){"use strict";var a=s(2),n=s(317),r=s(319),i=s(697);function o(e){const{link:t=!0,organization:s,shouldBeDisplayed:n}=e;return n&&s?a.createElement("span",null,t?a.createElement(i.a,{className:e.linkClassName,organization:s},s.name):s.name,a.createElement("span",{className:"slash-separator"})):null}t.a=Object(n.connect)((e,t)=>({organization:Object(r.getOrganizationByKey)(e,t.organizationKey),shouldBeDisplayed:Object(r.areThereCustomOrganizations)(e)}))(o)},991:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(2),n=s(310),r=s(5);function i({displayReset:e,onReset:t}){return a.createElement("div",{className:"search-navigator-filters-header"},e&&a.createElement("div",{className:"pull-right"},a.createElement(n.Button,{className:"button-red",id:"coding-rules-clear-all-filters",onClick:t},Object(r.translate)("clear_all_filters"))),a.createElement("h3",null,Object(r.translate)("filters")))}},995:function(e,t,s){var a=s(311),n=s(996);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=(a(n,r),n.locals?n.locals:{});e.exports=i},996:function(e,t,s){(t=s(312)(!1)).push([e.i,".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}",""]),e.exports=t},997:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(309),n=s(2),r=s(318);function i({className:e,current:t,label:s,total:i}){return n.createElement("div",{className:a("display-inline-block",e)},n.createElement("strong",{className:"little-spacer-right"},void 0!==t&&Object(r.formatMeasure)(t+1,"INT")+" / ",n.createElement("span",{className:"js-page-counter-total"},Object(r.formatMeasure)(i,"INT"))),s)}},998:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(2),n=s(369),r=s.n(n),i=s(5);function o(e){return a.createElement("span",{className:e.className},a.createElement(r.a,{className:"little-spacer-right",query:e.type}),Object(i.translate)("issue.type",e.type))}}},0,[0,2,11,16,299,359]]);
//# sourceMappingURL=297.m.1a0919fa.chunk.js.map