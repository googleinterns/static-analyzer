{"version":3,"sources":["webpack:///./src/main/js/components/hoc/withNotifications.tsx","webpack:///./src/main/js/api/notifications.ts","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.css?8738","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.css","webpack:///../sonar-docs/src/tooltips/branches/no-branch-support.md","webpack:///../sonar-docs/src/tooltips/branches/single-branch.md","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.css?82fb","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.css","webpack:///./src/main/js/app/components/nav/component/Menu.css?14a8","webpack:///./src/main/js/app/components/nav/component/Menu.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.css?f7cf","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/styles.css?4563","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/styles.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.css?e00c","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.css","webpack:///./src/main/js/app/components/ComponentContainerNotFound.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavLicenseNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBgTaskNotif.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/CurrentBranchLike.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/MenuItem.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/MenuItemList.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/Menu.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/CurrentBranchLikeMergeInformation.tsx","webpack:///./src/main/js/app/components/nav/component/Breadcrumb.tsx","webpack:///./src/main/js/app/components/nav/component/Header.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavWarnings.tsx","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.tsx","webpack:///./src/main/js/app/components/nav/component/Menu.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/utils.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/BadgeButton.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/BadgeParams.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/ProjectBadges.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawerPage.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/notifications/ProjectNotifications.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformationPages.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/DrawerLink.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaKey.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaLinks.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaQualityGate.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaQualityProfiles.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaSize.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaTagsSelector.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaTags.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformationRenderer.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNav.tsx","webpack:///./src/main/js/app/components/ComponentContainer.tsx","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/types/component.ts","webpack:///./src/main/js/helpers/markdown.js","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/components/hoc/withAppState.tsx","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./src/main/js/apps/background-tasks/constants.ts","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/common/CodeSnippet.tsx","webpack:///./src/main/js/api/favorites.ts","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./src/main/js/api/ce.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./src/main/js/components/icons/BranchLikeIcon.tsx","webpack:///./src/main/js/helpers/projectLinks.ts","webpack:///./src/main/js/components/shared/DrilldownLink.tsx","webpack:///./src/main/js/api/branches.ts","webpack:///./src/main/js/app/components/ComponentContext.tsx","webpack:///./src/main/js/components/common/CodeSnippet.css?463c","webpack:///./src/main/js/components/common/CodeSnippet.css","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///../sonar-docs/src/tooltips/project/visibility-private.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public.md","webpack:///./src/main/js/app/utils/isValidUri.ts","webpack:///./src/main/js/components/common/BranchStatus.tsx","webpack:///./src/main/js/api/web-api.ts","webpack:///./src/main/js/apps/account/notifications/NotificationsList.tsx","webpack:///./src/main/js/api/projectLinks.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaLink.tsx"],"names":["withNotifications","WrappedComponent","Wrapper","mounted","state","channels","globalTypes","loading","notifications","perProjectTypes","fetchNotifications","catch","throwGlobalError","then","response","this","setState","addNotificationToState","added","areNotificationsEqual","removeNotificationFromState","removed","filter","notification","addNotification","data","channel","project","type","removeNotification","a","b","props","displayName","api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","ComponentContainerNotFound","defaultTitle","defer","className","id","to","fetchIsValidLicense","isValidLicense","currentTask","errorType","Alert","display","variant","componentQualifier","Project","errorMessage","appState","canAdmin","withAppState","messageKey","status","branch","component","canSeeBackgroundTasks","configuration","showBackgroundTasks","url","key","defaultMessage","values","currentTaskOnSameBranch","isInProgress","isPending","renderMessage","ALL","FAILED","pullRequest","pullRequestTitle","message","undefined","branchesEnabled","currentBranchLike","hasManyBranches","isApplication","qualifier","Application","canAdminComponent","showSettings","BranchLikeIcon","branchLike","title","plusIcon","fill","blue","size","overlay","DocTooltip","doc","additionalIcon","indent","setSelectedNode","onSelect","selected","active","onClick","ref","BranchStatus","listNode","selectedNode","parent","smooth","branchLikeTree","hasResults","selectedBranchLike","renderItem","node","mainBranchTree","branchTree","map","tree","pullRequests","length","pr","parentlessPullRequests","orphanPullRequests","super","processBranchLikes","branchLikes","branchLikesToDisplay","reduce","prev","t","branchLikesToDisplayTree","openHighlightedBranchLike","handleOnSelect","highlightSiblingBranchlike","indexDelta","selectBranchLikeIndex","findIndex","newIndex","handleKeyDown","event","keyCode","Enter","preventDefault","UpArrow","DownArrow","handleSearchChange","query","q","toLowerCase","filteredBranchLikes","bl","filterBranch","name","includes","onClose","router","some","showManageLink","Dropdown","noPadding","autoFocus","onChange","onKeyDown","placeholder","value","pathname","withRouter","isMenuOpen","setIsMenuOpen","isMenuEnabled","currentBranchLikeElement","Boolean","dropdown","onRequestClose","open","href","target","Breadcrumb","breadcrumbs","lastBreadcrumbElement","isNoMainBranch","breadcrumbElement","isFirst","isNotLast","currentUser","Favorite","favorite","isFavorite","AnalysisWarningsModal","lazyLoadComponent","modal","handleClick","currentTarget","blur","handleCloseModal","warnings","warningsCount","isABranch","currentPage","Portfolio","SubPortfolio","getCurrentPage","displayVersion","version","analysisDate","date","HomePageSelect","rel","SETTINGS_URLS","getQuery","renderExtension","isAdmin","activeClassName","Developper","isPortfolio","isDeveloper","resolved","extensions","extension","startsWith","getConfiguration","isSettingsActive","window","location","indexOf","adminLinks","renderAdministrationLinks","link","tagName","onToggleClick","renderSettingsLink","renderBranchesLink","renderBaselineLink","renderProfilesLink","renderQualityGateLink","renderCustomMeasuresLink","renderLinksLink","renderPermissionsLink","renderBackgroundTasksLink","renderUpdateKeyLink","renderWebhooksLink","renderAdminExtensions","renderDeletionLink","isProject","e","onToggleProjectInfo","role","tabIndex","showQualityProfiles","showQualityGates","showManualMeasures","showLinks","showPermissions","showUpdateKey","withoutSecurityExtension","renderDashboardLink","renderIssuesLink","renderSecurityHotspotsLink","renderSecurityReports","renderComponentMeasuresLink","renderCodeLink","renderActivityLink","renderExtensions","renderAdministration","renderProjectInformationButton","children","displayed","top","style","onKeydown","onClickOutside","BadgeType","getBadgeSnippet","getBadgeUrl","format","metric","label","projectUrl","marketing","measure","qualityGate","mdImage","color","width","alt","src","badgeMetrics","getColorOptions","getFormatOptions","getMetricOptions","metrics","handleColorChange","updateOptions","handleFormatChange","handleMetricChange","renderBadgeType","htmlFor","clearable","searchable","menuStyle","maxHeight","fetchBadgeMetrics","webservices","domain","find","d","path","ws","actions","w","param","params","p","possibleValues","selectedType","badgeOptions","alert_status","handleSelectBadge","handleUpdateOptions","fullBadgeOptions","CodeSnippet","isOneLine","snippet","InfoDrawerPage","onPageChange","ProjectInformationPages","projectNotifications","n","NotificationsList","checkboxId","onAdd","onRemove","types","MetaKey","componentKey","readOnly","copyValue","loadLinks","links","prevProps","orderedLinks","MetaLink","MetaQualityGate","isDefault","deprecatedByKey","loadDeprecatedRules","existingProfiles","profiles","deleted","requests","profile","loadDeprecatedRulesForProfile","Promise","all","responses","forEach","count","profileKey","activation","organization","ps","qprofile","statuses","r","total","languageFromStore","languages","language","languageName","inner","tooltip","getDeprecatedRulesCount","headerClassName","renderProfile","MetaSize","measures","isApp","ncloc","projects","DrilldownLink","Number","searchResult","onSearch","Math","min","selectedTags","tags","tag","setProjectTags","onUnselect","availableTags","TagsSelector","listSize","canUpdateTags","getPopupPos","eltPos","containerPos","height","right","setTags","application","join","handleSetProjectTags","onComponentChange","card","closeOnClick","closeOnClickOutside","overlayPlacement","BottomLeft","innerRef","tagsList","stopPropagation","TagsList","allowUpdate","canConfigureNotifications","canUseBadges","visibility","PrivacyBadgeContainer","tooltipProps","projectKey","description","qualityProfiles","badges","page","main","setPage","loadMeasures","metricKeys","fetchMetrics","mapDispatchToProps","ComponentNav","contextNavHeightRaw","globalNavHeightRaw","displayProjectInfo","setDisplayProjectInfo","notifComponent","RecentHistory","add","contextNavHeight","notif","addQualifier","fetchBranches","breadcrumb","resolve","branches","getCurrentBranchLike","registerBranchStatuses","fetchStatus","current","queue","shouldFetchComponent","tasksInProgress","newCurrentTask","getCurrentTask","pendingTasks","getPendingTasks","newTasksInProgress","task","IN_PROGRESS","currentTaskChanged","progressChanged","clearTimeout","watchStatusTimer","setTimeout","PENDING","fetchComponent","fetchWarnings","isMain","isSameBranch","registerBranchStatus","qualityGateStatus","handleComponentChange","changes","handleBranchesChange","nav","componentWithQualifier","match","replace","requireAuthorization","ComponentContext","Provider","onBranchesChange","fetchOrganization","getWrappedDisplayName","hocName","wrappedDisplayName","DocMarkdownBlock","childProps","overlayProps","isTooltip","ComponentQualifier","Visibility","isPortfolioLike","toString","getFrontMatterPosition","lines","firstLine","lastLine","trim","parseFrontMatter","tokens","split","x","cutConditionalContent","beginning","ending","newContent","start","end","substring","console","error","Error","getFrontMatter","position","slice","separateFrontMatter","frontmatter","filterContent","regexBase","isSonarCloud","getInstance","contentWithoutStatic","RegExp","getRulesApp","searchRules","takeFacet","property","facet","facets","getRuleDetails","parameters","getRuleTags","createRule","rule","reject","deleteRule","updateRule","MultiSelectOption","custom","disabled","element","onHover","renderLabel","onFocus","onMouseOver","checked","onCheck","onSelectChange","handleSelectChange","item","onSelectItem","onUnselectItem","onSearchQuery","validateSearchInput","handleElementHover","prevState","activeIdx","getAllElements","handleKeyboard","evt","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","setElementActive","idx","allElements","container","addEventListener","nextProps","totalElements","searchInput","focus","removeEventListener","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","defaultProps","STATUSES","ALL_EXCEPT_PENDING","SUCCESS","CANCELED","ALL_TYPES","CURRENTS","ONLY_CURRENTS","DEFAULT_FILTERS","taskType","currents","minSubmittedAt","maxExecutedAt","DEBOUNCE_DELAY","isPaidOrganization","subscription","hasPrivateAccess","userOrganizations","isCurrentUserMemberOf","admin","org","validateTag","noCopy","render","wrap","snippetArray","Array","isArray","line","finalSnippet","addFavorite","removeFavorite","toggleFavorite","newFavorite","handleFavorite","_prevProps","getAnalysisStatus","getActivity","getStatus","componentId","Object","assign","getTask","additionalFields","cancelTask","cancelAllTasks","getTasksForComponent","getTypes","taskTypes","getWorkers","setWorkerCount","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","setHomePage","homepage","filled","PROVIDED_TYPES","isProvided","orderLinks","provided","unknown","getLinkName","ISSUE_MEASURES","issueParamsPerMetric","blocker_violations","severities","new_blocker_violations","critical_violations","new_critical_violations","major_violations","new_major_violations","minor_violations","new_minor_violations","info_violations","new_info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","resolutions","code_smells","new_code_smells","bugs","new_bugs","vulnerabilities","new_vulnerabilities","isIssueMeasure","propsToIssueParams","sinceLeakPeriod","listView","getBranches","getPullRequests","deleteBranch","deletePullRequest","renameBranch","excludeBranchFromPurge","branchName","excluded","getDoc","icon","onSonarCloud","badge","test","level","small","fetchWebApi","showInternal","include_internals","webServices","fetchResponseExample","action","controller","dispatcher","globalMessageKey","projectMessageKey","getDispatcherLabel","isEnabled","handleCheck","getProjectLinks","deleteLink","linkId","createLink","expanded","handleCollapse","handleSelect","select","iconOnly","linkTitle"],"mappings":"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","file":"js/293.m.77f49809.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqWith } from 'lodash';\nimport * as React from 'react';\nimport { addNotification, getNotifications, removeNotification } from '../../api/notifications';\nimport { getWrappedDisplayName } from './utils';\n\ninterface State {\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}\n\nexport interface WithNotificationsProps {\n  addNotification: (added: T.Notification) => void;\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n  removeNotification: (removed: T.Notification) => void;\n}\n\nexport function withNotifications<P>(\n  WrappedComponent: React.ComponentType<P & WithNotificationsProps>\n) {\n  class Wrapper extends React.Component<P, State> {\n    mounted = false;\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withNotifications');\n\n    state: State = {\n      channels: [],\n      globalTypes: [],\n      loading: true,\n      notifications: [],\n      perProjectTypes: []\n    };\n\n    componentDidMount() {\n      this.mounted = true;\n      this.fetchNotifications();\n    }\n\n    componentWillUnmount() {\n      this.mounted = false;\n    }\n\n    fetchNotifications = () => {\n      getNotifications().then(\n        response => {\n          if (this.mounted) {\n            this.setState({\n              channels: response.channels,\n              globalTypes: response.globalTypes,\n              loading: false,\n              notifications: response.notifications,\n              perProjectTypes: response.perProjectTypes\n            });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n          }\n        }\n      );\n    };\n\n    addNotificationToState = (added: T.Notification) => {\n      this.setState(state => {\n        const notifications = uniqWith([...state.notifications, added], this.areNotificationsEqual);\n        return { notifications };\n      });\n    };\n\n    removeNotificationFromState = (removed: T.Notification) => {\n      this.setState(state => {\n        const notifications = state.notifications.filter(\n          notification => !this.areNotificationsEqual(notification, removed)\n        );\n        return { notifications };\n      });\n    };\n\n    addNotification = (added: T.Notification) => {\n      // optimistic update\n      this.addNotificationToState(added);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: added.channel, project: added.project, type: added.type };\n      addNotification(data).catch(() => {\n        this.removeNotificationFromState(added);\n      });\n    };\n\n    removeNotification = (removed: T.Notification) => {\n      // optimistic update\n      this.removeNotificationFromState(removed);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: removed.channel, project: removed.project, type: removed.type };\n      removeNotification(data).catch(() => {\n        this.addNotificationToState(removed);\n      });\n    };\n\n    areNotificationsEqual = (a: T.Notification, b: T.Notification) => {\n      return a.channel === b.channel && a.type === b.type && a.project === b.project;\n    };\n\n    render() {\n      const { channels, globalTypes, loading, notifications, perProjectTypes } = this.state;\n      return (\n        <WrappedComponent\n          {...this.props}\n          addNotification={this.addNotification}\n          channels={channels}\n          globalTypes={globalTypes}\n          loading={loading}\n          notifications={notifications}\n          perProjectTypes={perProjectTypes}\n          removeNotification={this.removeNotification}\n        />\n      );\n    }\n  }\n\n  return Wrapper;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getNotifications(): Promise<{\n  channels: string[];\n  globalTypes: string[];\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}> {\n  return getJSON('/api/notifications/list').catch(throwGlobalError);\n}\n\nexport function addNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/add', data).catch(throwGlobalError);\n}\n\nexport function removeNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/remove', data).catch(throwGlobalError);\n}\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./BranchLikeNavigation.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".branch-like-navigation-toggler-container .popup{min-width:430px;max-width:650px}.branch-like-navigation-menu .search-box-container{padding:8px}.branch-like-navigation-menu .search-box-container .search-box,.branch-like-navigation-menu .search-box-container .search-box-input{max-width:none!important}.branch-like-navigation-menu .item-list{padding-bottom:8px;max-height:300px;overflow-y:auto}.branch-like-navigation-menu .item{padding:4px 8px}.branch-like-navigation-menu .item.header{color:#777}.branch-like-navigation-menu .item:not(.header).active,.branch-like-navigation-menu .item:not(.header):hover{background-color:#f3f3f3;cursor:pointer}.branch-like-navigation-menu .hint-container{padding:8px;background-color:#f3f3f3;border-top:1px solid #e6e6e6}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default \"**Get the most out of SonarQube with branches analysis**\\n\\nAnalyze each branch of your project separately with the Developer Edition.\\n\\n---\\n\\n[Learn More](https://redirect.sonarsource.com/editions/developer.html)\\n\"","export default \"**Learn how to analyze branches in {instance}**\\n\\nQuickly setup branch analysis and get separate insights for each of your branches and pull requests.\\n\\n---\\n\\n[Branches Documentation](/branches/overview/)  \\n[Pull Request Analysis](/analysis/pull-request/)\\n\"","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./HeaderMeta.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".header-meta-warnings .alert{margin-bottom:0}.header-meta-warnings .alert-content{padding:6px 8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Menu.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-tabs>li>a.menu-button{color:#236a97}.navbar-tabs>li>a.menu-button:hover{color:#4b9fd5;border-bottom-color:transparent}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./InfoDrawer.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-inner-with-notif .info-drawer{border-top:1px solid #e6e6e6}.info-drawer-pane{background-color:#fff;right:-380px;width:380px;transition:right .3s ease-in-out;border-left:1px solid #e6e6e6;box-sizing:border-box}.info-drawer-pane.open{right:0}.info-drawer{position:fixed;bottom:0;z-index:51}.info-drawer .close-button{position:absolute;top:0;right:0;background:#fff;padding:16px;z-index:2}.info-drawer .back-button{cursor:pointer}.info-drawer .back-button:hover{color:#4b9fd5}.info-drawer-page{position:absolute;top:0;bottom:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".badges-list{display:flex;justify-content:space-around;justify-content:space-evenly;flex-wrap:nowrap}.button.badge-button{display:flex;justify-content:center;padding:8px;min-width:146px;height:116px;background-color:#f3f3f3;border:1px solid #e6e6e6;border-radius:3px;transition:all .3s ease}.button.badge-button:active,.button.badge-button:focus,.button.badge-button:hover{background-color:#f3f3f3;border-color:#4b9fd5;box-shadow:none}.button.badge-button.selected{background-color:#cae3f2;border-color:#236a97}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ProjectInformation.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-info-list>li{padding-left:1px;padding-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.project-info-tags{position:relative}.project-info-deleted-profile,.project-info-deprecated-rules{margin:4px -6px;padding:3px 6px!important;border:1px solid #f4b1b0;border-radius:3px;background-color:#f2dede}.project-info-deleted-profile a,.project-info-deprecated-rules a{color:#0e516f;border-color:darken(#cae3f2)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function ComponentContainerNotFound() {\n  return (\n    <>\n      <Helmet defaultTitle={translate('404_not_found')} defer={false} />\n      <div className=\"page-wrapper-simple\" id=\"bd\">\n        <div className=\"page-simple\" id=\"nonav\">\n          <h2 className=\"big-spacer-bottom\">{translate('dashboard.project_not_found')}</h2>\n          <p className=\"spacer-bottom\">{translate('dashboard.project_not_found.2')}</p>\n          <p>\n            <Link to=\"/\">{translate('go_back_to_homepage')}</Link>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { isValidLicense } from '../../../../api/marketplace';\nimport { withAppState } from '../../../../components/hoc/withAppState';\nimport { ComponentQualifier } from '../../../../types/component';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin'>;\n  currentTask?: T.Task;\n}\n\ninterface State {\n  isValidLicense?: boolean;\n  loading: boolean;\n}\n\nexport class ComponentNavLicenseNotif extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIsValidLicense();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIsValidLicense = () => {\n    this.setState({ loading: true });\n    isValidLicense().then(\n      ({ isValidLicense }) => {\n        if (this.mounted) {\n          this.setState({ isValidLicense, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { currentTask } = this.props;\n    const { isValidLicense, loading } = this.state;\n\n    if (loading || !currentTask || !currentTask.errorType) {\n      return null;\n    }\n\n    if (isValidLicense && currentTask.errorType !== 'LICENSING_LOC') {\n      return (\n        <Alert display=\"banner\" variant=\"error\">\n          {translateWithParameters(\n            'component_navigation.status.last_blocked_due_to_bad_license_X',\n            translate('qualifier', currentTask.componentQualifier || ComponentQualifier.Project)\n          )}\n        </Alert>\n      );\n    }\n\n    return (\n      <Alert display=\"banner\" variant=\"error\">\n        <span className=\"little-spacer-right\">{currentTask.errorMessage}</span>\n        {this.props.appState.canAdmin ? (\n          <Link to=\"/admin/extension/license/app\">\n            {translate('license.component_navigation.button', currentTask.errorType)}.\n          </Link>\n        ) : (\n          translate('please_contact_administrator')\n        )}\n      </Alert>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavLicenseNotif);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport { getComponentBackgroundTaskUrl } from '../../../../helpers/urls';\nimport ComponentNavLicenseNotif from './ComponentNavLicenseNotif';\n\ninterface Props {\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n}\n\nexport default class ComponentNavBgTaskNotif extends React.PureComponent<Props> {\n  renderMessage(messageKey: string, status?: string, branch?: string) {\n    const { component, currentTask } = this.props;\n    const canSeeBackgroundTasks =\n      component.configuration && component.configuration.showBackgroundTasks;\n\n    let type;\n    if (currentTask && hasMessage('background_task.type', currentTask.type)) {\n      messageKey += '_X';\n      type = translate('background_task.type', currentTask.type);\n    }\n\n    let url;\n    if (canSeeBackgroundTasks) {\n      messageKey += '.admin';\n      url = (\n        <Link to={getComponentBackgroundTaskUrl(component.key, status)}>\n          {translate('background_tasks.page')}\n        </Link>\n      );\n    }\n\n    return (\n      <FormattedMessage\n        defaultMessage={translate(messageKey)}\n        id={messageKey}\n        values={{ branch, url, type }}\n      />\n    );\n  }\n\n  render() {\n    const { currentTask, currentTaskOnSameBranch, isInProgress, isPending } = this.props;\n    if (isInProgress) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.in_progress')}\n        </Alert>\n      );\n    } else if (isPending) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.pending', STATUSES.ALL)}\n        </Alert>\n      );\n    } else if (currentTask && currentTask.status === STATUSES.FAILED) {\n      if (\n        currentTask.errorType &&\n        hasMessage('license.component_navigation.button', currentTask.errorType)\n      ) {\n        return <ComponentNavLicenseNotif currentTask={currentTask} />;\n      }\n      const branch =\n        currentTask.branch ||\n        `${currentTask.pullRequest}${\n          currentTask.pullRequestTitle ? ' - ' + currentTask.pullRequestTitle : ''\n        }`;\n      let message;\n      if (currentTaskOnSameBranch === false && branch) {\n        message = this.renderMessage(\n          'component_navigation.status.failed_branch',\n          undefined,\n          branch\n        );\n      } else {\n        message = this.renderMessage('component_navigation.status.failed');\n      }\n\n      return (\n        <Alert display=\"banner\" variant=\"error\">\n          {message}\n        </Alert>\n      );\n    }\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport PlusCircleIcon from 'sonar-ui-common/components/icons/PlusCircleIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../../../components/docs/DocTooltip';\nimport BranchLikeIcon from '../../../../../components/icons/BranchLikeIcon';\nimport { getBranchLikeDisplayName } from '../../../../../helpers/branch-like';\nimport { getPortfolioAdminUrl } from '../../../../../helpers/urls';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport { colors } from '../../../../theme';\n\nexport interface CurrentBranchLikeProps {\n  branchesEnabled: boolean;\n  component: T.Component;\n  currentBranchLike: BranchLike;\n  hasManyBranches: boolean;\n}\n\nexport function CurrentBranchLike(props: CurrentBranchLikeProps) {\n  const {\n    branchesEnabled,\n    component,\n    component: { configuration },\n    currentBranchLike,\n    hasManyBranches\n  } = props;\n\n  const displayName = getBranchLikeDisplayName(currentBranchLike);\n  const isApplication = component.qualifier === ComponentQualifier.Application;\n  const canAdminComponent = configuration && configuration.showSettings;\n\n  const additionalIcon = () => {\n    const plusIcon = <PlusCircleIcon fill={colors.blue} size={12} />;\n\n    if (branchesEnabled && hasManyBranches) {\n      return <DropdownIcon />;\n    }\n\n    if (isApplication) {\n      if (!hasManyBranches && canAdminComponent) {\n        return (\n          <HelpTooltip\n            overlay={\n              <>\n                <p>{translate('application.branches.help')}</p>\n                <hr className=\"spacer-top spacer-bottom\" />\n                <Link to={getPortfolioAdminUrl(component.key, component.qualifier)}>\n                  {translate('application.branches.link')}\n                </Link>\n              </>\n            }>\n            {plusIcon}\n          </HelpTooltip>\n        );\n      }\n    } else {\n      if (!branchesEnabled) {\n        return (\n          <DocTooltip\n            data-test=\"branches-support-disabled\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/no-branch-support.md')}>\n            {plusIcon}\n          </DocTooltip>\n        );\n      }\n\n      if (!hasManyBranches) {\n        return (\n          <DocTooltip\n            data-test=\"only-one-branch-like\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/single-branch.md')}>\n            {plusIcon}\n          </DocTooltip>\n        );\n      }\n    }\n\n    return null;\n  };\n\n  return (\n    <span className=\"display-flex-center flex-shrink text-ellipsis\">\n      <BranchLikeIcon branchLike={currentBranchLike} />\n      <span\n        className=\"spacer-left spacer-right flex-shrink text-ellipsis js-branch-like-name\"\n        title={displayName}>\n        {displayName}\n      </span>\n      {additionalIcon()}\n    </span>\n  );\n}\n\nexport default React.memo(CurrentBranchLike);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport BranchStatus from '../../../../../components/common/BranchStatus';\nimport BranchLikeIcon from '../../../../../components/icons/BranchLikeIcon';\nimport { getBranchLikeDisplayName, isMainBranch } from '../../../../../helpers/branch-like';\nimport { BranchLike } from '../../../../../types/branch-like';\n\nexport interface MenuItemProps {\n  branchLike: BranchLike;\n  component: T.Component;\n  indent?: boolean;\n  onSelect: (branchLike: BranchLike) => void;\n  selected: boolean;\n  setSelectedNode?: (node: HTMLLIElement) => void;\n}\n\nexport function MenuItem(props: MenuItemProps) {\n  const { branchLike, component, indent, setSelectedNode, onSelect, selected } = props;\n  const displayName = getBranchLikeDisplayName(branchLike);\n\n  return (\n    <li\n      className={classNames('item', {\n        active: selected\n      })}\n      onClick={() => onSelect(branchLike)}\n      ref={selected ? setSelectedNode : undefined}>\n      <div\n        className={classNames('display-flex-center display-flex-space-between', {\n          'big-spacer-left': indent\n        })}>\n        <div className=\"item-name text-ellipsis\" title={displayName}>\n          <BranchLikeIcon branchLike={branchLike} />\n          <span className=\"spacer-left\">{displayName}</span>\n          {isMainBranch(branchLike) && (\n            <span className=\"badge spacer-left\">{translate('branches.main_branch')}</span>\n          )}\n        </div>\n        <div className=\"spacer-left\">\n          <BranchStatus branchLike={branchLike} component={component.key} />\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default React.memo(MenuItem);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getBranchLikeKey, isSameBranchLike } from '../../../../../helpers/branch-like';\nimport { BranchLike, BranchLikeTree } from '../../../../../types/branch-like';\nimport MenuItem from './MenuItem';\n\nexport interface MenuItemListProps {\n  branchLikeTree: BranchLikeTree;\n  component: T.Component;\n  hasResults: boolean;\n  onSelect: (branchLike: BranchLike) => void;\n  selectedBranchLike: BranchLike | undefined;\n}\n\nexport function MenuItemList(props: MenuItemListProps) {\n  let listNode: HTMLUListElement | null = null;\n  let selectedNode: HTMLLIElement | null = null;\n\n  React.useEffect(() => {\n    if (listNode && selectedNode) {\n      scrollToElement(selectedNode, { parent: listNode, smooth: false });\n    }\n  });\n\n  const { branchLikeTree, component, hasResults, onSelect, selectedBranchLike } = props;\n\n  const renderItem = (branchLike: BranchLike, indent?: boolean) => (\n    <MenuItem\n      branchLike={branchLike}\n      component={component}\n      indent={indent}\n      key={getBranchLikeKey(branchLike)}\n      onSelect={onSelect}\n      selected={isSameBranchLike(branchLike, selectedBranchLike)}\n      setSelectedNode={node => (selectedNode = node)}\n    />\n  );\n\n  return (\n    <ul className=\"item-list\" ref={node => (listNode = node)}>\n      {!hasResults && (\n        <li className=\"item\">\n          <span className=\"note\">{translate('no_results')}</span>\n        </li>\n      )}\n\n      {/* BRANCHES & PR */}\n      {[branchLikeTree.mainBranchTree, ...branchLikeTree.branchTree].filter(isDefined).map(tree => (\n        <React.Fragment key={getBranchLikeKey(tree.branch)}>\n          {renderItem(tree.branch)}\n          {tree.pullRequests.length > 0 && (\n            <>\n              <li className=\"item header\">\n                <span className=\"big-spacer-left\">\n                  {translate('branch_like_navigation.pull_requests')}\n                </span>\n              </li>\n              {tree.pullRequests.map(pr => renderItem(pr, true))}\n            </>\n          )}\n          <hr />\n        </React.Fragment>\n      ))}\n\n      {/* PARENTLESS PR (for display during search) */}\n      {branchLikeTree.parentlessPullRequests.length > 0 && (\n        <>\n          <li className=\"item header\">{translate('branch_like_navigation.pull_requests')}</li>\n          {branchLikeTree.parentlessPullRequests.map(pr => renderItem(pr))}\n        </>\n      )}\n\n      {/* ORPHAN PR */}\n      {branchLikeTree.orphanPullRequests.length > 0 && (\n        <>\n          <li className=\"item header\">\n            {translate('branch_like_navigation.orphan_pull_requests')}\n            <HelpTooltip\n              className=\"little-spacer-left\"\n              overlay={translate('branch_like_navigation.orphan_pull_requests.tooltip')}\n            />\n          </li>\n          {branchLikeTree.orphanPullRequests.map(pr => renderItem(pr))}\n        </>\n      )}\n    </ul>\n  );\n}\n\nexport default React.memo(MenuItemList);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { KeyCodes } from 'sonar-ui-common/helpers/keycodes';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Router, withRouter } from '../../../../../components/hoc/withRouter';\nimport {\n  getBrancheLikesAsTree,\n  isBranch,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../../../helpers/branch-like';\nimport { getBranchLikeUrl } from '../../../../../helpers/urls';\nimport { BranchLike, BranchLikeTree } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport MenuItemList from './MenuItemList';\n\ninterface Props {\n  branchLikes: BranchLike[];\n  canAdminComponent?: boolean;\n  component: T.Component;\n  currentBranchLike: BranchLike;\n  onClose: () => void;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  branchLikesToDisplay: BranchLike[];\n  branchLikesToDisplayTree: BranchLikeTree;\n  query: string;\n  selectedBranchLike: BranchLike | undefined;\n}\n\nexport class Menu extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    let selectedBranchLike = undefined;\n\n    if (props.branchLikes.some(b => isSameBranchLike(b, props.currentBranchLike))) {\n      selectedBranchLike = props.currentBranchLike;\n    } else if (props.branchLikes.length > 0) {\n      selectedBranchLike = props.branchLikes[0];\n    }\n\n    this.state = {\n      query: '',\n      selectedBranchLike,\n      ...this.processBranchLikes(props.branchLikes)\n    };\n  }\n\n  processBranchLikes = (branchLikes: BranchLike[]) => {\n    const tree = getBrancheLikesAsTree(branchLikes);\n    return {\n      branchLikesToDisplay: [\n        ...(tree.mainBranchTree\n          ? [tree.mainBranchTree.branch, ...tree.mainBranchTree.pullRequests]\n          : []),\n        ...tree.branchTree.reduce((prev, t) => [...prev, t.branch, ...t.pullRequests], []),\n        ...tree.parentlessPullRequests,\n        ...tree.orphanPullRequests\n      ],\n      branchLikesToDisplayTree: tree\n    };\n  };\n\n  openHighlightedBranchLike = () => {\n    if (this.state.selectedBranchLike) {\n      this.handleOnSelect(this.state.selectedBranchLike);\n    }\n  };\n\n  highlightSiblingBranchlike = (indexDelta: number) => {\n    const selectBranchLikeIndex = this.state.branchLikesToDisplay.findIndex(b =>\n      isSameBranchLike(b, this.state.selectedBranchLike)\n    );\n    const newIndex = selectBranchLikeIndex + indexDelta;\n\n    if (\n      selectBranchLikeIndex !== -1 &&\n      newIndex >= 0 &&\n      newIndex < this.state.branchLikesToDisplay.length\n    ) {\n      this.setState(({ branchLikesToDisplay }) => ({\n        selectedBranchLike: branchLikesToDisplay[newIndex]\n      }));\n    }\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case KeyCodes.Enter:\n        event.preventDefault();\n        this.openHighlightedBranchLike();\n        break;\n      case KeyCodes.UpArrow:\n        event.preventDefault();\n        this.highlightSiblingBranchlike(-1);\n        break;\n      case KeyCodes.DownArrow:\n        event.preventDefault();\n        this.highlightSiblingBranchlike(+1);\n        break;\n    }\n  };\n\n  handleSearchChange = (query: string) => {\n    const q = query.toLowerCase();\n\n    const filterBranch = (branch: BranchLike) =>\n      isBranch(branch) && branch.name.toLowerCase().includes(q);\n    const filterPullRequest = (pr: BranchLike) =>\n      isPullRequest(pr) && (pr.title.toLowerCase().includes(q) || pr.key.toLowerCase().includes(q));\n\n    const filteredBranchLikes = this.props.branchLikes.filter(\n      bl => filterBranch(bl) || filterPullRequest(bl)\n    );\n\n    this.setState({\n      query: q,\n      selectedBranchLike: filteredBranchLikes.length > 0 ? filteredBranchLikes[0] : undefined,\n      ...this.processBranchLikes(filteredBranchLikes)\n    });\n  };\n\n  handleOnSelect = (branchLike: BranchLike) => {\n    this.setState({ selectedBranchLike: branchLike }, () => {\n      this.props.onClose();\n      this.props.router.push(getBranchLikeUrl(this.props.component.key, branchLike));\n    });\n  };\n\n  render() {\n    const { canAdminComponent, component, onClose } = this.props;\n    const {\n      branchLikesToDisplay,\n      branchLikesToDisplayTree,\n      query,\n      selectedBranchLike\n    } = this.state;\n\n    const showManageLink = component.qualifier === ComponentQualifier.Project && canAdminComponent;\n    const hasResults = branchLikesToDisplay.length > 0;\n\n    return (\n      <DropdownOverlay className=\"branch-like-navigation-menu\" noPadding={true}>\n        <div className=\"search-box-container\">\n          <SearchBox\n            autoFocus={true}\n            onChange={this.handleSearchChange}\n            onKeyDown={this.handleKeyDown}\n            placeholder={translate('branch_like_navigation.search_for_branch_like')}\n            value={query}\n          />\n        </div>\n\n        <div className=\"item-list-container\">\n          <MenuItemList\n            branchLikeTree={branchLikesToDisplayTree}\n            component={component}\n            hasResults={hasResults}\n            onSelect={this.handleOnSelect}\n            selectedBranchLike={selectedBranchLike}\n          />\n        </div>\n\n        {showManageLink && (\n          <div className=\"hint-container text-right\">\n            <Link\n              onClick={() => onClose()}\n              to={{ pathname: '/project/branches', query: { id: component.key } }}>\n              {translate('branch_like_navigation.manage')}\n            </Link>\n          </div>\n        )}\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withRouter(Menu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { withAppState } from '../../../../../components/hoc/withAppState';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport './BranchLikeNavigation.css';\nimport CurrentBranchLike from './CurrentBranchLike';\nimport Menu from './Menu';\n\nexport interface BranchLikeNavigationProps {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLikes: BranchLike[];\n  component: T.Component;\n  currentBranchLike: BranchLike;\n}\n\nexport function BranchLikeNavigation(props: BranchLikeNavigationProps) {\n  const {\n    appState: { branchesEnabled },\n    branchLikes,\n    component,\n    component: { configuration },\n    currentBranchLike\n  } = props;\n\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n  const canAdminComponent = configuration && configuration.showSettings;\n  const hasManyBranches = branchLikes.length >= 2;\n  const isMenuEnabled = branchesEnabled && hasManyBranches;\n\n  const currentBranchLikeElement = (\n    <CurrentBranchLike\n      branchesEnabled={Boolean(branchesEnabled)}\n      component={component}\n      currentBranchLike={currentBranchLike}\n      hasManyBranches={hasManyBranches}\n    />\n  );\n\n  return (\n    <span\n      className={classNames('big-spacer-left flex-0 branch-like-navigation-toggler-container', {\n        dropdown: isMenuEnabled\n      })}>\n      {isMenuEnabled ? (\n        <Toggler\n          onRequestClose={() => setIsMenuOpen(false)}\n          open={isMenuOpen}\n          overlay={\n            <Menu\n              branchLikes={branchLikes}\n              canAdminComponent={canAdminComponent}\n              component={component}\n              currentBranchLike={currentBranchLike}\n              onClose={() => setIsMenuOpen(false)}\n            />\n          }>\n          <a\n            className=\"link-base-color link-no-underline\"\n            href=\"#\"\n            onClick={() => setIsMenuOpen(!isMenuOpen)}>\n            {currentBranchLikeElement}\n          </a>\n        </Toggler>\n      ) : (\n        currentBranchLikeElement\n      )}\n    </span>\n  );\n}\n\nexport default withAppState(React.memo(BranchLikeNavigation));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isPullRequest } from '../../../../../helpers/branch-like';\nimport { BranchLike } from '../../../../../types/branch-like';\n\nexport interface CurrentBranchLikeMergeInformationProps {\n  currentBranchLike: BranchLike;\n}\n\nexport function CurrentBranchLikeMergeInformation(props: CurrentBranchLikeMergeInformationProps) {\n  const { currentBranchLike } = props;\n\n  if (!isPullRequest(currentBranchLike)) {\n    return null;\n  }\n\n  return (\n    <span className=\"big-spacer-left flex-shrink note text-ellipsis\">\n      <FormattedMessage\n        defaultMessage={translate('branch_like_navigation.for_merge_into_x_from_y')}\n        id=\"branch_like_navigation.for_merge_into_x_from_y\"\n        values={{\n          target: <strong>{currentBranchLike.target}</strong>,\n          branch: <strong>{currentBranchLike.branch}</strong>\n        }}\n      />\n    </span>\n  );\n}\n\nexport default React.memo(CurrentBranchLikeMergeInformation);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { last } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { isMainBranch } from '../../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../../helpers/urls';\nimport { BranchLike } from '../../../../types/branch-like';\n\ninterface Props {\n  component: T.Component;\n  currentBranchLike: BranchLike | undefined;\n}\n\nexport function Breadcrumb(props: Props) {\n  const {\n    component: { breadcrumbs },\n    currentBranchLike\n  } = props;\n  const lastBreadcrumbElement = last(breadcrumbs);\n  const isNoMainBranch = currentBranchLike && !isMainBranch(currentBranchLike);\n\n  return (\n    <div className=\"big flex-shrink display-flex-center\">\n      {breadcrumbs.map((breadcrumbElement, i) => {\n        const isFirst = i === 0;\n        const isNotLast = i < breadcrumbs.length - 1;\n\n        return (\n          <span className=\"flex-shrink display-flex-center\" key={breadcrumbElement.key}>\n            {isFirst && lastBreadcrumbElement && (\n              <QualifierIcon className=\"spacer-right\" qualifier={lastBreadcrumbElement.qualifier} />\n            )}\n            {isNoMainBranch || isNotLast ? (\n              <Link\n                className=\"link-no-underline text-ellipsis\"\n                title={breadcrumbElement.name}\n                to={getProjectUrl(breadcrumbElement.key)}>\n                {breadcrumbElement.name}\n              </Link>\n            ) : (\n              <span className=\"text-ellipsis\" title={breadcrumbElement.name}>\n                {breadcrumbElement.name}\n              </span>\n            )}\n            {isNotLast && <span className=\"slash-separator\" />}\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default React.memo(Breadcrumb);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport Favorite from '../../../../components/controls/Favorite';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\nimport { BranchLike } from '../../../../types/branch-like';\nimport BranchLikeNavigation from './branch-like/BranchLikeNavigation';\nimport CurrentBranchLikeMergeInformation from './branch-like/CurrentBranchLikeMergeInformation';\nimport { Breadcrumb } from './Breadcrumb';\n\nexport interface HeaderProps {\n  branchLikes: BranchLike[];\n  component: T.Component;\n  currentBranchLike: BranchLike | undefined;\n  currentUser: T.CurrentUser;\n}\n\nexport function Header(props: HeaderProps) {\n  const { branchLikes, component, currentBranchLike, currentUser } = props;\n\n  return (\n    <>\n      <Helmet title={component.name} />\n      <header className=\"display-flex-center flex-shrink\">\n        <Breadcrumb component={component} currentBranchLike={currentBranchLike} />\n        {isLoggedIn(currentUser) && (\n          <Favorite\n            className=\"spacer-left\"\n            component={component.key}\n            favorite={Boolean(component.isFavorite)}\n            qualifier={component.qualifier}\n          />\n        )}\n        {currentBranchLike && (\n          <>\n            <BranchLikeNavigation\n              branchLikes={branchLikes}\n              component={component}\n              currentBranchLike={currentBranchLike}\n            />\n            <CurrentBranchLikeMergeInformation currentBranchLike={currentBranchLike} />\n          </>\n        )}\n      </header>\n    </>\n  );\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(React.memo(Header));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nconst AnalysisWarningsModal = lazyLoadComponent(\n  () => import('../../../../components/common/AnalysisWarningsModal'),\n  'AnalysisWarningsModal'\n);\n\ninterface Props {\n  warnings: string[];\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ComponentNavWarnings extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Alert className=\"js-component-analysis-warnings flex-1\" display=\"inline\" variant=\"warning\">\n          <FormattedMessage\n            defaultMessage={translate('component_navigation.last_analysis_had_warnings')}\n            id=\"component_navigation.last_analysis_had_warnings\"\n            values={{\n              warnings: (\n                <a href=\"#\" onClick={this.handleClick}>\n                  <FormattedMessage\n                    defaultMessage={translate('component_navigation.x_warnings')}\n                    id=\"component_navigation.x_warnings\"\n                    values={{\n                      warningsCount: this.props.warnings.length\n                    }}\n                  />\n                </a>\n              )\n            }}\n          />\n        </Alert>\n        {this.state.modal && (\n          <AnalysisWarningsModal onClose={this.handleCloseModal} warnings={this.props.warnings} />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport BranchStatus from '../../../../components/common/BranchStatus';\nimport HomePageSelect from '../../../../components/controls/HomePageSelect';\nimport { isBranch, isPullRequest } from '../../../../helpers/branch-like';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\nimport { BranchLike } from '../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../types/component';\nimport ComponentNavWarnings from './ComponentNavWarnings';\nimport './HeaderMeta.css';\n\nexport interface HeaderMetaProps {\n  branchLike?: BranchLike;\n  currentUser: T.CurrentUser;\n  component: T.Component;\n  warnings: string[];\n}\n\nexport function HeaderMeta(props: HeaderMetaProps) {\n  const { branchLike, component, currentUser, warnings } = props;\n\n  const isABranch = isBranch(branchLike);\n  const currentPage = getCurrentPage(component, branchLike);\n  const displayVersion = component.version !== undefined && isABranch;\n\n  return (\n    <>\n      <div className=\"display-flex-center flex-0 small\">\n        {warnings.length > 0 && (\n          <span className=\"header-meta-warnings\">\n            <ComponentNavWarnings warnings={warnings} />\n          </span>\n        )}\n        {component.analysisDate && (\n          <span className=\"spacer-left nowrap note\">\n            <DateTimeFormatter date={component.analysisDate} />\n          </span>\n        )}\n        {displayVersion && (\n          <span className=\"spacer-left nowrap note\">{`${translate('version')} ${\n            component.version\n          }`}</span>\n        )}\n        {isLoggedIn(currentUser) && currentPage !== undefined && !isPullRequest(branchLike) && (\n          <HomePageSelect className=\"spacer-left\" currentPage={currentPage} />\n        )}\n      </div>\n      {isPullRequest(branchLike) && (\n        <div className=\"navbar-context-meta-secondary display-inline-flex-center\">\n          {branchLike.url !== undefined && (\n            <a\n              className=\"display-inline-flex-center big-spacer-right\"\n              href={branchLike.url}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('branches.see_the_pr')}\n              <DetachIcon className=\"little-spacer-left\" size={12} />\n            </a>\n          )}\n          <BranchStatus branchLike={branchLike} component={component.key} />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport function getCurrentPage(component: T.Component, branchLike: BranchLike | undefined) {\n  let currentPage: T.HomePage | undefined;\n\n  switch (component.qualifier) {\n    case ComponentQualifier.Portfolio:\n    case ComponentQualifier.SubPortfolio:\n      currentPage = { type: 'PORTFOLIO', component: component.key };\n      break;\n    case ComponentQualifier.Application:\n      currentPage = {\n        type: 'APPLICATION',\n        component: component.key,\n        branch: isBranch(branchLike) ? branchLike.name : undefined\n      };\n      break;\n    case ComponentQualifier.Project:\n      // when home page is set to the default branch of a project, its name is returned as `undefined`\n      currentPage = {\n        type: 'PROJECT',\n        component: component.key,\n        branch: isBranch(branchLike) ? branchLike.name : undefined\n      };\n      break;\n  }\n\n  return currentPage;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(HeaderMeta);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport BulletListIcon from 'sonar-ui-common/components/icons/BulletListIcon';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport NavBarTabs from 'sonar-ui-common/components/ui/NavBarTabs';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport { withAppState } from '../../../../components/hoc/withAppState';\nimport { getBranchLikeQuery, isMainBranch, isPullRequest } from '../../../../helpers/branch-like';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { BranchLike } from '../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../types/component';\nimport './Menu.css';\n\nconst SETTINGS_URLS = [\n  '/project/admin',\n  '/project/baseline',\n  '/project/branches',\n  '/project/settings',\n  '/project/quality_profiles',\n  '/project/quality_gate',\n  '/custom_measures',\n  '/project/links',\n  '/project_roles',\n  '/project/history',\n  'background_tasks',\n  '/project/key',\n  '/project/deletion',\n  '/project/webhooks'\n];\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLike: BranchLike | undefined;\n  component: T.Component;\n  onToggleProjectInfo: () => void;\n}\n\nexport class Menu extends React.PureComponent<Props> {\n  isProject() {\n    return this.props.component.qualifier === ComponentQualifier.Project;\n  }\n\n  isDeveloper() {\n    return this.props.component.qualifier === ComponentQualifier.Developper;\n  }\n\n  isPortfolio() {\n    const { qualifier } = this.props.component;\n    return (\n      qualifier === ComponentQualifier.Portfolio || qualifier === ComponentQualifier.SubPortfolio\n    );\n  }\n\n  isApplication() {\n    return this.props.component.qualifier === ComponentQualifier.Application;\n  }\n\n  getConfiguration() {\n    return this.props.component.configuration || {};\n  }\n\n  getQuery = () => {\n    return { id: this.props.component.key, ...getBranchLikeQuery(this.props.branchLike) };\n  };\n\n  renderDashboardLink() {\n    const pathname = this.isPortfolio() ? '/portfolio' : '/dashboard';\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={{ pathname, query: this.getQuery() }}>\n          {translate('overview.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderCodeLink() {\n    if (this.isDeveloper()) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={{ pathname: '/code', query: this.getQuery() }}>\n          {this.isPortfolio() || this.isApplication()\n            ? translate('view_projects.page')\n            : translate('code.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderActivityLink() {\n    const { branchLike } = this.props;\n\n    if (isPullRequest(branchLike)) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/activity', query: this.getQuery() }}>\n          {translate('project_activity.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderIssuesLink() {\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/issues', query: { ...this.getQuery(), resolved: 'false' } }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderComponentMeasuresLink() {\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/component_measures', query: this.getQuery() }}>\n          {translate('layout.measures')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderSecurityHotspotsLink() {\n    return (\n      !this.isPortfolio() && (\n        <li>\n          <Link\n            activeClassName=\"active\"\n            to={{ pathname: '/security_hotspots', query: this.getQuery() }}>\n            {translate('layout.security_hotspots')}\n          </Link>\n        </li>\n      )\n    );\n  }\n\n  renderSecurityReports() {\n    const { branchLike, component } = this.props;\n    const { extensions = [] } = component;\n\n    if (isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const hasSecurityReportsEnabled = extensions.some(extension =>\n      extension.key.startsWith('securityreport/')\n    );\n\n    if (!hasSecurityReportsEnabled) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{\n            pathname: '/project/extension/securityreport/securityreport',\n            query: this.getQuery()\n          }}>\n          {translate('layout.security_reports')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderAdministration() {\n    const { branchLike, component } = this.props;\n\n    if (!this.getConfiguration().showSettings || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const isSettingsActive = SETTINGS_URLS.some(url => window.location.href.indexOf(url) !== -1);\n\n    const adminLinks = this.renderAdministrationLinks();\n    if (!adminLinks.some(link => link != null)) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"administration\"\n        overlay={<ul className=\"menu\">{adminLinks}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: isSettingsActive || open })}\n            href=\"#\"\n            id=\"component-navigation-admin\"\n            onClick={onToggleClick}>\n            {hasMessage('layout.settings', component.qualifier)\n              ? translate('layout.settings', component.qualifier)\n              : translate('layout.settings')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderAdministrationLinks() {\n    return [\n      this.renderSettingsLink(),\n      this.renderBranchesLink(),\n      this.renderBaselineLink(),\n      this.renderProfilesLink(),\n      this.renderQualityGateLink(),\n      this.renderCustomMeasuresLink(),\n      this.renderLinksLink(),\n      this.renderPermissionsLink(),\n      this.renderBackgroundTasksLink(),\n      this.renderUpdateKeyLink(),\n      this.renderWebhooksLink(),\n      ...this.renderAdminExtensions(),\n      this.renderDeletionLink()\n    ];\n  }\n\n  renderProjectInformationButton() {\n    if (isPullRequest(this.props.branchLike)) {\n      return null;\n    }\n\n    return (\n      (this.isProject() || this.isApplication()) && (\n        <li>\n          <a\n            className=\"menu-button\"\n            onClick={(e: React.SyntheticEvent<HTMLAnchorElement>) => {\n              e.preventDefault();\n              e.currentTarget.blur();\n              this.props.onToggleProjectInfo();\n            }}\n            role=\"button\"\n            tabIndex={0}>\n            <BulletListIcon className=\"little-spacer-right\" />\n            {translate(this.isProject() ? 'project' : 'application', 'info.title')}\n          </a>\n        </li>\n      )\n    );\n  }\n\n  renderSettingsLink() {\n    if (!this.getConfiguration().showSettings || this.isApplication() || this.isPortfolio()) {\n      return null;\n    }\n    return (\n      <li key=\"settings\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/settings', query: this.getQuery() }}>\n          {translate('project_settings.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderBranchesLink() {\n    if (\n      !this.props.appState.branchesEnabled ||\n      !this.isProject() ||\n      !this.getConfiguration().showSettings\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"branches\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/branches', query: this.getQuery() }}>\n          {translate('project_branch_pull_request.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderBaselineLink() {\n    if (!this.getConfiguration().showSettings || this.isApplication() || this.isPortfolio()) {\n      return null;\n    }\n    return (\n      <li key=\"baseline\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/baseline', query: this.getQuery() }}>\n          {translate('project_baseline.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderProfilesLink() {\n    if (!this.getConfiguration().showQualityProfiles) {\n      return null;\n    }\n    return (\n      <li key=\"profiles\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/quality_profiles', query: this.getQuery() }}>\n          {translate('project_quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderQualityGateLink() {\n    if (!this.getConfiguration().showQualityGates) {\n      return null;\n    }\n    return (\n      <li key=\"quality_gate\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/quality_gate', query: this.getQuery() }}>\n          {translate('project_quality_gate.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderCustomMeasuresLink() {\n    if (isSonarCloud() || !this.getConfiguration().showManualMeasures) {\n      return null;\n    }\n    return (\n      <li key=\"custom_measures\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/custom_measures', query: this.getQuery() }}>\n          {translate('custom_measures.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderLinksLink() {\n    if (!this.getConfiguration().showLinks) {\n      return null;\n    }\n    return (\n      <li key=\"links\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/links', query: this.getQuery() }}>\n          {translate('project_links.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderPermissionsLink() {\n    if (!this.getConfiguration().showPermissions) {\n      return null;\n    }\n    return (\n      <li key=\"permissions\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project_roles', query: this.getQuery() }}>\n          {translate('permissions.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderBackgroundTasksLink() {\n    if (!this.getConfiguration().showBackgroundTasks) {\n      return null;\n    }\n    return (\n      <li key=\"background_tasks\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/background_tasks', query: this.getQuery() }}>\n          {translate('background_tasks.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderUpdateKeyLink() {\n    if (!this.getConfiguration().showUpdateKey) {\n      return null;\n    }\n    return (\n      <li key=\"update_key\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/key', query: this.getQuery() }}>\n          {translate('update_key.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderWebhooksLink() {\n    if (!this.getConfiguration().showSettings || !this.isProject()) {\n      return null;\n    }\n    return (\n      <li key=\"webhooks\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/webhooks', query: this.getQuery() }}>\n          {translate('webhooks.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderDeletionLink() {\n    const { qualifier } = this.props.component;\n\n    if (!this.getConfiguration().showSettings) {\n      return null;\n    }\n\n    if (\n      ![\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application\n      ].includes(qualifier as ComponentQualifier)\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"project_delete\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/deletion', query: this.getQuery() }}>\n          {translate('deletion.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderExtension = ({ key, name }: T.Extension, isAdmin: boolean) => {\n    const pathname = isAdmin ? `/project/admin/extension/${key}` : `/project/extension/${key}`;\n    const query = { ...this.getQuery(), qualifier: this.props.component.qualifier };\n    return (\n      <li key={key}>\n        <Link activeClassName=\"active\" to={{ pathname, query }}>\n          {name}\n        </Link>\n      </li>\n    );\n  };\n\n  renderAdminExtensions() {\n    if (this.props.branchLike && !isMainBranch(this.props.branchLike)) {\n      return [];\n    }\n    const extensions = this.getConfiguration().extensions || [];\n    return extensions.map(e => this.renderExtension(e, true));\n  }\n\n  renderExtensions() {\n    const extensions = this.props.component.extensions || [];\n    const withoutSecurityExtension = extensions.filter(\n      extension => !extension.key.startsWith('securityreport/')\n    );\n    if (\n      withoutSecurityExtension.length === 0 ||\n      (this.props.branchLike && !isMainBranch(this.props.branchLike))\n    ) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"extensions\"\n        overlay={\n          <ul className=\"menu\">\n            {withoutSecurityExtension.map(e => this.renderExtension(e, false))}\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"component-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"display-flex-center display-flex-space-between\">\n        <NavBarTabs>\n          {this.renderDashboardLink()}\n          {this.renderIssuesLink()}\n          {this.renderSecurityHotspotsLink()}\n          {this.renderSecurityReports()}\n          {this.renderComponentMeasuresLink()}\n          {this.renderCodeLink()}\n          {this.renderActivityLink()}\n          {this.renderExtensions()}\n        </NavBarTabs>\n        <NavBarTabs>\n          {this.renderAdministration()}\n          {this.renderProjectInformationButton()}\n        </NavBarTabs>\n      </div>\n    );\n  }\n}\n\nexport default withAppState(Menu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport EscKeydownHandler from 'sonar-ui-common/components/controls/EscKeydownHandler';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport './InfoDrawer.css';\n\nexport interface InfoDrawerProps {\n  children: React.ReactNode;\n  displayed: boolean;\n  onClose: () => void;\n  top: number;\n}\n\nexport default function InfoDrawer(props: InfoDrawerProps) {\n  const { children, displayed, onClose, top } = props;\n\n  return (\n    <div\n      className={classNames('info-drawer info-drawer-pane', { open: displayed })}\n      style={{ top }}>\n      <div className=\"close-button\">\n        <ClearButton onClick={onClose} />\n      </div>\n      {displayed && (\n        <EscKeydownHandler onKeydown={onClose}>\n          <OutsideClickHandler onClickOutside={onClose}>\n            <div className=\"display-flex-column max-height-100\">{children}</div>\n          </OutsideClickHandler>\n        </EscKeydownHandler>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { omitNil } from 'sonar-ui-common/helpers/request';\nimport { getHostUrl, getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport { getProjectUrl } from '../../../../../../helpers/urls';\n\nexport type BadgeColors = 'white' | 'black' | 'orange';\nexport type BadgeFormats = 'md' | 'url';\n\nexport interface BadgeOptions {\n  branch?: string;\n  color?: BadgeColors;\n  format?: BadgeFormats;\n  project?: string;\n  metric?: string;\n  pullRequest?: string;\n}\n\nexport enum BadgeType {\n  measure = 'measure',\n  qualityGate = 'quality_gate',\n  marketing = 'marketing'\n}\n\nexport function getBadgeSnippet(type: BadgeType, options: BadgeOptions) {\n  const url = getBadgeUrl(type, options);\n  const { branch, format = 'md', metric = 'alert_status', project } = options;\n\n  if (format === 'url') {\n    return url;\n  } else {\n    let label;\n    let projectUrl;\n\n    switch (type) {\n      case BadgeType.marketing:\n        label = 'SonarCloud';\n        break;\n      case BadgeType.measure:\n        label = getLocalizedMetricName({ key: metric });\n        break;\n      case BadgeType.qualityGate:\n      default:\n        label = 'Quality gate';\n        break;\n    }\n\n    if (project) {\n      projectUrl = getPathUrlAsString(getProjectUrl(project, branch), false);\n    }\n\n    const mdImage = `![${label}](${url})`;\n    return projectUrl ? `[${mdImage}](${projectUrl})` : mdImage;\n  }\n}\n\nexport function getBadgeUrl(\n  type: BadgeType,\n  { branch, project, color = 'white', metric = 'alert_status', pullRequest }: BadgeOptions\n) {\n  switch (type) {\n    case BadgeType.marketing:\n      return `${getHostUrl()}/images/project_badges/sonarcloud-${color}.svg`;\n    case BadgeType.qualityGate:\n      return `${getHostUrl()}/api/project_badges/quality_gate?${stringify(\n        omitNil({ branch, project, pullRequest })\n      )}`;\n    case BadgeType.measure:\n    default:\n      return `${getHostUrl()}/api/project_badges/measure?${stringify(\n        omitNil({ branch, project, metric, pullRequest })\n      )}`;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { BadgeType } from './utils';\n\ninterface Props {\n  onClick: (type: BadgeType) => void;\n  selected: boolean;\n  type: BadgeType;\n  url: string;\n}\n\nexport default class BadgeButton extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.onClick(this.props.type);\n  };\n\n  render() {\n    const { selected, type, url } = this.props;\n    const width = type !== BadgeType.measure ? '128px' : undefined;\n    return (\n      <Button className={classNames('badge-button', { selected })} onClick={this.handleClick}>\n        <img alt={translate('overview.badges', type, 'alt')} src={url} width={width} />\n      </Button>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { fetchWebApi } from '../../../../../../api/web-api';\nimport { BadgeColors, BadgeFormats, BadgeOptions, BadgeType } from './utils';\n\ninterface Props {\n  className?: string;\n  metrics: T.Dict<T.Metric>;\n  options: BadgeOptions;\n  type: BadgeType;\n  updateOptions: (options: Partial<BadgeOptions>) => void;\n}\n\ninterface State {\n  badgeMetrics: string[];\n}\n\nexport default class BadgeParams extends React.PureComponent<Props> {\n  mounted = false;\n\n  state: State = { badgeMetrics: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBadgeMetrics();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchBadgeMetrics() {\n    fetchWebApi(false).then(\n      webservices => {\n        if (this.mounted) {\n          const domain = webservices.find(d => d.path === 'api/project_badges');\n          const ws = domain && domain.actions.find(w => w.key === 'measure');\n          const param = ws && ws.params && ws.params.find(p => p.key === 'metric');\n          if (param && param.possibleValues) {\n            this.setState({ badgeMetrics: param.possibleValues });\n          }\n        }\n      },\n      () => {}\n    );\n  }\n\n  getColorOptions = () => {\n    return ['white', 'black', 'orange'].map(color => ({\n      label: translate('overview.badges.options.colors', color),\n      value: color\n    }));\n  };\n\n  getFormatOptions = () => {\n    return ['md', 'url'].map(format => ({\n      label: translate('overview.badges.options.formats', format),\n      value: format\n    }));\n  };\n\n  getMetricOptions = () => {\n    return this.state.badgeMetrics.map(key => {\n      const metric = this.props.metrics[key];\n      return {\n        value: key,\n        label: metric ? getLocalizedMetricName(metric) : key\n      };\n    });\n  };\n\n  handleColorChange = ({ value }: { value: BadgeColors }) => {\n    this.props.updateOptions({ color: value });\n  };\n\n  handleFormatChange = ({ value }: { value: BadgeFormats }) => {\n    this.props.updateOptions({ format: value });\n  };\n\n  handleMetricChange = ({ value }: { value: string }) => {\n    this.props.updateOptions({ metric: value });\n  };\n\n  renderBadgeType = (type: BadgeType, options: BadgeOptions) => {\n    if (type === BadgeType.marketing) {\n      return (\n        <>\n          <label className=\"spacer-right\" htmlFor=\"badge-color\">\n            {translate('color')}:\n          </label>\n          <Select\n            className=\"input-medium\"\n            clearable={false}\n            name=\"badge-color\"\n            onChange={this.handleColorChange}\n            options={this.getColorOptions()}\n            searchable={false}\n            value={options.color}\n          />\n        </>\n      );\n    } else if (type === BadgeType.measure) {\n      return (\n        <>\n          <label className=\"spacer-right\" htmlFor=\"badge-metric\">\n            {translate('overview.badges.metric')}:\n          </label>\n          <Select\n            className=\"input-medium\"\n            clearable={false}\n            menuStyle={{ maxHeight: 100 }}\n            name=\"badge-metric\"\n            onChange={this.handleMetricChange}\n            options={this.getMetricOptions()}\n            searchable={false}\n            value={options.metric}\n          />\n        </>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  render() {\n    const { className, options, type } = this.props;\n    return (\n      <div className={className}>\n        {this.renderBadgeType(type, options)}\n\n        <label\n          className={classNames('spacer-right', {\n            'spacer-top': type !== BadgeType.qualityGate\n          })}\n          htmlFor=\"badge-format\">\n          {translate('format')}:\n        </label>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          name=\"badge-format\"\n          onChange={this.handleFormatChange}\n          options={this.getFormatOptions()}\n          searchable={false}\n          value={this.props.options.format || 'md'}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../../../../components/common/CodeSnippet';\nimport { getBranchLikeQuery } from '../../../../../../helpers/branch-like';\nimport { BranchLike } from '../../../../../../types/branch-like';\nimport { MetricKey } from '../../../../../../types/metrics';\nimport BadgeButton from './BadgeButton';\nimport BadgeParams from './BadgeParams';\nimport './styles.css';\nimport { BadgeOptions, BadgeType, getBadgeSnippet, getBadgeUrl } from './utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  metrics: T.Dict<T.Metric>;\n  project: string;\n  qualifier: string;\n}\n\ninterface State {\n  selectedType: BadgeType;\n  badgeOptions: BadgeOptions;\n}\n\nexport default class ProjectBadges extends React.PureComponent<Props, State> {\n  state: State = {\n    selectedType: BadgeType.measure,\n    badgeOptions: { color: 'white', metric: MetricKey.alert_status }\n  };\n\n  handleSelectBadge = (selectedType: BadgeType) => {\n    this.setState({ selectedType });\n  };\n\n  handleUpdateOptions = (options: Partial<BadgeOptions>) => {\n    this.setState(state => ({ badgeOptions: { ...state.badgeOptions, ...options } }));\n  };\n\n  render() {\n    const { branchLike, project, qualifier } = this.props;\n    const { selectedType, badgeOptions } = this.state;\n    const fullBadgeOptions = { project, ...badgeOptions, ...getBranchLikeQuery(branchLike) };\n\n    return (\n      <div className=\"display-flex-column\">\n        <h3>{translate('overview.badges.get_badge', qualifier)}</h3>\n        <p className=\"big-spacer-bottom\">{translate('overview.badges.description', qualifier)}</p>\n        <BadgeButton\n          onClick={this.handleSelectBadge}\n          selected={BadgeType.measure === selectedType}\n          type={BadgeType.measure}\n          url={getBadgeUrl(BadgeType.measure, fullBadgeOptions)}\n        />\n        <p className=\"huge-spacer-bottom spacer-top\">\n          {translate('overview.badges', BadgeType.measure, 'description', qualifier)}\n        </p>\n        <BadgeButton\n          onClick={this.handleSelectBadge}\n          selected={BadgeType.qualityGate === selectedType}\n          type={BadgeType.qualityGate}\n          url={getBadgeUrl(BadgeType.qualityGate, fullBadgeOptions)}\n        />\n        <p className=\"huge-spacer-bottom spacer-top\">\n          {translate('overview.badges', BadgeType.qualityGate, 'description', qualifier)}\n        </p>\n        <BadgeParams\n          className=\"big-spacer-bottom display-flex-column\"\n          metrics={this.props.metrics}\n          options={badgeOptions}\n          type={selectedType}\n          updateOptions={this.handleUpdateOptions}\n        />\n        <CodeSnippet isOneLine={true} snippet={getBadgeSnippet(selectedType, fullBadgeOptions)} />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport BackIcon from 'sonar-ui-common/components/icons/BackIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface InfoDrawerPageProps {\n  children: React.ReactNode;\n  displayed: boolean;\n  onPageChange: () => void;\n}\n\nexport default function InfoDrawerPage(props: InfoDrawerPageProps) {\n  const { children, displayed, onPageChange } = props;\n  return (\n    <div\n      className={classNames(\n        'info-drawer-page info-drawer-pane display-flex-column overflow-hidden',\n        {\n          open: displayed\n        }\n      )}>\n      <h2 className=\"back-button big-padded bordered-bottom\" onClick={() => onPageChange()}>\n        <BackIcon className=\"little-spacer-right\" />\n        {translate('back')}\n      </h2>\n\n      {displayed && <div className=\"overflow-y-auto big-padded\">{children}</div>}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport NotificationsList from '../../../../../../apps/account/notifications/NotificationsList';\nimport {\n  withNotifications,\n  WithNotificationsProps\n} from '../../../../../../components/hoc/withNotifications';\n\ninterface Props {\n  className?: string;\n  component: T.Component;\n}\n\nexport function ProjectNotifications(props: WithNotificationsProps & Props) {\n  const { channels, component, loading, notifications, perProjectTypes } = props;\n\n  const handleAddNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.addNotification({ project: component.key, channel, type });\n  };\n\n  const handleRemoveNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.removeNotification({\n      project: component.key,\n      channel,\n      type\n    });\n  };\n\n  const getCheckboxId = (type: string, channel: string) => {\n    return `project-notification-${component.key}-${type}-${channel}`;\n  };\n\n  const projectNotifications = notifications.filter(n => n.project && n.project === component.key);\n\n  return (\n    <>\n      <h3>{translate('project.info.notifications')}</h3>\n\n      <Alert className=\"spacer-top\" variant=\"info\">\n        {translate('notification.dispatcher.information')}\n      </Alert>\n\n      <DeferredSpinner loading={loading}>\n        <table className=\"data zebra notifications-table\">\n          <thead>\n            <tr>\n              <th aria-label={translate('project')} />\n              {channels.map(channel => (\n                <th className=\"text-center\" key={channel}>\n                  <h4>{translate('notification.channel', channel)}</h4>\n                </th>\n              ))}\n            </tr>\n          </thead>\n\n          <NotificationsList\n            channels={channels}\n            checkboxId={getCheckboxId}\n            notifications={projectNotifications}\n            onAdd={handleAddNotification}\n            onRemove={handleRemoveNotification}\n            project={true}\n            types={perProjectTypes}\n          />\n        </table>\n      </DeferredSpinner>\n    </>\n  );\n}\n\nexport default withNotifications(ProjectNotifications);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum ProjectInformationPages {\n  main,\n  badges,\n  notifications\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\n\nexport interface DrawerLinkProps<P> {\n  label: string;\n  onPageChange: (page: P) => void;\n  to: P;\n}\n\nexport function DrawerLink<P>(props: DrawerLinkProps<P>) {\n  const { label, to } = props;\n\n  return (\n    <a\n      className=\"display-flex-space-between bordered-bottom big-padded\"\n      onClick={() => props.onPageChange(to)}\n      role=\"link\"\n      tabIndex={0}>\n      {label}\n      <ChevronRightIcon />\n    </a>\n  );\n}\n\nexport default React.memo(DrawerLink);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  componentKey: string;\n  qualifier: string;\n}\n\nexport default function MetaKey({ componentKey, qualifier }: Props) {\n  return (\n    <>\n      <h3>{translate('overview.project_key', qualifier)}</h3>\n      <div className=\"display-flex-center\">\n        <input className=\"overview-key\" readOnly={true} type=\"text\" value={componentKey} />\n        <ClipboardButton className=\"little-spacer-left\" copyValue={componentKey} />\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getProjectLinks } from '../../../../../../api/projectLinks';\nimport { orderLinks } from '../../../../../../helpers/projectLinks';\nimport MetaLink from './MetaLink';\n\ninterface Props {\n  component: T.LightComponent;\n}\n\ninterface State {\n  links?: T.ProjectLink[];\n}\n\nexport default class MetaLinks extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadLinks();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component.key !== this.props.component.key) {\n      this.loadLinks();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadLinks = () =>\n    getProjectLinks(this.props.component.key).then(\n      links => {\n        if (this.mounted) {\n          this.setState({ links });\n        }\n      },\n      () => {}\n    );\n\n  render() {\n    const { links } = this.state;\n\n    if (!links || links.length === 0) {\n      return null;\n    }\n\n    const orderedLinks = orderLinks(links);\n\n    return (\n      <>\n        <div className=\"big-padded bordered-bottom\">\n          <h3>{translate('overview.external_links')}</h3>\n          <ul className=\"project-info-list\">\n            {orderedLinks.map(link => (\n              <MetaLink key={link.id} link={link} />\n            ))}\n          </ul>\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getQualityGateUrl } from '../../../../../../helpers/urls';\n\ninterface Props {\n  qualityGate: { isDefault?: boolean; key: string; name: string };\n}\n\nexport default function MetaQualityGate({ qualityGate }: Props) {\n  return (\n    <>\n      <h3>{translate('project.info.quality_gate')}</h3>\n\n      <ul className=\"project-info-list\">\n        <li>\n          {qualityGate.isDefault && (\n            <span className=\"note spacer-right\">({translate('default')})</span>\n          )}\n          <Link to={getQualityGateUrl(qualityGate.key)}>{qualityGate.name}</Link>\n        </li>\n      </ul>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { searchRules } from '../../../../../../api/rules';\nimport { getQualityProfileUrl } from '../../../../../../helpers/urls';\nimport { getLanguages, Store } from '../../../../../../store/rootReducer';\n\ninterface StateProps {\n  languages: T.Languages;\n}\n\ninterface OwnProps {\n  headerClassName?: string;\n  profiles: T.ComponentQualityProfile[];\n}\n\ninterface State {\n  deprecatedByKey: T.Dict<number>;\n}\n\nexport class MetaQualityProfiles extends React.PureComponent<StateProps & OwnProps, State> {\n  mounted = false;\n  state: State = { deprecatedByKey: {} };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadDeprecatedRules();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadDeprecatedRules() {\n    const existingProfiles = this.props.profiles.filter(p => !p.deleted);\n    const requests = existingProfiles.map(profile =>\n      this.loadDeprecatedRulesForProfile(profile.key)\n    );\n    Promise.all(requests).then(\n      responses => {\n        if (this.mounted) {\n          const deprecatedByKey: T.Dict<number> = {};\n          responses.forEach((count, i) => {\n            const profileKey = existingProfiles[i].key;\n            deprecatedByKey[profileKey] = count;\n          });\n          this.setState({ deprecatedByKey });\n        }\n      },\n      () => {}\n    );\n  }\n\n  loadDeprecatedRulesForProfile(profileKey: string) {\n    const data = {\n      activation: 'true',\n      organization: undefined,\n      ps: 1,\n      qprofile: profileKey,\n      statuses: 'DEPRECATED'\n    };\n    return searchRules(data).then(r => r.total);\n  }\n\n  getDeprecatedRulesCount(profile: { key: string }) {\n    const count = this.state.deprecatedByKey[profile.key];\n    return count || 0;\n  }\n\n  renderProfile(profile: T.ComponentQualityProfile) {\n    const languageFromStore = this.props.languages[profile.language];\n    const languageName = languageFromStore ? languageFromStore.name : profile.language;\n\n    const inner = (\n      <div className=\"text-ellipsis\">\n        <span className=\"note spacer-right\">({languageName})</span>\n        {profile.deleted ? (\n          profile.name\n        ) : (\n          <Link to={getQualityProfileUrl(profile.name, profile.language)}>{profile.name}</Link>\n        )}\n      </div>\n    );\n\n    if (profile.deleted) {\n      const tooltip = translateWithParameters('overview.deleted_profile', profile.name);\n      return (\n        <Tooltip key={profile.key} overlay={tooltip}>\n          <li className=\"project-info-deleted-profile\">{inner}</li>\n        </Tooltip>\n      );\n    }\n\n    const count = this.getDeprecatedRulesCount(profile);\n\n    if (count > 0) {\n      const tooltip = translateWithParameters('overview.deprecated_profile', count);\n      return (\n        <Tooltip key={profile.key} overlay={tooltip}>\n          <li className=\"project-info-deprecated-rules\">{inner}</li>\n        </Tooltip>\n      );\n    }\n\n    return <li key={profile.key}>{inner}</li>;\n  }\n\n  render() {\n    const { headerClassName, profiles } = this.props;\n\n    return (\n      <>\n        <h3 className={headerClassName}>{translate('overview.quality_profiles')}</h3>\n\n        <ul className=\"project-info-list\">\n          {profiles.map(profile => this.renderProfile(profile))}\n        </ul>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(MetaQualityProfiles);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SizeRating from 'sonar-ui-common/components/ui/SizeRating';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure, localizeMetric } from 'sonar-ui-common/helpers/measures';\nimport DrilldownLink from '../../../../../../components/shared/DrilldownLink';\nimport { ComponentQualifier } from '../../../../../../types/component';\nimport { MetricKey } from '../../../../../../types/metrics';\n\nexport interface MetaSizeProps {\n  component: T.Component;\n  measures: T.Measure[];\n}\n\nexport default function MetaSize({ component, measures }: MetaSizeProps) {\n  const isApp = component.qualifier === ComponentQualifier.Application;\n  const ncloc = measures.find(measure => measure.metric === MetricKey.ncloc);\n  const projects = isApp\n    ? measures.find(measure => measure.metric === MetricKey.projects)\n    : undefined;\n\n  return (\n    <>\n      <h3>{localizeMetric(MetricKey.ncloc)}</h3>\n      <div className=\"display-flex-center\">\n        {ncloc ? (\n          <>\n            <DrilldownLink className=\"huge\" component={component.key} metric={MetricKey.ncloc}>\n              {formatMeasure(ncloc.value, 'SHORT_INT')}\n            </DrilldownLink>\n\n            <span className=\"spacer-left\">\n              <SizeRating value={Number(ncloc.value)} />\n            </span>\n          </>\n        ) : (\n          <span>0</span>\n        )}\n\n        {isApp && (\n          <span className=\"huge-spacer-left display-inline-flex-center\">\n            {projects ? (\n              <DrilldownLink component={component.key} metric={MetricKey.projects}>\n                <span className=\"big\">{formatMeasure(projects.value, 'SHORT_INT')}</span>\n              </DrilldownLink>\n            ) : (\n              <span className=\"big\">0</span>\n            )}\n            <span className=\"little-spacer-left text-muted\">\n              {translate('metric.projects.name')}\n            </span>\n          </span>\n        )}\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { searchProjectTags } from '../../../../../../api/components';\nimport TagsSelector from '../../../../../../components/tags/TagsSelector';\n\ninterface Props {\n  project: string;\n  selectedTags: string[];\n  setProjectTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class MetaTagsSelector extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchProjectTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100)\n    }).then(\n      ({ tags }) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setProjectTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setProjectTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.selectedTags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setApplicationTags, setProjectTags } from '../../../../../../api/components';\nimport TagsList from '../../../../../../components/tags/TagsList';\nimport { ComponentQualifier } from '../../../../../../types/component';\nimport MetaTagsSelector from './MetaTagsSelector';\n\ninterface Props {\n  component: T.Component;\n  onComponentChange: (changes: {}) => void;\n}\n\nexport default class MetaTags extends React.PureComponent<Props> {\n  card?: HTMLDivElement | null;\n  tagsList?: HTMLElement | null;\n  tagsSelector?: HTMLDivElement | null;\n\n  canUpdateTags = () => {\n    const { configuration } = this.props.component;\n    return configuration && configuration.showSettings;\n  };\n\n  getPopupPos = (eltPos: ClientRect, containerPos: ClientRect) => ({\n    top: eltPos.height,\n    right: containerPos.width - eltPos.width\n  });\n\n  setTags = (values: string[]) => {\n    const { component } = this.props;\n\n    if (component.qualifier === ComponentQualifier.Application) {\n      return setApplicationTags({\n        application: component.key,\n        tags: values.join(',')\n      });\n    } else {\n      return setProjectTags({\n        project: component.key,\n        tags: values.join(',')\n      });\n    }\n  };\n\n  handleSetProjectTags = (values: string[]) => {\n    this.setTags(values).then(\n      () => this.props.onComponentChange({ tags: values }),\n      () => {}\n    );\n  };\n\n  render() {\n    const { key } = this.props.component;\n    const tags = this.props.component.tags || [];\n\n    if (this.canUpdateTags()) {\n      return (\n        <div className=\"big-spacer-top project-info-tags\" ref={card => (this.card = card)}>\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <MetaTagsSelector\n                project={key}\n                selectedTags={tags}\n                setProjectTags={this.handleSetProjectTags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <ButtonLink innerRef={tagsList => (this.tagsList = tagsList)} stopPropagation={true}>\n              <TagsList allowUpdate={true} tags={tags.length ? tags : [translate('no_tags')]} />\n            </ButtonLink>\n          </Dropdown>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"big-spacer-top project-info-tags\">\n          <TagsList\n            allowUpdate={false}\n            className=\"note\"\n            tags={tags.length ? tags : [translate('no_tags')]}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PrivacyBadgeContainer from '../../../../../components/common/PrivacyBadgeContainer';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport DrawerLink from './DrawerLink';\nimport MetaKey from './meta/MetaKey';\nimport MetaLinks from './meta/MetaLinks';\nimport MetaQualityGate from './meta/MetaQualityGate';\nimport MetaQualityProfiles from './meta/MetaQualityProfiles';\nimport MetaSize from './meta/MetaSize';\nimport MetaTags from './meta/MetaTags';\nimport { ProjectInformationPages } from './ProjectInformationPages';\n\nexport interface ProjectInformationRendererProps {\n  canConfigureNotifications: boolean;\n  canUseBadges: boolean;\n  component: T.Component;\n  measures?: T.Measure[];\n  onComponentChange: (changes: {}) => void;\n  onPageChange: (page: ProjectInformationPages) => void;\n}\n\nexport function ProjectInformationRenderer(props: ProjectInformationRendererProps) {\n  const { canConfigureNotifications, canUseBadges, component, measures = [] } = props;\n\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  return (\n    <>\n      <div>\n        <h2 className=\"big-padded bordered-bottom\">\n          {translate(isApp ? 'application' : 'project', 'info.title')}\n        </h2>\n      </div>\n\n      <div className=\"overflow-y-auto\">\n        <div className=\"big-padded bordered-bottom\">\n          <div className=\"display-flex-center\">\n            <h3 className=\"spacer-right\">{translate('project.info.description')}</h3>\n            {component.visibility && (\n              <PrivacyBadgeContainer\n                organization={undefined}\n                qualifier={component.qualifier}\n                tooltipProps={{ projectKey: component.key }}\n                visibility={component.visibility}\n              />\n            )}\n          </div>\n\n          {component.description && <p>{component.description}</p>}\n\n          <MetaTags component={component} onComponentChange={props.onComponentChange} />\n        </div>\n\n        <div className=\"big-padded bordered-bottom it__project-loc-value\">\n          <MetaSize component={component} measures={measures} />\n        </div>\n\n        {!isApp &&\n          (component.qualityGate ||\n            (component.qualityProfiles && component.qualityProfiles.length > 0)) && (\n            <>\n              <div className=\"big-padded bordered-bottom\">\n                {component.qualityGate && <MetaQualityGate qualityGate={component.qualityGate} />}\n\n                {component.qualityProfiles && component.qualityProfiles.length > 0 && (\n                  <MetaQualityProfiles\n                    headerClassName={component.qualityGate ? 'big-spacer-top' : undefined}\n                    profiles={component.qualityProfiles}\n                  />\n                )}\n              </div>\n            </>\n          )}\n\n        {!isApp && <MetaLinks component={component} />}\n\n        <div className=\"big-padded bordered-bottom\">\n          <MetaKey componentKey={component.key} qualifier={component.qualifier} />\n        </div>\n\n        {canUseBadges && (\n          <DrawerLink\n            label={translate('overview.badges.get_badge', component.qualifier)}\n            onPageChange={props.onPageChange}\n            to={ProjectInformationPages.badges}\n          />\n        )}\n        {canConfigureNotifications && (\n          <DrawerLink\n            label={translate('project.info.to_notifications')}\n            onPageChange={props.onPageChange}\n            to={ProjectInformationPages.notifications}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default React.memo(ProjectInformationRenderer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getMeasures } from '../../../../../api/measures';\nimport { isLoggedIn } from '../../../../../helpers/users';\nimport { fetchMetrics } from '../../../../../store/rootActions';\nimport { getCurrentUser, getMetrics, Store } from '../../../../../store/rootReducer';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport { MetricKey } from '../../../../../types/metrics';\nimport ProjectBadges from './badges/ProjectBadges';\nimport InfoDrawerPage from './InfoDrawerPage';\nimport ProjectNotifications from './notifications/ProjectNotifications';\nimport './ProjectInformation.css';\nimport { ProjectInformationPages } from './ProjectInformationPages';\nimport ProjectInformationRenderer from './ProjectInformationRenderer';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n  currentUser: T.CurrentUser;\n  fetchMetrics: () => void;\n  onComponentChange: (changes: {}) => void;\n  metrics: T.Dict<T.Metric>;\n}\n\ninterface State {\n  measures?: T.Measure[];\n  page: ProjectInformationPages;\n}\n\nexport class ProjectInformation extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    page: ProjectInformationPages.main\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.loadMeasures();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  setPage = (page: ProjectInformationPages = ProjectInformationPages.main) => {\n    this.setState({ page });\n  };\n\n  loadMeasures = () => {\n    const {\n      component: { key }\n    } = this.props;\n\n    return getMeasures({\n      component: key,\n      metricKeys: [MetricKey.ncloc, MetricKey.projects].join()\n    }).then(measures => {\n      if (this.mounted) {\n        this.setState({ measures });\n      }\n    });\n  };\n\n  render() {\n    const { branchLike, component, currentUser, metrics } = this.props;\n    const { measures, page } = this.state;\n\n    const canConfigureNotifications =\n      isLoggedIn(currentUser) && component.qualifier === ComponentQualifier.Project;\n    const canUseBadges =\n      metrics !== undefined &&\n      component.visibility !== 'private' &&\n      (component.qualifier === ComponentQualifier.Application ||\n        component.qualifier === ComponentQualifier.Project);\n\n    return (\n      <>\n        <ProjectInformationRenderer\n          canConfigureNotifications={canConfigureNotifications}\n          canUseBadges={canUseBadges}\n          component={component}\n          measures={measures}\n          onComponentChange={this.props.onComponentChange}\n          onPageChange={this.setPage}\n        />\n        {canUseBadges && (\n          <InfoDrawerPage\n            displayed={page === ProjectInformationPages.badges}\n            onPageChange={this.setPage}>\n            <ProjectBadges\n              branchLike={branchLike}\n              metrics={metrics}\n              project={component.key}\n              qualifier={component.qualifier}\n            />\n          </InfoDrawerPage>\n        )}\n        {canConfigureNotifications && (\n          <InfoDrawerPage\n            displayed={page === ProjectInformationPages.notifications}\n            onPageChange={this.setPage}>\n            <ProjectNotifications component={component} />\n          </InfoDrawerPage>\n        )}\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchMetrics };\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  metrics: getMetrics(state)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectInformation);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ContextNavBar from 'sonar-ui-common/components/ui/ContextNavBar';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport { BranchLike } from '../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../types/component';\nimport { rawSizes } from '../../../theme';\nimport RecentHistory from '../../RecentHistory';\nimport ComponentNavBgTaskNotif from './ComponentNavBgTaskNotif';\nimport Header from './Header';\nimport HeaderMeta from './HeaderMeta';\nimport Menu from './Menu';\nimport InfoDrawer from './projectInformation/InfoDrawer';\nimport ProjectInformation from './projectInformation/ProjectInformation';\n\ninterface Props {\n  branchLikes: BranchLike[];\n  currentBranchLike: BranchLike | undefined;\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  onComponentChange: (changes: Partial<T.Component>) => void;\n  warnings: string[];\n}\n\nexport default function ComponentNav(props: Props) {\n  const {\n    branchLikes,\n    component,\n    currentBranchLike,\n    currentTask,\n    currentTaskOnSameBranch,\n    isInProgress,\n    isPending,\n    warnings\n  } = props;\n  const { contextNavHeightRaw, globalNavHeightRaw } = rawSizes;\n\n  const [displayProjectInfo, setDisplayProjectInfo] = React.useState(false);\n\n  React.useEffect(() => {\n    const { breadcrumbs, key, name, organization } = component;\n    const { qualifier } = breadcrumbs[breadcrumbs.length - 1];\n    if (\n      [\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application,\n        ComponentQualifier.Developper\n      ].includes(qualifier as ComponentQualifier)\n    ) {\n      RecentHistory.add(key, name, qualifier.toLowerCase(), organization);\n    }\n  }, [component, component.key]);\n\n  let notifComponent;\n  if (isInProgress || isPending || (currentTask && currentTask.status === STATUSES.FAILED)) {\n    notifComponent = (\n      <ComponentNavBgTaskNotif\n        component={component}\n        currentTask={currentTask}\n        currentTaskOnSameBranch={currentTaskOnSameBranch}\n        isInProgress={isInProgress}\n        isPending={isPending}\n      />\n    );\n  }\n\n  const contextNavHeight = notifComponent ? contextNavHeightRaw + 30 : contextNavHeightRaw;\n\n  return (\n    <ContextNavBar height={contextNavHeight} id=\"context-navigation\" notif={notifComponent}>\n      <div\n        className={classNames('display-flex-center display-flex-space-between little-padded-top', {\n          'padded-bottom': warnings.length === 0\n        })}>\n        <Header\n          branchLikes={branchLikes}\n          component={component}\n          currentBranchLike={currentBranchLike}\n        />\n        <HeaderMeta branchLike={currentBranchLike} component={component} warnings={warnings} />\n      </div>\n      <Menu\n        branchLike={currentBranchLike}\n        component={component}\n        onToggleProjectInfo={() => setDisplayProjectInfo(!displayProjectInfo)}\n      />\n      <InfoDrawer\n        displayed={displayProjectInfo}\n        onClose={() => setDisplayProjectInfo(false)}\n        top={globalNavHeightRaw + contextNavHeightRaw}>\n        <ProjectInformation\n          branchLike={currentBranchLike}\n          component={component}\n          onComponentChange={props.onComponentChange}\n        />\n      </InfoDrawer>\n    </ContextNavBar>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { differenceBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getBranches, getPullRequests } from '../../api/branches';\nimport { getAnalysisStatus, getTasksForComponent } from '../../api/ce';\nimport { getComponentData } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport { STATUSES } from '../../apps/background-tasks/constants';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport {\n  getBranchLikeQuery,\n  isBranch,\n  isMainBranch,\n  isPullRequest\n} from '../../helpers/branch-like';\nimport { getPortfolioUrl } from '../../helpers/urls';\nimport {\n  fetchOrganization,\n  registerBranchStatus,\n  requireAuthorization\n} from '../../store/rootActions';\nimport { BranchLike } from '../../types/branch-like';\nimport { isPortfolioLike } from '../../types/component';\nimport ComponentContainerNotFound from './ComponentContainerNotFound';\nimport { ComponentContext } from './ComponentContext';\nimport ComponentNav from './nav/component/ComponentNav';\n\ninterface Props {\n  children: React.ReactElement;\n  fetchOrganization: (organization: string) => void;\n  location: Pick<Location, 'query' | 'pathname'>;\n  registerBranchStatus: (branchLike: BranchLike, component: string, status: T.Status) => void;\n  requireAuthorization: (router: Pick<Router, 'replace'>) => void;\n  router: Pick<Router, 'replace'>;\n}\n\ninterface State {\n  branchLike?: BranchLike;\n  branchLikes: BranchLike[];\n  component?: T.Component;\n  currentTask?: T.Task;\n  isPending: boolean;\n  loading: boolean;\n  tasksInProgress?: T.Task[];\n  warnings: string[];\n}\n\nconst FETCH_STATUS_WAIT_TIME = 3000;\n\nexport class ComponentContainer extends React.PureComponent<Props, State> {\n  watchStatusTimer?: number;\n  mounted = false;\n  state: State = { branchLikes: [], isPending: false, loading: true, warnings: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.location.query.id !== this.props.location.query.id ||\n      prevProps.location.query.branch !== this.props.location.query.branch ||\n      prevProps.location.query.pullRequest !== this.props.location.query.pullRequest\n    ) {\n      this.fetchComponent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    window.clearTimeout(this.watchStatusTimer);\n  }\n\n  addQualifier = (component: T.Component) => ({\n    ...component,\n    qualifier: component.breadcrumbs[component.breadcrumbs.length - 1].qualifier\n  });\n\n  fetchComponent() {\n    const { branch, id: key, pullRequest } = this.props.location.query;\n    this.setState({ loading: true });\n\n    const onError = (response?: Response) => {\n      if (this.mounted) {\n        if (response && response.status === 403) {\n          this.props.requireAuthorization(this.props.router);\n        } else {\n          this.setState({ component: undefined, loading: false });\n        }\n      }\n    };\n\n    Promise.all([\n      getComponentNavigation({ component: key, branch, pullRequest }),\n      getComponentData({ component: key, branch, pullRequest })\n    ])\n      .then(([nav, { component }]) => {\n        const componentWithQualifier = this.addQualifier({ ...nav, ...component });\n\n        /*\n         * This redirect was moved from overview/App.tsx, where it was triggered too soon\n         * (i.e. before the new component was fetched)\n         */\n        if (\n          this.props.location.pathname.match('dashboard') &&\n          isPortfolioLike(componentWithQualifier.qualifier)\n        ) {\n          this.props.router.replace(getPortfolioUrl(component.key));\n        }\n\n        return componentWithQualifier;\n      }, onError)\n      .then(this.fetchBranches)\n      .then(\n        ({ branchLike, branchLikes, component }) => {\n          if (this.mounted) {\n            this.setState({\n              branchLike,\n              branchLikes,\n              component,\n              loading: false\n            });\n            this.fetchStatus(component);\n            this.fetchWarnings(component, branchLike);\n          }\n        },\n        () => {}\n      );\n  }\n\n  fetchBranches = (\n    component: T.Component\n  ): Promise<{\n    branchLike?: BranchLike;\n    branchLikes: BranchLike[];\n    component: T.Component;\n  }> => {\n    const breadcrumb = component.breadcrumbs.find(({ qualifier }) => {\n      return ['APP', 'TRK'].includes(qualifier);\n    });\n\n    if (breadcrumb) {\n      const { key } = breadcrumb;\n      return Promise.all([\n        getBranches(key),\n        breadcrumb.qualifier === 'APP' ? Promise.resolve([]) : getPullRequests(key)\n      ]).then(([branches, pullRequests]) => {\n        const branchLikes = [...branches, ...pullRequests];\n        const branchLike = this.getCurrentBranchLike(branchLikes);\n\n        this.registerBranchStatuses(branchLikes, component);\n\n        return { branchLike, branchLikes, component };\n      });\n    } else {\n      return Promise.resolve({ branchLikes: [], component });\n    }\n  };\n\n  fetchStatus = (component: T.Component) => {\n    getTasksForComponent(component.key).then(\n      ({ current, queue }) => {\n        if (this.mounted) {\n          let shouldFetchComponent = false;\n          this.setState(\n            ({ branchLike, component, currentTask, tasksInProgress }) => {\n              const newCurrentTask = this.getCurrentTask(current, branchLike);\n              const pendingTasks = this.getPendingTasks(queue, branchLike);\n              const newTasksInProgress = pendingTasks.filter(\n                task => task.status === STATUSES.IN_PROGRESS\n              );\n\n              const currentTaskChanged =\n                currentTask && newCurrentTask && currentTask.id !== newCurrentTask.id;\n              const progressChanged =\n                tasksInProgress &&\n                (newTasksInProgress.length !== tasksInProgress.length ||\n                  differenceBy(newTasksInProgress, tasksInProgress, 'id').length > 0);\n\n              shouldFetchComponent = Boolean(currentTaskChanged || progressChanged);\n              if (\n                !shouldFetchComponent &&\n                component &&\n                (newTasksInProgress.length > 0 || !component.analysisDate)\n              ) {\n                // Refresh the status as long as there is tasks in progress or no analysis\n                window.clearTimeout(this.watchStatusTimer);\n                this.watchStatusTimer = window.setTimeout(\n                  () => this.fetchStatus(component),\n                  FETCH_STATUS_WAIT_TIME\n                );\n              }\n\n              const isPending = pendingTasks.some(task => task.status === STATUSES.PENDING);\n              return {\n                currentTask: newCurrentTask,\n                isPending,\n                tasksInProgress: newTasksInProgress\n              };\n            },\n            () => {\n              if (shouldFetchComponent) {\n                this.fetchComponent();\n              }\n            }\n          );\n        }\n      },\n      () => {}\n    );\n  };\n\n  fetchWarnings = (component: T.Component, branchLike?: BranchLike) => {\n    if (component.qualifier === 'TRK') {\n      getAnalysisStatus({\n        component: component.key,\n        ...getBranchLikeQuery(branchLike)\n      }).then(\n        ({ component }) => {\n          this.setState({ warnings: component.warnings });\n        },\n        () => {}\n      );\n    }\n  };\n\n  getCurrentBranchLike = (branchLikes: BranchLike[]) => {\n    const { query } = this.props.location;\n    return query.pullRequest\n      ? branchLikes.find(b => isPullRequest(b) && b.key === query.pullRequest)\n      : branchLikes.find(b => isBranch(b) && (query.branch ? b.name === query.branch : b.isMain));\n  };\n\n  getCurrentTask = (current: T.Task, branchLike?: BranchLike) => {\n    if (!current) {\n      return undefined;\n    }\n\n    return current.status === STATUSES.FAILED || this.isSameBranch(current, branchLike)\n      ? current\n      : undefined;\n  };\n\n  getPendingTasks = (pendingTasks: T.Task[], branchLike?: BranchLike) => {\n    return pendingTasks.filter(task => this.isSameBranch(task, branchLike));\n  };\n\n  isSameBranch = (task: Pick<T.Task, 'branch' | 'pullRequest'>, branchLike?: BranchLike) => {\n    if (branchLike && !isMainBranch(branchLike)) {\n      if (isPullRequest(branchLike)) {\n        return branchLike.key === task.pullRequest;\n      }\n      if (isBranch(branchLike)) {\n        return branchLike.name === task.branch;\n      }\n    }\n    return !task.branch && !task.pullRequest;\n  };\n\n  registerBranchStatuses = (branchLikes: BranchLike[], component: T.Component) => {\n    branchLikes.forEach(branchLike => {\n      if (branchLike.status) {\n        this.props.registerBranchStatus(\n          branchLike,\n          component.key,\n          branchLike.status.qualityGateStatus\n        );\n      }\n    });\n  };\n\n  handleComponentChange = (changes: Partial<T.Component>) => {\n    if (this.mounted) {\n      this.setState(state => {\n        if (state.component) {\n          const newComponent: T.Component = { ...state.component, ...changes };\n          return { component: newComponent };\n        }\n        return null;\n      });\n    }\n  };\n\n  handleBranchesChange = () => {\n    if (this.mounted && this.state.component) {\n      this.fetchBranches(this.state.component).then(\n        ({ branchLike, branchLikes }) => {\n          if (this.mounted) {\n            this.setState({ branchLike, branchLikes });\n          }\n        },\n        () => {}\n      );\n    }\n  };\n\n  render() {\n    const { component, loading } = this.state;\n\n    if (!loading && !component) {\n      return <ComponentContainerNotFound />;\n    }\n\n    const { branchLike, branchLikes, currentTask, isPending, tasksInProgress } = this.state;\n    const isInProgress = tasksInProgress && tasksInProgress.length > 0;\n\n    return (\n      <div>\n        {component && !['FIL', 'UTS'].includes(component.qualifier) && (\n          <ComponentNav\n            branchLikes={branchLikes}\n            component={component}\n            currentBranchLike={branchLike}\n            currentTask={currentTask}\n            currentTaskOnSameBranch={currentTask && this.isSameBranch(currentTask, branchLike)}\n            isInProgress={isInProgress}\n            isPending={isPending}\n            onComponentChange={this.handleComponentChange}\n            warnings={this.state.warnings}\n          />\n        )}\n        {loading ? (\n          <div className=\"page page-limited\">\n            <i className=\"spinner\" />\n          </div>\n        ) : (\n          <ComponentContext.Provider value={{ branchLike, component }}>\n            {React.cloneElement(this.props.children, {\n              branchLike,\n              branchLikes,\n              component,\n              isInProgress,\n              isPending,\n              onBranchesChange: this.handleBranchesChange,\n              onComponentChange: this.handleComponentChange\n            })}\n          </ComponentContext.Provider>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchOrganization, registerBranchStatus, requireAuthorization };\n\nexport default withRouter(connect(null, mapDispatchToProps)(ComponentContainer));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName<P>(\n  WrappedComponent: React.ComponentType<P>,\n  hocName: string\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { filterContent } from '../../helpers/markdown';\n\nconst DocMarkdownBlock = lazyLoadComponent(() => import('./DocMarkdownBlock'), 'DocMarkdownBlock');\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: T.Dict<string>;\n}\n\ninterface State {\n  content?: string;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.doc.then(\n      ({ default: content }) => {\n        if (this.mounted) {\n          this.setState({ content });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={filterContent(this.state.content)}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport enum ComponentQualifier {\n  Application = 'APP',\n  Directory = 'DIR',\n  Developper = 'DEV',\n  File = 'FIL',\n  Portfolio = 'VW',\n  Project = 'TRK',\n  SubPortfolio = 'SVW',\n  SubProject = 'BRC',\n  TestFile = 'UTS'\n}\n\nexport function isPortfolioLike(componentQualifier?: string | ComponentQualifier) {\n  return (\n    !!componentQualifier &&\n    [ComponentQualifier.Portfolio.toString(), ComponentQualifier.SubPortfolio.toString()].includes(\n      componentQualifier\n    )\n  );\n}\n\nexport enum Visibility {\n  Public = 'public',\n  Private = 'private'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// keep this file in JavaScript, because it is used by a webpack loader\nmodule.exports = { getFrontMatter, separateFrontMatter, filterContent };\n\nfunction getFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  return position ? parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine)) : {};\n}\n\nfunction separateFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  if (position) {\n    const frontmatter = parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine));\n    const content = lines.slice(position.lastLine + 1).join('\\n');\n    return { frontmatter, content };\n  } else {\n    return { frontmatter: {}, content };\n  }\n}\n\nfunction getFrontMatterPosition(lines) {\n  let firstLine;\n  let lastLine;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.trim() === '---') {\n      if (firstLine === undefined) {\n        firstLine = i;\n      } else {\n        lastLine = i;\n        break;\n      }\n    }\n  }\n  return lastLine !== undefined ? { firstLine, lastLine } : undefined;\n}\n\nfunction parseFrontMatter(lines) {\n  const data = {};\n  for (let i = 0; i < lines.length; i++) {\n    const tokens = lines[i].split(':').map(x => x.trim());\n    if (tokens.length === 2) {\n      data[tokens[0]] = tokens[1];\n    }\n  }\n  return data;\n}\n\n/**\n * @param {string} content\n * @returns {string}\n */\nfunction filterContent(content) {\n  const regexBase = '<!-- \\\\/?(sonarqube|sonarcloud|static) -->';\n  const { isSonarCloud, getInstance } = require('./system');\n  const contentWithInstance = content.replace(/{instance}/gi, getInstance());\n  const contentWithoutStatic = cutConditionalContent(contentWithInstance, 'static');\n  const filteredContent = isSonarCloud()\n    ? cutConditionalContent(contentWithoutStatic, 'sonarqube')\n    : cutConditionalContent(contentWithoutStatic, 'sonarcloud');\n  return filteredContent\n    .replace(new RegExp(`^${regexBase}(\\n|\\r|\\r\\n|$)`, 'gm'), '') // First, remove single-line ones, including ending carriage-returns.\n    .replace(new RegExp(`${regexBase}`, 'g'), ''); // Now remove all remaining ones.\n}\n\n/**\n * @param {string} content\n * @param {string} tag\n * @returns {string}\n */\nfunction cutConditionalContent(content, tag) {\n  const beginning = `<!-- ${tag} -->`;\n  const ending = `<!-- /${tag} -->`;\n\n  let newContent = content;\n  let start = newContent.indexOf(beginning);\n  let end = newContent.indexOf(ending);\n  while (start !== -1 && end !== -1) {\n    if (start < end) {\n      newContent = newContent.substring(0, start) + newContent.substring(end + ending.length);\n    } else {\n      // When conditional tags are incorrectly used we log an error, strip them out and pass to the next pair of tags\n      // eslint-disable-next-line no-console\n      console.error(\n        new Error(\n          `Documentation - incorrect usage of conditional formatting tags here: \"${newContent.substring(\n            end,\n            start + beginning.length\n          )}\"`\n        )\n      );\n      newContent =\n        newContent.substring(0, end) +\n        newContent.substring(end + ending.length, start) +\n        newContent.substring(start + beginning.length);\n    }\n    start = newContent.indexOf(beginning);\n    end = newContent.indexOf(ending);\n  }\n\n  return newContent;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: T.Dict<T.RuleActivation[]>;\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    response => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (response && response.status === 409) {\n        return Promise.reject(response);\n      } else {\n        return throwGlobalError(response);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentType<P & { appState: Partial<T.AppState> }>\n) {\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withAppState');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Query } from './utils';\n\nexport const STATUSES = {\n  ALL: '__ALL__',\n  ALL_EXCEPT_PENDING: '__ALL_EXCEPT_PENDING__',\n  PENDING: 'PENDING',\n  IN_PROGRESS: 'IN_PROGRESS',\n  SUCCESS: 'SUCCESS',\n  FAILED: 'FAILED',\n  CANCELED: 'CANCELED'\n};\n\nexport const ALL_TYPES = 'ALL_TYPES';\n\nexport const CURRENTS = {\n  ALL: '__ALL__',\n  ONLY_CURRENTS: 'CURRENTS'\n};\n\nexport const DATE = {\n  ANY: 'ANY',\n  TODAY: 'TODAY',\n  CUSTOM: 'CUSTOM'\n};\n\nexport const DEFAULT_FILTERS: Query = {\n  status: STATUSES.ALL_EXCEPT_PENDING,\n  taskType: ALL_TYPES,\n  currents: CURRENTS.ALL,\n  minSubmittedAt: undefined,\n  maxExecutedAt: undefined,\n  query: ''\n};\n\nexport const DATE_FORMAT = 'YYYY-MM-DD';\n\nexport const DEBOUNCE_DELAY = 250;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport './CodeSnippet.css';\n\ninterface Props {\n  className?: string;\n  isOneLine?: boolean;\n  noCopy?: boolean;\n  render?: () => JSX.Element;\n  snippet: string | (string | undefined)[];\n  wrap?: boolean;\n}\n\n// keep this \"useless\" concatentation for the readability reason\n// eslint-disable-next-line no-useless-concat\nconst s = ' \\\\' + '\\n  ';\n\nexport default function CodeSnippet({\n  className,\n  isOneLine,\n  noCopy,\n  render,\n  snippet,\n  wrap\n}: Props) {\n  const snippetArray = Array.isArray(snippet)\n    ? snippet.filter(line => line !== undefined)\n    : [snippet];\n  const finalSnippet = isOneLine ? snippetArray.join(' ') : snippetArray.join(s);\n  return (\n    <div\n      className={classNames(\n        'code-snippet',\n        { 'code-snippet-oneline': isOneLine, 'code-snippet-wrap': wrap },\n        className\n      )}>\n      <pre>{render ? render() : finalSnippet}</pre>\n      {!noCopy && <ClipboardButton copyValue={finalSnippet} />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteButton from 'sonar-ui-common/components/controls/FavoriteButton';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n  handleFavorite?: (component: string, isFavorite: boolean) => void;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class Favorite extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      favorite: props.favorite\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.favorite !== this.props.favorite) {\n      this.setState({ favorite: this.props.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = () => {\n    const newFavorite = !this.state.favorite;\n    const apiMethod = newFavorite ? addFavorite : removeFavorite;\n\n    return apiMethod(this.props.component).then(() => {\n      if (this.mounted) {\n        this.setState({ favorite: newFavorite }, () => {\n          if (this.props.handleFavorite) {\n            this.props.handleFavorite(this.props.component, newFavorite);\n          }\n        });\n      }\n    });\n  };\n\n  render() {\n    const { className, qualifier } = this.props;\n    const { favorite } = this.state;\n\n    return (\n      <FavoriteButton\n        className={className}\n        favorite={favorite}\n        qualifier={qualifier}\n        toggleFavorite={this.toggleFavorite}\n      />\n    );\n  }\n}\n/*  */\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getAnalysisStatus(data: {\n  component: string;\n  branch?: string;\n  pullRequest?: string;\n}): Promise<{\n  component: {\n    branch?: string;\n    key: string;\n    name: string;\n    organization?: string;\n    pullRequest?: string;\n    warnings: string[];\n  };\n}> {\n  return getJSON('/api/ce/analysis_status', data).catch(throwGlobalError);\n}\n\nexport function getActivity(data: RequestData): Promise<{ tasks: T.Task[] }> {\n  return getJSON('/api/ce/activity', data);\n}\n\nexport function getStatus(\n  componentId?: string\n): Promise<{ failing: number; inProgress: number; pending: number; pendingTime?: number }> {\n  const data = {};\n  if (componentId) {\n    Object.assign(data, { componentId });\n  }\n  return getJSON('/api/ce/activity_status', data);\n}\n\nexport function getTask(id: string, additionalFields?: string[]): Promise<T.Task> {\n  return getJSON('/api/ce/task', { id, additionalFields }).then(r => r.task);\n}\n\nexport function cancelTask(id: string): Promise<any> {\n  return post('/api/ce/cancel', { id }).then(\n    () => getTask(id),\n    () => getTask(id)\n  );\n}\n\nexport function cancelAllTasks(): Promise<any> {\n  return post('/api/ce/cancel_all');\n}\n\nexport function getTasksForComponent(\n  component: string\n): Promise<{ queue: T.Task[]; current: T.Task }> {\n  return getJSON('/api/ce/component', { component }).catch(throwGlobalError);\n}\n\nexport function getTypes(): Promise<string[]> {\n  return getJSON('/api/ce/task_types').then(r => r.taskTypes);\n}\n\nexport function getWorkers(): Promise<{ canSetWorkerCount: boolean; value: number }> {\n  return getJSON('/api/ce/worker_count').catch(throwGlobalError);\n}\n\nexport function setWorkerCount(count: number): Promise<void | Response> {\n  return post('/api/ce/set_worker_count', { count }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HomeIcon from 'sonar-ui-common/components/icons/HomeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nclass HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const checked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const tooltip = checked ? translate('homepage.current') : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {checked ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={checked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={this.handleClick}>\n            <HomeIcon filled={checked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component &&\n    (a as any).organization === (b as any).organization\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport { IconProps } from 'sonar-ui-common/components/icons/Icon';\nimport PullRequestIcon from 'sonar-ui-common/components/icons/PullRequestIcon';\nimport { isPullRequest } from '../../helpers/branch-like';\nimport { BranchLike } from '../../types/branch-like';\n\nexport interface BranchLikeIconProps extends IconProps {\n  branchLike: BranchLike;\n}\n\nexport default function BranchLikeIcon({ branchLike, ...props }: BranchLikeIconProps) {\n  if (isPullRequest(branchLike)) {\n    return <PullRequestIcon {...props} />;\n  } else {\n    return <BranchIcon {...props} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { partition, sortBy } from 'lodash';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nconst PROVIDED_TYPES = ['homepage', 'ci', 'issue', 'scm', 'scm_dev'];\ntype NameAndType = Pick<T.ProjectLink, 'name' | 'type'>;\n\nexport function isProvided(link: Pick<T.ProjectLink, 'type'>) {\n  return PROVIDED_TYPES.includes(link.type);\n}\n\nexport function orderLinks<T extends NameAndType>(links: T[]) {\n  const [provided, unknown] = partition<T>(links, isProvided);\n  return [\n    ...sortBy(provided, link => PROVIDED_TYPES.indexOf(link.type)),\n    ...sortBy(unknown, link => link.name && link.name.toLowerCase())\n  ];\n}\n\nexport function getLinkName(link: NameAndType) {\n  return isProvided(link) ? translate('project_links', link.type) : link.name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getBranchLikeQuery } from '../../helpers/branch-like';\nimport { getComponentDrilldownUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\n\nconst ISSUE_MEASURES = [\n  'violations',\n  'new_violations',\n  'blocker_violations',\n  'critical_violations',\n  'major_violations',\n  'minor_violations',\n  'info_violations',\n  'new_blocker_violations',\n  'new_critical_violations',\n  'new_major_violations',\n  'new_minor_violations',\n  'new_info_violations',\n  'open_issues',\n  'reopened_issues',\n  'confirmed_issues',\n  'false_positive_issues',\n  'code_smells',\n  'new_code_smells',\n  'bugs',\n  'new_bugs',\n  'vulnerabilities',\n  'new_vulnerabilities'\n];\n\nconst issueParamsPerMetric: T.Dict<T.Dict<string>> = {\n  blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  new_blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  new_critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  major_violations: { resolved: 'false', severities: 'MAJOR' },\n  new_major_violations: { resolved: 'false', severities: 'MAJOR' },\n  minor_violations: { resolved: 'false', severities: 'MINOR' },\n  new_minor_violations: { resolved: 'false', severities: 'MINOR' },\n  info_violations: { resolved: 'false', severities: 'INFO' },\n  new_info_violations: { resolved: 'false', severities: 'INFO' },\n  open_issues: { resolved: 'false', statuses: 'OPEN' },\n  reopened_issues: { resolved: 'false', statuses: 'REOPENED' },\n  confirmed_issues: { resolved: 'false', statuses: 'CONFIRMED' },\n  false_positive_issues: { resolutions: 'FALSE-POSITIVE' },\n  code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  new_code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  bugs: { resolved: 'false', types: 'BUG' },\n  new_bugs: { resolved: 'false', types: 'BUG' },\n  vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' },\n  new_vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' }\n};\n\ninterface Props {\n  branchLike?: BranchLike;\n  children?: React.ReactNode;\n  className?: string;\n  component: string;\n  metric: string;\n  sinceLeakPeriod?: boolean;\n}\n\nexport default class DrilldownLink extends React.PureComponent<Props> {\n  isIssueMeasure = () => {\n    return ISSUE_MEASURES.indexOf(this.props.metric) !== -1;\n  };\n\n  propsToIssueParams = () => {\n    const params: T.Dict<string | boolean> = {\n      ...(issueParamsPerMetric[this.props.metric] || { resolved: 'false' })\n    };\n\n    if (this.props.sinceLeakPeriod) {\n      params.sinceLeakPeriod = true;\n    }\n\n    return params;\n  };\n\n  renderIssuesLink = () => {\n    const url = getComponentIssuesUrl(this.props.component, {\n      ...this.propsToIssueParams(),\n      ...getBranchLikeQuery(this.props.branchLike)\n    });\n\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  };\n\n  render() {\n    if (this.isIssueMeasure()) {\n      return this.renderIssuesLink();\n    }\n\n    const url = getComponentDrilldownUrl({\n      componentKey: this.props.component,\n      metric: this.props.metric,\n      branchLike: this.props.branchLike,\n      listView: true\n    });\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Branch, PullRequest } from '../types/branch-like';\n\nexport function getBranches(project: string): Promise<Branch[]> {\n  return getJSON('/api/project_branches/list', { project }).then(r => r.branches, throwGlobalError);\n}\n\nexport function getPullRequests(project: string): Promise<PullRequest[]> {\n  return getJSON('/api/project_pull_requests/list', { project }).then(\n    r => r.pullRequests,\n    throwGlobalError\n  );\n}\n\nexport function deleteBranch(data: { branch: string; project: string }) {\n  return post('/api/project_branches/delete', data).catch(throwGlobalError);\n}\n\nexport function deletePullRequest(data: { project: string; pullRequest: string }) {\n  return post('/api/project_pull_requests/delete', data).catch(throwGlobalError);\n}\n\nexport function renameBranch(project: string, name: string) {\n  return post('/api/project_branches/rename', { project, name }).catch(throwGlobalError);\n}\n\nexport function excludeBranchFromPurge(projectKey: string, branchName: string, excluded: boolean) {\n  return post('/api/project_branches/set_automatic_deletion_protection', {\n    project: projectKey,\n    branch: branchName,\n    value: excluded\n  }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface ComponentContextType {\n  branchLike: BranchLike | undefined;\n  component: T.Component | undefined;\n}\n\nexport const ComponentContext = React.createContext<ComponentContextType>({\n  branchLike: undefined,\n  component: undefined\n});\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".code-snippet{position:relative;margin:8px 0;background:#404040;color:#f0f0f0;border-radius:3px}.code-snippet pre{padding:16px;overflow:auto}.code-snippet>button{position:absolute;top:16px;right:16px;line-height:18px;border:1px solid #fff;color:#fff;font-size:11px;font-weight:400;-webkit-user-select:none;-ms-user-select:none;user-select:none}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:#fff;color:#404040}.code-snippet-oneline pre{padding-bottom:40px}.code-snippet-oneline>button{top:auto;bottom:16px}.code-snippet-wrap pre{white-space:pre-wrap;word-break:break-all}.code-snippet .highlight{font-weight:700;color:#f4b1b0}.code-snippet .button-icon{color:#fff!important}.code-snippet .button-icon:active svg,.code-snippet .button-icon:focus svg,.code-snippet .button-icon:hover svg{background-color:#fff;color:#404040}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport VisibleIcon from 'sonar-ui-common/components/icons/VisibleIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { colors } from '../../app/theme';\nimport { isCurrentUserMemberOf, isPaidOrganization } from '../../helpers/organizations';\nimport { isSonarCloud } from '../../helpers/system';\nimport {\n  getCurrentUser,\n  getMyOrganizations,\n  getOrganizationByKey,\n  Store\n} from '../../store/rootReducer';\nimport DocTooltip from '../docs/DocTooltip';\n\ninterface StateToProps {\n  currentUser: T.CurrentUser;\n  organization?: T.Organization;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps {\n  className?: string;\n  organization: T.Organization | string | undefined;\n  qualifier: string;\n  tooltipProps?: { projectKey: string };\n  visibility: T.Visibility;\n}\n\ninterface Props extends OwnProps, StateToProps {\n  organization: T.Organization | undefined;\n}\n\nexport function PrivacyBadge({\n  className,\n  currentUser,\n  organization,\n  qualifier,\n  userOrganizations,\n  tooltipProps,\n  visibility\n}: Props) {\n  const onSonarCloud = isSonarCloud();\n  if (\n    visibility !== 'private' &&\n    (!onSonarCloud || !isCurrentUserMemberOf(currentUser, organization, userOrganizations))\n  ) {\n    return null;\n  }\n\n  let icon = null;\n  if (isPaidOrganization(organization) && visibility === 'public') {\n    icon = <VisibleIcon className=\"little-spacer-right\" fill={colors.blue} />;\n  }\n\n  const badge = (\n    <div\n      className={classNames('badge', className, {\n        'badge-info': Boolean(icon)\n      })}>\n      {icon}\n      {translate('visibility', visibility)}\n    </div>\n  );\n\n  if (onSonarCloud && organization) {\n    return (\n      <DocTooltip\n        className={className}\n        doc={getDoc(visibility, icon, organization)}\n        overlayProps={{ ...tooltipProps, organization: organization.key }}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      {badge}\n    </Tooltip>\n  );\n}\n\nconst mapStateToProps = (state: Store, { organization }: OwnProps) => {\n  if (typeof organization === 'string') {\n    organization = getOrganizationByKey(state, organization);\n  }\n  return {\n    currentUser: getCurrentUser(state),\n    organization,\n    userOrganizations: getMyOrganizations(state)\n  };\n};\n\nexport default connect(mapStateToProps)(PrivacyBadge);\n\nfunction getDoc(visibility: T.Visibility, icon: JSX.Element | null, organization: T.Organization) {\n  let doc;\n  const { actions = {} } = organization;\n  if (visibility === 'private') {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-private.md');\n  } else if (icon) {\n    if (actions.admin) {\n      doc = import(\n        /* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org-admin.md'\n      );\n    } else {\n      doc = import(\n        /* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org.md'\n      );\n    }\n  } else if (actions.admin) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-admin.md');\n  } else {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public.md');\n  }\n  return doc;\n}\n","export default \"This project is private. Only the members of this organization are able to browse it and its source code.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","export default \"This project is public, which means anyone is able to browse its source code. Go to your project's [Administration > Permissions](/#sonarcloud#/project_roles?id=#projectKey#) to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","export default \"This project is public, which means anyone is able to browse its source code. Contact the project administrator to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","export default \"This project is public, which means anyone is able to browse its source code. Subscribe to a paid plan to get unlimited private projects in [Administration > Billing](/#sonarcloud#/organizations/#organization#/extension/billing/billing).\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","export default \"This project is public, which means anyone is able to browse its source code. Contact the organization administrator if you want to make it private.\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isWebUri } from 'valid-url';\n\nexport default function(url: string): boolean {\n  return /^(\\/|scm:)/.test(url) || !!isWebUri(url);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport { getBranchStatusByBranchLike, Store } from '../../store/rootReducer';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface Props {\n  branchLike: BranchLike;\n  component: string;\n  status?: string;\n}\n\nexport function BranchStatus({ status }: Props) {\n  if (!status) {\n    return null;\n  }\n\n  return <Level level={status} small={true} />;\n}\n\nconst mapStateToProps = (state: Store, { branchLike, component }: Props) => {\n  const { status } = getBranchStatusByBranchLike(state, component, branchLike);\n  return { status };\n};\n\nexport default connect(mapStateToProps)(BranchStatus);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\ninterface RawDomain {\n  actions: T.WebApi.Action[];\n  deprecatedSince?: string;\n  description: string;\n  internal: boolean;\n  path: string;\n  since?: string;\n}\n\nexport function fetchWebApi(showInternal = true): Promise<RawDomain[]> {\n  return getJSON('/api/webservices/list', { include_internals: showInternal })\n    .then(r => r.webServices)\n    .catch(throwGlobalError);\n}\n\nexport function fetchResponseExample(domain: string, action: string): Promise<T.WebApi.Example> {\n  return getJSON('/api/webservices/response_example', { controller: domain, action }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onAdd: (n: T.Notification) => void;\n  onRemove: (n: T.Notification) => void;\n  channels: string[];\n  checkboxId: (type: string, channel: string) => string;\n  project?: boolean;\n  types: string[];\n  notifications: T.Notification[];\n}\n\nexport default class NotificationsList extends React.PureComponent<Props> {\n  isEnabled(type: string, channel: string) {\n    return !!this.props.notifications.find(\n      notification => notification.type === type && notification.channel === channel\n    );\n  }\n\n  handleCheck(type: string, channel: string, checked: boolean) {\n    if (checked) {\n      this.props.onAdd({ type, channel });\n    } else {\n      this.props.onRemove({ type, channel });\n    }\n  }\n\n  getDispatcherLabel(dispatcher: string) {\n    const globalMessageKey = ['notification.dispatcher', dispatcher];\n    const projectMessageKey = [...globalMessageKey, 'project'];\n    const shouldUseProjectMessage = this.props.project && hasMessage(...projectMessageKey);\n    return shouldUseProjectMessage\n      ? translate(...projectMessageKey)\n      : translate(...globalMessageKey);\n  }\n\n  render() {\n    const { channels, checkboxId, types } = this.props;\n\n    return (\n      <tbody>\n        {types.map(type => (\n          <tr key={type}>\n            <td>{this.getDispatcherLabel(type)}</td>\n            {channels.map(channel => (\n              <td className=\"text-center\" key={channel}>\n                <Checkbox\n                  checked={this.isEnabled(type, channel)}\n                  id={checkboxId(type, channel)}\n                  onCheck={checked => this.handleCheck(type, channel, checked)}\n                />\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getProjectLinks(projectKey: string): Promise<T.ProjectLink[]> {\n  return getJSON('/api/project_links/search', { projectKey }).then(r => r.links, throwGlobalError);\n}\n\nexport function deleteLink(linkId: string) {\n  return post('/api/project_links/delete', { id: linkId }).catch(throwGlobalError);\n}\n\nexport function createLink(data: {\n  name: string;\n  projectKey: string;\n  url: string;\n}): Promise<T.ProjectLink> {\n  return postJSON('/api/project_links/create', data).then(r => r.link, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport ProjectLinkIcon from 'sonar-ui-common/components/icons/ProjectLinkIcon';\nimport { getLinkName } from '../../../../../../helpers/projectLinks';\nimport isValidUri from '../../../../../utils/isValidUri';\n\ninterface Props {\n  iconOnly?: boolean;\n  link: T.ProjectLink;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport default class MetaLink extends React.PureComponent<Props, State> {\n  state = { expanded: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState(({ expanded }) => ({ expanded: !expanded }));\n  };\n\n  handleCollapse = () => {\n    this.setState({ expanded: false });\n  };\n\n  handleSelect = (event: React.MouseEvent<HTMLInputElement>) => {\n    event.currentTarget.select();\n  };\n\n  render() {\n    const { iconOnly, link } = this.props;\n    const linkTitle = getLinkName(link);\n    return (\n      <li>\n        <a\n          className=\"link-with-icon\"\n          href={link.url}\n          onClick={!isValidUri(link.url) ? this.handleClick : undefined}\n          rel=\"nofollow noreferrer noopener\"\n          target=\"_blank\"\n          title={linkTitle}>\n          <ProjectLinkIcon className=\"little-spacer-right\" type={link.type} />\n          {!iconOnly && linkTitle}\n        </a>\n        {this.state.expanded && (\n          <div className=\"little-spacer-top display-flex-center\">\n            <input\n              className=\"overview-key width-80\"\n              onClick={this.handleSelect}\n              readOnly={true}\n              type=\"text\"\n              value={link.url}\n            />\n            <ClearButton className=\"little-spacer-left\" onClick={this.handleCollapse} />\n          </div>\n        )}\n      </li>\n    );\n  }\n}\n"],"sourceRoot":""}