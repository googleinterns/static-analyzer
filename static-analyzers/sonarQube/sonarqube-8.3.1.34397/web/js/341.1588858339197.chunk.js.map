{"version":3,"sources":["webpack:///./src/main/js/apps/account/notifications/NotificationsList.tsx","webpack:///./node_modules/lodash/uniqWith.js","webpack:///./src/main/js/api/notifications.ts","webpack:///./src/main/js/components/hoc/withNotifications.tsx","webpack:///./src/main/js/apps/account/notifications/SonarCloudNotifications.tsx","webpack:///./src/main/js/apps/account/notifications/GlobalNotifications.tsx","webpack:///./src/main/js/apps/account/notifications/ProjectModal.tsx","webpack:///./src/main/js/apps/account/notifications/ProjectNotifications.tsx","webpack:///./src/main/js/apps/account/notifications/Projects.tsx","webpack:///./src/main/js/apps/account/notifications/Notifications.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css?7974","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./node_modules/lodash/partition.js","webpack:///./node_modules/sonar-ui-common/components/controls/BoxedGroupAccordion.js"],"names":["isEnabled","type","channel","this","props","notifications","find","notification","handleCheck","checked","onAdd","onRemove","getDispatcherLabel","dispatcher","globalMessageKey","projectMessageKey","project","render","channels","checkboxId","types","map","key","className","id","onCheck","baseUniq","module","exports","array","comparator","undefined","length","getNotifications","catch","throwGlobalError","addNotification","data","removeNotification","withNotifications","WrappedComponent","mounted","state","globalTypes","loading","perProjectTypes","fetchNotifications","then","response","setState","addNotificationToState","added","areNotificationsEqual","removeNotificationFromState","removed","filter","a","b","componentDidMount","componentWillUnmount","displayName","handleCheckOptOut","setCurrentUserSetting","value","notificationsOptOut","mapDispatchToProps","GlobalNotifications","NotificationsList","handleKeyDown","event","keyCode","preventDefault","handleSelectHighlighted","handleHighlightPrevious","handleHighlightNext","getCurrentIndex","highlighted","suggestions","findIndex","suggestion","highlightIndex","index","selectedProject","handleSubmit","handleSelect","handleSearch","query","addedProjects","open","Promise","resolve","r","projects","results","domain","q","items","item","p","projectName","name","onSubmit","closeModal","header","onClose","onCloseClick","onFormSubmit","autoFocus","onChange","onKeyDown","placeholder","Dropdown","noPadding","active","onClick","disabled","ProjectNotifications","collapsed","isCollapsed","setCollapsed","title","isNotificationProject","search","showModal","filterSearch","toLowerCase","includes","handleAddProject","openModal","allProjects","projectToRemove","notificationsByProject","n","filteredProjects","shouldBeCollapsed","Object","keys","Notifications","globalNotifications","projectNotifications","defer","Alert","variant","extendStatics","__extends","d","setPrototypeOf","__proto__","Array","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","arguments","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","React","Modal_1","SimpleModal","_super","_this","submitting","stopSubmitting","handleCloseClick","currentTarget","blur","handleFormSubmit","submit","handleSubmitClick","result","_a","children","modalProps","createElement","default","contentLabel","onRequestClose","onSubmitClick","Component","getWrappedDisplayName","hocName","classNames","DeferredSpinner_1","Checkbox","handleClick","right","thirdState","note","href","role","Boolean","defaultProps","PureComponent","api","content","__esModule","options","exported","locals","___CSS_LOADER_API_IMPORT___","push","baseAssignValue","createAggregator","groupBy","Icon_1","_b","fill","size","style","ChevronDownIcon_1","ChevronRightIcon_1","partition","OpenCloseIcon_1","BoxedGroupAccordion","hoveringInner","onDetailEnter","onDetailLeave","renderHeader","onMouseEnter","onMouseLeave"],"mappings":"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","file":"js/341.1588858339197.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onAdd: (n: T.Notification) => void;\n  onRemove: (n: T.Notification) => void;\n  channels: string[];\n  checkboxId: (type: string, channel: string) => string;\n  project?: boolean;\n  types: string[];\n  notifications: T.Notification[];\n}\n\nexport default class NotificationsList extends React.PureComponent<Props> {\n  isEnabled(type: string, channel: string) {\n    return !!this.props.notifications.find(\n      notification => notification.type === type && notification.channel === channel\n    );\n  }\n\n  handleCheck(type: string, channel: string, checked: boolean) {\n    if (checked) {\n      this.props.onAdd({ type, channel });\n    } else {\n      this.props.onRemove({ type, channel });\n    }\n  }\n\n  getDispatcherLabel(dispatcher: string) {\n    const globalMessageKey = ['notification.dispatcher', dispatcher];\n    const projectMessageKey = [...globalMessageKey, 'project'];\n    const shouldUseProjectMessage = this.props.project && hasMessage(...projectMessageKey);\n    return shouldUseProjectMessage\n      ? translate(...projectMessageKey)\n      : translate(...globalMessageKey);\n  }\n\n  render() {\n    const { channels, checkboxId, types } = this.props;\n\n    return (\n      <tbody>\n        {types.map(type => (\n          <tr key={type}>\n            <td>{this.getDispatcherLabel(type)}</td>\n            {channels.map(channel => (\n              <td className=\"text-center\" key={channel}>\n                <Checkbox\n                  checked={this.isEnabled(type, channel)}\n                  id={checkboxId(type, channel)}\n                  onCheck={checked => this.handleCheck(type, channel, checked)}\n                />\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n","var baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nmodule.exports = uniqWith;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getNotifications(): Promise<{\n  channels: string[];\n  globalTypes: string[];\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}> {\n  return getJSON('/api/notifications/list').catch(throwGlobalError);\n}\n\nexport function addNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/add', data).catch(throwGlobalError);\n}\n\nexport function removeNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/remove', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqWith } from 'lodash';\nimport * as React from 'react';\nimport { addNotification, getNotifications, removeNotification } from '../../api/notifications';\nimport { getWrappedDisplayName } from './utils';\n\ninterface State {\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}\n\nexport interface WithNotificationsProps {\n  addNotification: (added: T.Notification) => void;\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n  removeNotification: (removed: T.Notification) => void;\n}\n\nexport function withNotifications<P>(\n  WrappedComponent: React.ComponentType<P & WithNotificationsProps>\n) {\n  class Wrapper extends React.Component<P, State> {\n    mounted = false;\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withNotifications');\n\n    state: State = {\n      channels: [],\n      globalTypes: [],\n      loading: true,\n      notifications: [],\n      perProjectTypes: []\n    };\n\n    componentDidMount() {\n      this.mounted = true;\n      this.fetchNotifications();\n    }\n\n    componentWillUnmount() {\n      this.mounted = false;\n    }\n\n    fetchNotifications = () => {\n      getNotifications().then(\n        response => {\n          if (this.mounted) {\n            this.setState({\n              channels: response.channels,\n              globalTypes: response.globalTypes,\n              loading: false,\n              notifications: response.notifications,\n              perProjectTypes: response.perProjectTypes\n            });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n          }\n        }\n      );\n    };\n\n    addNotificationToState = (added: T.Notification) => {\n      this.setState(state => {\n        const notifications = uniqWith([...state.notifications, added], this.areNotificationsEqual);\n        return { notifications };\n      });\n    };\n\n    removeNotificationFromState = (removed: T.Notification) => {\n      this.setState(state => {\n        const notifications = state.notifications.filter(\n          notification => !this.areNotificationsEqual(notification, removed)\n        );\n        return { notifications };\n      });\n    };\n\n    addNotification = (added: T.Notification) => {\n      // optimistic update\n      this.addNotificationToState(added);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: added.channel, project: added.project, type: added.type };\n      addNotification(data).catch(() => {\n        this.removeNotificationFromState(added);\n      });\n    };\n\n    removeNotification = (removed: T.Notification) => {\n      // optimistic update\n      this.removeNotificationFromState(removed);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: removed.channel, project: removed.project, type: removed.type };\n      removeNotification(data).catch(() => {\n        this.addNotificationToState(removed);\n      });\n    };\n\n    areNotificationsEqual = (a: T.Notification, b: T.Notification) => {\n      return a.channel === b.channel && a.type === b.type && a.project === b.project;\n    };\n\n    render() {\n      const { channels, globalTypes, loading, notifications, perProjectTypes } = this.state;\n      return (\n        <WrappedComponent\n          {...this.props}\n          addNotification={this.addNotification}\n          channels={channels}\n          globalTypes={globalTypes}\n          loading={loading}\n          notifications={notifications}\n          perProjectTypes={perProjectTypes}\n          removeNotification={this.removeNotification}\n        />\n      );\n    }\n  }\n\n  return Wrapper;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getCurrentUserSetting, Store } from '../../../store/rootReducer';\nimport { setCurrentUserSetting } from '../../../store/users';\n\ninterface Props {\n  notificationsOptOut?: boolean;\n  setCurrentUserSetting: (setting: T.CurrentUserSetting) => void;\n}\n\nexport class SonarCloudNotifications extends React.PureComponent<Props> {\n  handleCheckOptOut = (checked: boolean) => {\n    this.props.setCurrentUserSetting({\n      key: 'notifications.optOut',\n      value: checked ? 'false' : 'true'\n    });\n  };\n\n  render() {\n    return (\n      <section className=\"boxed-group\">\n        <h2>{translate('my_profile.sonarcloud_feature_notifications.title')}</h2>\n        <div className=\"boxed-group-inner\">\n          <table className=\"data zebra\">\n            <thead>\n              <tr>\n                <th />\n                <th className=\"text-center\">\n                  <h4>{translate('activate')}</h4>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>{translate('my_profile.sonarcloud_feature_notifications.description')}</td>\n                <td className=\"text-center\">\n                  <Checkbox\n                    checked={!this.props.notificationsOptOut}\n                    onCheck={this.handleCheckOptOut}\n                  />\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => {\n  const notificationsOptOut = getCurrentUserSetting(state, 'notifications.optOut') === 'true';\n\n  return {\n    notificationsOptOut\n  };\n};\n\nconst mapDispatchToProps = {\n  setCurrentUserSetting\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SonarCloudNotifications);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\nimport NotificationsList from './NotificationsList';\nimport SonarCloudNotifications from './SonarCloudNotifications';\n\ninterface Props {\n  addNotification: (n: T.Notification) => void;\n  channels: string[];\n  notifications: T.Notification[];\n  removeNotification: (n: T.Notification) => void;\n  types: string[];\n}\n\nexport default function GlobalNotifications(props: Props) {\n  return (\n    <>\n      <section className=\"boxed-group\">\n        <h2>{translate('my_profile.overall_notifications.title')}</h2>\n\n        <div className=\"boxed-group-inner\">\n          <table className=\"data zebra\">\n            <thead>\n              <tr>\n                <th />\n                {props.channels.map(channel => (\n                  <th className=\"text-center\" key={channel}>\n                    <h4>{translate('notification.channel', channel)}</h4>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n\n            <NotificationsList\n              channels={props.channels}\n              checkboxId={getCheckboxId}\n              notifications={props.notifications}\n              onAdd={props.addNotification}\n              onRemove={props.removeNotification}\n              types={props.types}\n            />\n          </table>\n        </div>\n      </section>\n      {isSonarCloud() && <SonarCloudNotifications />}\n    </>\n  );\n}\n\nfunction getCheckboxId(type: string, channel: string) {\n  return `global-notification-${type}-${channel}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { debounce } from 'lodash';\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getSuggestions } from '../../../api/components';\n\ninterface Props {\n  addedProjects: T.NotificationProject[];\n  closeModal: VoidFunction;\n  onSubmit: (project: T.NotificationProject) => void;\n}\n\ninterface State {\n  highlighted?: T.NotificationProject;\n  loading?: boolean;\n  query?: string;\n  open?: boolean;\n  selectedProject?: T.NotificationProject;\n  suggestions?: T.NotificationProject[];\n}\n\nexport default class ProjectModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n    this.handleSearch = debounce(this.handleSearch, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.handleSelectHighlighted();\n        break;\n      case 38:\n        event.preventDefault();\n        this.handleHighlightPrevious();\n        break;\n      case 40:\n        event.preventDefault();\n        this.handleHighlightNext();\n        break;\n    }\n  };\n\n  getCurrentIndex = () => {\n    const { highlighted, suggestions } = this.state;\n    return highlighted && suggestions\n      ? suggestions.findIndex(suggestion => suggestion.project === highlighted.project)\n      : -1;\n  };\n\n  highlightIndex = (index: number) => {\n    const { suggestions } = this.state;\n    if (suggestions && suggestions.length > 0) {\n      if (index < 0) {\n        index = suggestions.length - 1;\n      } else if (index >= suggestions.length) {\n        index = 0;\n      }\n      this.setState({\n        highlighted: suggestions[index]\n      });\n    }\n  };\n\n  handleHighlightPrevious = () => {\n    this.highlightIndex(this.getCurrentIndex() - 1);\n  };\n\n  handleHighlightNext = () => {\n    this.highlightIndex(this.getCurrentIndex() + 1);\n  };\n\n  handleSelectHighlighted = () => {\n    const { highlighted, selectedProject } = this.state;\n    if (highlighted !== undefined) {\n      if (selectedProject !== undefined && highlighted.project === selectedProject.project) {\n        this.handleSubmit();\n      } else {\n        this.handleSelect(highlighted);\n      }\n    }\n  };\n\n  handleSearch = (query: string) => {\n    const { addedProjects } = this.props;\n\n    if (query.length < 2) {\n      this.setState({ open: false, query });\n      return Promise.resolve([]);\n    }\n\n    this.setState({ loading: true, query });\n    return getSuggestions(query).then(\n      r => {\n        if (this.mounted) {\n          let suggestions = undefined;\n          const projects = r.results.find(domain => domain.q === 'TRK');\n          if (projects && projects.items.length > 0) {\n            suggestions = projects.items\n              .filter(item => !addedProjects.find(p => p.project === item.key))\n              .map(item => ({\n                project: item.key,\n                projectName: item.name\n              }));\n          }\n          this.setState({ loading: false, open: true, suggestions });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false, open: false });\n        }\n      }\n    );\n  };\n\n  handleSelect = (selectedProject: T.NotificationProject) => {\n    this.setState({\n      open: false,\n      query: selectedProject.projectName,\n      selectedProject\n    });\n  };\n\n  handleSubmit = () => {\n    const { selectedProject } = this.state;\n    if (selectedProject) {\n      this.props.onSubmit(selectedProject);\n    }\n  };\n\n  render() {\n    const { closeModal } = this.props;\n    const { highlighted, loading, query, open, selectedProject, suggestions } = this.state;\n    const header = translate('my_account.set_notifications_for.title');\n    return (\n      <SimpleModal header={header} onClose={closeModal} onSubmit={this.handleSubmit}>\n        {({ onCloseClick, onFormSubmit }) => (\n          <form onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n            <div className=\"modal-body\">\n              <div className=\"modal-field abs-width-400\">\n                <label>{translate('my_account.set_notifications_for')}</label>\n                <SearchBox\n                  autoFocus={true}\n                  onChange={this.handleSearch}\n                  onKeyDown={this.handleKeyDown}\n                  placeholder={translate('search.placeholder')}\n                  value={query}\n                />\n\n                {loading && <i className=\"spinner spacer-left\" />}\n\n                {!loading && open && (\n                  <div className=\"position-relative\">\n                    <DropdownOverlay className=\"abs-width-400\" noPadding={true}>\n                      {suggestions && suggestions.length > 0 ? (\n                        <ul className=\"notifications-add-project-search-results\">\n                          {suggestions.map(suggestion => (\n                            <li\n                              className={classNames({\n                                active: highlighted && highlighted.project === suggestion.project\n                              })}\n                              key={suggestion.project}\n                              onClick={() => this.handleSelect(suggestion)}>\n                              {suggestion.projectName}\n                            </li>\n                          ))}\n                        </ul>\n                      ) : (\n                        <div className=\"notifications-add-project-no-search-results\">\n                          {translate('no_results')}\n                        </div>\n                      )}\n                    </DropdownOverlay>\n                  </div>\n                )}\n              </div>\n            </div>\n            <footer className=\"modal-foot\">\n              <div>\n                <SubmitButton disabled={selectedProject === undefined}>\n                  {translate('add_verb')}\n                </SubmitButton>\n                <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n              </div>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BoxedGroupAccordion from 'sonar-ui-common/components/controls/BoxedGroupAccordion';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport NotificationsList from './NotificationsList';\n\ninterface Props {\n  addNotification: (n: T.Notification) => void;\n  channels: string[];\n  collapsed: boolean;\n  notifications: T.Notification[];\n  project: T.NotificationProject;\n  removeNotification: (n: T.Notification) => void;\n  types: string[];\n}\n\nexport default function ProjectNotifications(props: Props) {\n  const { collapsed, project, channels } = props;\n  const [isCollapsed, setCollapsed] = React.useState<boolean>(collapsed);\n\n  const getCheckboxId = (type: string, channel: string) => {\n    return `project-notification-${props.project.project}-${type}-${channel}`;\n  };\n\n  const handleAddNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.addNotification({ ...props.project, channel, type });\n  };\n\n  const handleRemoveNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.removeNotification({\n      ...props.project,\n      channel,\n      type\n    });\n  };\n\n  const toggleExpanded = () => setCollapsed(!isCollapsed);\n\n  return (\n    <BoxedGroupAccordion\n      onClick={toggleExpanded}\n      open={!isCollapsed}\n      title={<h4 className=\"display-inline-block\">{project.projectName}</h4>}>\n      <table className=\"data zebra notifications-table\" key={project.project}>\n        <thead>\n          <tr>\n            <th aria-label={translate('project')} />\n            {channels.map(channel => (\n              <th className=\"text-center\" key={channel}>\n                <h4>{translate('notification.channel', channel)}</h4>\n              </th>\n            ))}\n          </tr>\n        </thead>\n\n        <NotificationsList\n          channels={props.channels}\n          checkboxId={getCheckboxId}\n          notifications={props.notifications}\n          onAdd={handleAddNotification}\n          onRemove={handleRemoveNotification}\n          project={true}\n          types={props.types}\n        />\n      </table>\n    </BoxedGroupAccordion>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, sortBy, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport ProjectModal from './ProjectModal';\nimport ProjectNotifications from './ProjectNotifications';\n\nexport interface Props {\n  addNotification: (n: T.Notification) => void;\n  channels: string[];\n  notifications: T.Notification[];\n  removeNotification: (n: T.Notification) => void;\n  types: string[];\n}\n\nconst THRESHOLD_COLLAPSED = 3;\n\ninterface State {\n  addedProjects: T.NotificationProject[];\n  search: string;\n  showModal: boolean;\n}\n\nfunction isNotificationProject(project: {\n  project?: string;\n  projectName?: string;\n}): project is T.NotificationProject {\n  return project.project !== undefined && project.projectName !== undefined;\n}\n\nexport default class Projects extends React.PureComponent<Props, State> {\n  state: State = {\n    addedProjects: [],\n    search: '',\n    showModal: false\n  };\n\n  filterSearch = (project: T.NotificationProject, search: string) => {\n    return project.projectName && project.projectName.toLowerCase().includes(search);\n  };\n\n  handleAddProject = (project: T.NotificationProject) => {\n    this.setState(state => {\n      return {\n        addedProjects: [...state.addedProjects, project]\n      };\n    });\n  };\n\n  handleSearch = (search = '') => {\n    this.setState({ search: search.toLowerCase() });\n  };\n\n  handleSubmit = (selectedProject: T.NotificationProject) => {\n    if (selectedProject) {\n      this.handleAddProject(selectedProject);\n    }\n\n    this.closeModal();\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  openModal = () => {\n    this.setState({ showModal: true });\n  };\n\n  removeNotification = (removed: T.Notification, allProjects: T.NotificationProject[]) => {\n    const projectToRemove = allProjects.find(p => p.project === removed.project);\n    if (projectToRemove) {\n      this.handleAddProject(projectToRemove);\n    }\n\n    this.props.removeNotification(removed);\n  };\n\n  render() {\n    const { notifications } = this.props;\n    const { addedProjects, search } = this.state;\n\n    const projects = uniqBy(notifications, project => project.project).filter(\n      isNotificationProject\n    ) as T.NotificationProject[];\n    const notificationsByProject = groupBy(notifications, n => n.project);\n    const allProjects = uniqBy([...addedProjects, ...projects], project => project.project);\n    const filteredProjects = sortBy(allProjects, 'projectName').filter(p =>\n      this.filterSearch(p, search)\n    );\n    const shouldBeCollapsed = Object.keys(notificationsByProject).length > THRESHOLD_COLLAPSED;\n\n    return (\n      <section className=\"boxed-group\" data-test=\"account__project-notifications\">\n        <div className=\"boxed-group-inner\">\n          <div className=\"page-actions\">\n            <Button onClick={this.openModal}>\n              <span data-test=\"account__add-project-notification\">\n                {translate('my_profile.per_project_notifications.add')}\n              </span>\n            </Button>\n          </div>\n\n          <h2>{translate('my_profile.per_project_notifications.title')}</h2>\n        </div>\n\n        {this.state.showModal && (\n          <ProjectModal\n            addedProjects={allProjects}\n            closeModal={this.closeModal}\n            onSubmit={this.handleSubmit}\n          />\n        )}\n\n        <div className=\"boxed-group-inner\">\n          {allProjects.length === 0 && (\n            <div className=\"note\">{translate('my_account.no_project_notifications')}</div>\n          )}\n\n          {allProjects.length > 0 && (\n            <div className=\"big-spacer-bottom\">\n              <SearchBox\n                onChange={this.handleSearch}\n                placeholder={translate('search.search_for_projects')}\n              />\n            </div>\n          )}\n\n          {filteredProjects.map(project => {\n            const collapsed = addedProjects.find(p => p.project === project.project)\n              ? false\n              : shouldBeCollapsed;\n            return (\n              <ProjectNotifications\n                addNotification={this.props.addNotification}\n                channels={this.props.channels}\n                collapsed={collapsed}\n                key={project.project}\n                notifications={notificationsByProject[project.project] || []}\n                project={project}\n                removeNotification={n => this.removeNotification(n, allProjects)}\n                types={this.props.types}\n              />\n            );\n          })}\n        </div>\n      </section>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { partition } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  withNotifications,\n  WithNotificationsProps\n} from '../../../components/hoc/withNotifications';\nimport GlobalNotifications from './GlobalNotifications';\nimport Projects from './Projects';\n\nexport function Notifications(props: WithNotificationsProps) {\n  const {\n    addNotification,\n    channels,\n    globalTypes,\n    loading,\n    notifications,\n    perProjectTypes,\n    removeNotification\n  } = props;\n\n  const [globalNotifications, projectNotifications] = partition(notifications, n => !n.project);\n\n  return (\n    <div className=\"account-body account-container\">\n      <Helmet defer={false} title={translate('my_account.notifications')} />\n      <Alert variant=\"info\">{translate('notification.dispatcher.information')}</Alert>\n      <DeferredSpinner loading={loading}>\n        {notifications && (\n          <>\n            <GlobalNotifications\n              addNotification={addNotification}\n              channels={channels}\n              notifications={globalNotifications}\n              removeNotification={removeNotification}\n              types={globalTypes}\n            />\n            <Projects\n              addNotification={addNotification}\n              channels={channels}\n              notifications={projectNotifications}\n              removeNotification={removeNotification}\n              types={perProjectTypes}\n            />\n          </>\n        )}\n      </DeferredSpinner>\n    </div>\n  );\n}\n\nexport default withNotifications(Notifications);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName<P>(\n  WrappedComponent: React.ComponentType<P>,\n  hocName: string\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nrequire(\"./Checkbox.css\");\nvar Checkbox = (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(!_this.props.checked, _this.props.id);\n            }\n        };\n        return _this;\n    }\n    Checkbox.prototype.render = function () {\n        var _a = this.props, checked = _a.checked, children = _a.children, disabled = _a.disabled, id = _a.id, loading = _a.loading, right = _a.right, thirdState = _a.thirdState, title = _a.title;\n        var className = classNames('icon-checkbox', {\n            'icon-checkbox-checked': checked,\n            'icon-checkbox-single': thirdState,\n            'icon-checkbox-disabled': disabled\n        });\n        if (children) {\n            return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('link-checkbox', this.props.className, {\n                    note: disabled,\n                    disabled: disabled\n                }), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title },\n                right && children,\n                React.createElement(DeferredSpinner_1.default, { loading: Boolean(loading) },\n                    React.createElement(\"i\", { className: className })),\n                !right && children));\n        }\n        if (loading) {\n            return React.createElement(DeferredSpinner_1.default, null);\n        }\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames(className, this.props.className), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title }));\n    };\n    Checkbox.defaultProps = {\n        thirdState: false\n    };\n    return Checkbox;\n}(React.PureComponent));\nexports.default = Checkbox;\n//# sourceMappingURL=Checkbox.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#777;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, props = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, props)) : React.createElement(ChevronRightIcon_1.default, __assign({}, props));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar OpenCloseIcon_1 = require(\"../icons/OpenCloseIcon\");\nvar BoxedGroupAccordion = (function (_super) {\n    __extends(BoxedGroupAccordion, _super);\n    function BoxedGroupAccordion() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { hoveringInner: false };\n        _this.handleClick = function () {\n            _this.props.onClick(_this.props.data);\n        };\n        _this.onDetailEnter = function () {\n            _this.setState({ hoveringInner: true });\n        };\n        _this.onDetailLeave = function () {\n            _this.setState({ hoveringInner: false });\n        };\n        return _this;\n    }\n    BoxedGroupAccordion.prototype.render = function () {\n        var _a = this.props, className = _a.className, open = _a.open, renderHeader = _a.renderHeader, title = _a.title;\n        return (React.createElement(\"div\", { className: classNames('boxed-group boxed-group-accordion', className, {\n                'no-hover': this.state.hoveringInner\n            }) },\n            React.createElement(\"div\", { className: \"boxed-group-header\", onClick: this.handleClick, role: \"listitem\" },\n                React.createElement(\"span\", { className: \"boxed-group-accordion-title\" },\n                    React.createElement(OpenCloseIcon_1.default, { className: \"little-spacer-right\", open: open }),\n                    title),\n                renderHeader && renderHeader()),\n            open && (React.createElement(\"div\", { className: \"boxed-group-inner\", onMouseEnter: this.onDetailEnter, onMouseLeave: this.onDetailLeave }, this.props.children))));\n    };\n    return BoxedGroupAccordion;\n}(React.PureComponent));\nexports.default = BoxedGroupAccordion;\n//# sourceMappingURL=BoxedGroupAccordion.js.map"],"sourceRoot":""}