(window.webpackJsonp=window.webpackJsonp||[]).push([[334],{1800:function(e,t,n){var i=n(311),o=n(1801);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});e.exports=r},1801:function(e,t,n){(t=n(312)(!1)).push([e.i,".login-page{padding-top:10vh}.login-title{margin-bottom:40px;line-height:1.5;font-size:24px;font-weight:300;text-align:center}",""]),e.exports=t},1802:function(e,t,n){var i=n(311),o=n(1803);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});e.exports=r},1803:function(e,t,n){(t=n(312)(!1)).push([e.i,".login-form{width:300px;margin-left:auto;margin-right:auto}.login-input{width:100%!important;height:auto!important;padding:5px 12px!important;font-size:20px;font-weight:300}.login-label{display:none;margin-bottom:8px;font-size:15px}",""]),e.exports=t},1804:function(e,t,n){var i=n(311),o=n(1805);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});e.exports=r},1805:function(e,t,n){(t=n(312)(!1)).push([e.i,".oauth-providers>ul{width:200px;margin-left:auto;margin-right:auto}.oauth-providers>ul>li{position:relative;margin-bottom:30px}.oauth-providers-help{position:absolute;top:15px;right:-24px}.oauth-providers+.login-form{padding-top:30px;border-top:1px solid #e6e6e6}",""]),e.exports=t},1907:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginContainer",(function(){return E}));var i=n(2),o=n(317),a=n(336),r=n(435),l=n(423),s=n(5),d=n(867),c=(n(1800),n(310)),p=n(316),u=n.n(p);n(1802);class h extends i.PureComponent{constructor(e){super(e),this.stopLoading=()=>{this.setState({loading:!1})},this.handleSubmit=e=>{e.preventDefault(),this.setState({loading:!0}),this.props.onSubmit(this.state.login,this.state.password).then(this.stopLoading,this.stopLoading)},this.handleMoreOptionsClick=e=>{e.preventDefault(),this.setState({collapsed:!1})},this.handleLoginChange=e=>this.setState({login:e.currentTarget.value}),this.handlePwdChange=e=>this.setState({password:e.currentTarget.value}),this.state={collapsed:Boolean(e.collapsed),loading:!1,login:"",password:""}}render(){return this.state.collapsed?i.createElement("div",{className:"text-center"},i.createElement("a",{className:"small text-muted js-more-options",href:"#",onClick:this.handleMoreOptionsClick},Object(s.translate)("login.more_options"))):i.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},i.createElement("div",{className:"big-spacer-bottom"},i.createElement("label",{className:"login-label",htmlFor:"login"},Object(s.translate)("login")),i.createElement("input",{autoFocus:!0,className:"login-input",id:"login",maxLength:255,name:"login",onChange:this.handleLoginChange,placeholder:Object(s.translate)("login"),required:!0,type:"text",value:this.state.login})),i.createElement("div",{className:"big-spacer-bottom"},i.createElement("label",{className:"login-label",htmlFor:"password"},Object(s.translate)("password")),i.createElement("input",{className:"login-input",id:"password",name:"password",onChange:this.handlePwdChange,placeholder:Object(s.translate)("password"),required:!0,type:"password",value:this.state.password})),i.createElement("div",null,i.createElement("div",{className:"text-right overflow-hidden"},i.createElement(u.a,{className:"spacer-right",loading:this.state.loading}),i.createElement(c.SubmitButton,{disabled:this.state.loading},Object(s.translate)("sessions.log_in")),i.createElement("a",{className:"spacer-left",href:"".concat(Object(a.getBaseUrl)(),"/")},Object(s.translate)("cancel")))))}}var m=n(309),g=n(322),f=n.n(g),v=n(779),b=n.n(v);n(1804);function x(e){const t=e.formatLabel||w;return i.createElement("section",{className:m("oauth-providers",e.className)},i.createElement("ul",null,e.identityProviders.map(n=>i.createElement(y,{format:t,identityProvider:n,key:n.key,returnTo:e.returnTo}))))}function y({format:e,identityProvider:t,returnTo:n}){return i.createElement("li",null,i.createElement(b.a,{backgroundColor:t.backgroundColor,iconPath:t.iconPath,name:t.name,url:"".concat(Object(a.getBaseUrl)(),"/sessions/init/").concat(t.key)+"?return_to=".concat(encodeURIComponent(n))},i.createElement("span",null,e(t.name))),t.helpMessage&&i.createElement(f.a,{className:"oauth-providers-help",overlay:t.helpMessage}))}function w(e){return Object(s.translateWithParameters)("login.login_with_x",e)}function k({identityProviders:e,onSubmit:t,returnTo:n}){return i.createElement("div",{className:"login-page",id:"login_form"},i.createElement("h1",{className:"login-title text-center"},Object(s.translate)("login.login_to_sonarqube")),i.createElement(d.a,null),e.length>0&&i.createElement(x,{identityProviders:e,returnTo:n}),i.createElement(h,{collapsed:e.length>0,onSubmit:t,returnTo:n}))}class E extends i.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={},this.handleSuccessfulLogin=()=>{window.location.href=Object(a.getReturnUrl)(this.props.location)},this.handleSubmit=(e,t)=>this.props.doLogin(e,t).then(this.handleSuccessfulLogin,()=>{})}componentDidMount(){this.mounted=!0,Object(r.d)().then(({identityProviders:e})=>{this.mounted&&this.setState({identityProviders:e})},()=>{})}componentWillUnmount(){this.mounted=!1}render(){const{location:e}=this.props,{identityProviders:t}=this.state;return t?i.createElement(k,{identityProviders:t,onSubmit:this.handleSubmit,returnTo:Object(a.getReturnUrl)(e)}):null}}const N={doLogin:l.a};t.default=Object(o.connect)(null,N)(E)},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(309),o=n(2),a=n(370),r=n(335);n(338);var l=n(315);t.default=function(e){var t=e.tagName,n=void 0===t?"div":t;return o.createElement(n,{className:i("help-tooltip",e.className)},o.createElement(l.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},o.createElement("span",{className:"display-inline-flex-center"},e.children||o.createElement(r.ThemeConsumer,null,(function(e){return o.createElement(a.default,{fill:e.colors.gray71,size:12})})))))}},338:function(e,t,n){var i=n(311),o=n(339);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});e.exports=r},339:function(e,t,n){(t=n(312)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(309),o=n(2),a=n(607),r=n(336);n(780),t.default=function(e){var t=e.backgroundColor,n=e.children,l=e.className,s=e.iconPath,d=e.name,c=e.onClick,p=e.small,u=e.url,h=p?14:20;return o.createElement("a",{className:i("identity-provider-link",{"dark-text":!a.isDarkColor(t),small:p},l),href:u,onClick:c,style:{backgroundColor:t}},o.createElement("img",{alt:d,height:h,src:r.getBaseUrl()+s,width:h}),n)}},780:function(e,t,n){var i=n(311),o=n(781);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});e.exports=r},781:function(e,t,n){(t=n(312)(!1)).push([e.i,'a.identity-provider-link{display:block;width:auto;line-height:22px;padding:8px 12px;border:1px solid rgba(0,0,0,.15);border-radius:2px;box-sizing:border-box;background-color:#236a97;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}a.identity-provider-link.small{line-height:14px;padding:4px 8px}a.identity-provider-link:focus,a.identity-provider-link:hover{box-shadow:inset 0 0 0 100px hsla(0,0%,100%,.1)}a.identity-provider-link.dark-text{color:#777}a.identity-provider-link.dark-text:focus,a.identity-provider-link.dark-text:hover{box-shadow:inset 0 0 0 100px rgba(0,0,0,.1)}a.identity-provider-link>img{padding-right:12px}a.identity-provider-link.small>img{padding-right:8px}a.identity-provider-link>span:before{content:"";opacity:.4;border-left:1px solid #b4b4b4;margin-right:12px}',""]),e.exports=t}}]);
//# sourceMappingURL=334.m.a3355858.chunk.js.map