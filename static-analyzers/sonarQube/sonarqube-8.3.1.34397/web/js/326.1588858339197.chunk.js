(window.webpackJsonp=window.webpackJsonp||[]).push([[326],{1001:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c}));var r="almintegration",o="exclusions",a="languages",i="new_code_period",c="pull_request_decoration_binding"},1039:function(e,t,n){"use strict";var r=n(13),o=n(653),a=n(663),i=n(659),c=n(846),s=n.n(c),l=n(37),p=n(51),u=n(670);function d(){return Object(p.getJSON)("/api/billing/show_subscription_plans").then((function(e){return e.subscriptionPlans}),u.a)}var m=n(926),g=n(808),b=n.n(g),f=n(681);function h(){return r.createElement("ul",{className:"note"},r.createElement(y,null,Object(l.translate)("billing.upgrade_box.unlimited_private_projects")),r.createElement(y,null,Object(l.translate)("billing.upgrade_box.strict_control_private_data")),r.createElement(y,null,Object(l.translate)("billing.upgrade_box.cancel_anytime")),r.createElement(y,null,r.createElement("strong",null,Object(l.translateWithParameters)("billing.upgrade_box.free_trial_x",14))))}function y(e){var t=e.children;return r.createElement("li",{className:"display-flex-center little-spacer-bottom"},r.createElement(b.a,{className:"spacer-right",fill:f.colors.lightGreen}),t)}var j,_=n(676),v=n.n(_),O=n(665),k=n.n(O),E=n(727),S=n(747),P=(j=function(e,t){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}j(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){var e=window.SonarBilling.BillingForm;return r.createElement(e,w({},this.props))},t}(r.Component),z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=Object(E.a)(N),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={ready:!1},t}return z(t,e),t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,Object(S.a)("billing/billing").then((function(){e.mounted&&e.setState({ready:!0})}),(function(){}))},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this,t=Object(l.translate)("billing.upgrade_box.upgrade_to_paid_plan");return this.state.ready?r.createElement(v.a,{contentLabel:t,noBackdrop:this.props.insideModal,onRequestClose:this.props.onClose,shouldCloseOnOverlayClick:!1,size:"medium"},r.createElement("div",{className:"modal-head"},r.createElement("h2",null,t)),r.createElement(C,{onCommit:this.props.onUpgradeDone,organizationKey:this.props.organization.key,subscriptionPlans:this.props.subscriptionPlans},(function(t){var n=t.onSubmit,a=t.processingUpgrade,c=t.renderFormFields,s=t.renderNextCharge,p=t.renderRecap,u=t.renderSubmitButton;return r.createElement("form",{id:"organization-paid-plan-form",onSubmit:n},r.createElement("div",{className:"modal-body modal-container"},r.createElement("div",{className:"huge-spacer-bottom"},r.createElement("p",{className:"spacer-bottom"},r.createElement(o.FormattedMessage,{defaultMessage:Object(l.translate)("billing.upgrade.org_x_advantages"),id:"billing.coupon.description",values:{org:r.createElement("strong",null,e.props.organization.name)}})),r.createElement(h,null)),c(),r.createElement("div",{className:"big-spacer-top"},p())),r.createElement("footer",{className:"modal-foot display-flex-center display-flex-space-between"},s()||r.createElement("span",null),r.createElement("div",null,r.createElement(k.a,{loading:a}),u(),r.createElement(i.ResetButtonLink,{onClick:e.props.onClose},Object(l.translate)("cancel")))))}))):null},t}(r.PureComponent),R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={subscriptionPlans:[],upgradeOrganizationModal:!1},t.fetchSubscriptionPlans=function(){return d().then((function(e){t.mounted&&t.setState({subscriptionPlans:e})}))},t.handleUpgradeClick=function(){t.setState({upgradeOrganizationModal:!0})},t.handleUpgradeOrganizationModalClose=function(){t.mounted&&t.setState({upgradeOrganizationModal:!1})},t.handleOrganizationUpgrade=function(){t.props.onOrganizationUpgrade(),t.handleUpgradeOrganizationModalClose()},t}return R(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchSubscriptionPlans()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){if(!Object(l.hasMessage)("billing.upgrade_box.header"))return null;var e=this.state,t=e.subscriptionPlans,n=e.upgradeOrganizationModal,c=t[0]&&t[0].price;return r.createElement(r.Fragment,null,r.createElement(s.a,{className:this.props.className,title:Object(l.translate)("billing.upgrade_box.header"),titleInfo:void 0!==c&&r.createElement(o.FormattedMessage,{defaultMessage:Object(l.translate)("billing.price_from_x"),id:"billing.price_from_x",values:{price:r.createElement("span",{className:"big"},Object(m.e)(c))}})},r.createElement(r.Fragment,null,r.createElement(h,null),r.createElement("div",{className:"big-spacer-left"},r.createElement(i.Button,{className:"js-upgrade-organization",onClick:this.handleUpgradeClick},Object(l.translate)("billing.paid_plan.upgrade")),r.createElement(a.Link,{className:"spacer-left",target:"_blank",to:"/about/pricing"},Object(l.translate)("billing.pricing.learn_more"))))),n&&r.createElement(x,{insideModal:this.props.insideModal,onClose:this.handleUpgradeOrganizationModalClose,onUpgradeDone:this.handleOrganizationUpgrade,organization:this.props.organization,subscriptionPlans:t}))},t}(r.PureComponent);t.a=A},1132:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(51),o=n(670),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(){return Object(r.getJSON)("/api/alm_integration/show_app_info").catch(o.a)}function c(e){return Object(r.getJSON)("/api/alm_integration/list_repositories",e).catch(o.a)}function s(e){return Object(r.postJSON)("/api/alm_integration/provision_projects",a(a({},e),{installationKeys:e.installationKeys.join(",")})).catch(o.a)}},1434:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o=n(13),a=n(666),i=n(1153),c=n(668),s=n(689),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.componentDidMount=function(){this.props.fetchMyOrganizations()},n.prototype.render=function(){return o.createElement(e,p({},this.props))},n.displayName=Object(s.a)(e,"withUserOrganizations"),n}(o.Component),n={fetchMyOrganizations:i.b};return Object(a.connect)((function(e){return{userOrganizations:Object(c.getMyOrganizations)(e)}}),n)(t)}},1594:function(e,t,n){var r=n(660),o=n(2154);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(o,a),o.locals?o.locals:{});e.exports=i},2152:function(e,t,n){var r=n(660),o=n(2153);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(o,a),o.locals?o.locals:{});e.exports=i},2153:function(e,t,n){(t=n(661)(!1)).push([e.i,".manual-project-create{max-width:700px}.manual-project-create .button{margin-top:8px}",""]),e.exports=t},2154:function(e,t,n){(t=n(661)(!1)).push([e.i,"#create-project{padding-top:0!important}#create-project header{padding-top:20px}.white-page #create-project header{background-color:#fff;position:-webkit-sticky;position:sticky;top:48px;z-index:50}.create-project{display:flex!important;justify-content:space-between}.create-project-repository{display:flex;align-items:center;min-width:500px;height:40px;border:1px solid #e6e6e6;padding:8px 16px;margin-bottom:8px;box-sizing:border-box;cursor:pointer;transition:all .3s ease}.create-project-repository.disabled{background-color:#ebebeb;border-color:#ddd;cursor:default}.create-project-repository.imported{cursor:default}.create-project-repository.selected{background-color:#cae3f2;border-color:#236a97}.create-project-repository:not(.imported):not(.disabled):active,.create-project-repository:not(.imported):not(.disabled):focus,.create-project-repository:not(.imported):not(.disabled):hover{border-color:#4b9fd5;box-shadow:none}.create-project-side-with-search{margin-top:32px}.create-project-side-sticky{position:-webkit-sticky;position:sticky;top:68px}.create-project-setup{display:flex;overflow:hidden;opacity:0;flex-direction:column;height:0;width:450px;margin-bottom:0;color:#fff;background-color:#0b3c62;border:none;border-radius:3px;transition:height .5s ease,opacity .4s ease-out,margin-bottom .5s ease-in}.create-project-setup.open{opacity:1;height:160px;margin-bottom:20px}.create-project-setup h2{color:#fff;font-weight:700;font-size:16px}.create-project-setup .boxed-group-inner{display:flex;flex-direction:column;flex-grow:1}.create-project-setup .button{border-color:#4c9bd6;background-color:#4c9bd6;color:#fff;transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease}.create-project-setup .button:focus,.create-project-setup .button:hover{border-color:#327bb3;background-color:#327bb3}.create-project-actions{min-width:500px;display:flex;justify-content:space-between;align-items:center;padding:8px 0 8px 16px;border-left:1px solid transparent}.create-project-actions .icon-checkbox{margin-right:8px}.create-project-modes{margin:0 auto;max-width:500px}.create-project-import-bbs .open .boxed-group-header{border-bottom:1px solid #e6e6e6}.create-project-import-bbs .boxed-group-inner{padding-top:24px}.create-project-import-bbs-repo{width:250px;min-height:40px}",""]),e.exports=t},2231:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return lt}));var r=n(13),o=n(699),a=n(125),i=n(677),c=n(666),s=n(2149),l=n.n(s),p=n(665),u=n.n(p),d=n(37),m=n(761),g=n(1132),b=n(937),f=n(1434),h=n(762),y=n(669),j=n(866),_=n(1129),v=n.n(_),O=n(175),k=n(926),E=n(663),S=n(675),P=n.n(S),w=n(688),N=n.n(w),z=n(685);function C(e){var t=e.hideIcons,n=e.onChange,o=e.organization,a=e.organizations,i=function(e){return function(t){var n=t.alm?"sonarcloud/"+Object(h.g)(t.alm.key):"sonarcloud-square-logo",o="PAID"===t.subscription;return r.createElement("div",{className:"display-flex-space-between"},r.createElement("span",{className:"text-ellipsis flex-1"},!e&&r.createElement("img",{alt:t.alm?t.alm.key:"SonarCloud",className:"little-spacer-right",height:14,src:Object(z.getBaseUrl)()+"/images/"+n+".svg"}),t.name,r.createElement("span",{className:"note little-spacer-left"},t.key)),o&&r.createElement("div",{className:"badge"},Object(d.translate)("organization.paid_plan.badge")))}}(t);return r.createElement(N.a,{autoFocus:!o,className:"input-super-large",clearable:!1,id:"select-organization",labelKey:"name",onChange:n,optionRenderer:i,options:P()(a,(function(e){return e.name.toLowerCase()})),placeholder:Object(d.translate)("onboarding.import_organization.choose_organization"),required:!0,value:o,valueKey:"key",valueRenderer:i})}var x,R=(x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLinkClick=function(e){e.preventDefault(),e.stopPropagation(),Object(O.save)(k.d,Date.now().toString(10)),t.props.router.push({pathname:"/create-organization",state:{tab:t.props.autoImport?"auto":"manual"}})},t}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.autoImport,n=e.onChange,o=e.organization,a=e.organizations;return r.createElement("div",{className:"form-field spacer-bottom"},r.createElement("label",{htmlFor:"select-organization"},r.createElement("span",{className:"text-middle"},r.createElement("strong",null,Object(d.translate)("onboarding.create_project.organization")),r.createElement("em",{className:"mandatory"},"*"))),r.createElement(C,{hideIcons:!t,onChange:n,organization:o,organizations:a}),r.createElement("a",{className:"big-spacer-left js-new-org",href:"#",onClick:this.handleLinkClick},t?Object(d.translate)("onboarding.create_project.import_new_org"):Object(d.translate)("onboarding.create_project.create_new_org")))},t}(r.PureComponent),M=Object(E.withRouter)(A),U=n(810),B=n.n(U),K=n(658),F=n(692),L=n.n(F),D=n(704),T=n.n(D),I=n(674),W=n(758),q=n(852),V=n(1039),J=n(932),G=n.n(J),$=n(653),H=n(664),X=n.n(H),Z=n(808),Q=n.n(Z),Y=n(1140),ee=n.n(Y),te=n(681),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseEnter=function(){t.props.highlightUpgradeBox(!0)},t.handleMouseLeave=function(){t.props.highlightUpgradeBox(!1)},t.handleToggle=function(){t.props.disabled||t.props.repository.linkedProjectKey||t.props.toggleRepository(t.props.repository)},t}return ne(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.identityProvider,o=e.repository,a=e.selected,i=Boolean(o.linkedProjectKey);return r.createElement(X.a,{overlay:t?Object(d.translate)("onboarding.create_project.subscribe_to_import_private_repositories"):void 0},r.createElement("li",null,r.createElement("div",{className:K("create-project-repository",{disabled:t,imported:i,selected:a}),onClick:this.handleToggle,onMouseEnter:t?this.handleMouseEnter:void 0,onMouseLeave:t?this.handleMouseLeave:void 0,role:"listitem"},r.createElement("div",{className:"flex-1 display-flex-center"},t?r.createElement(ee.a,{fill:te.colors.disableGrayText}):r.createElement(L.a,{checked:a||i,disabled:t||i,onCheck:G.a}),r.createElement("img",{alt:n.name,className:K("spacer-left",{"icon-half-transparent":t}),height:14,src:Object(z.getBaseUrl)()+"/images/sonarcloud/"+n.key+".svg",width:14}),r.createElement("span",{className:"spacer-left"},this.props.repository.label),o.private&&r.createElement("div",{className:"badge spacer-left"},Object(d.translate)("visibility.private"))),o.linkedProjectKey&&r.createElement("span",null,r.createElement(Q.a,{className:"little-spacer-right",fill:te.colors.green}),r.createElement($.FormattedMessage,{defaultMessage:Object(d.translate)("onboarding.create_project.repository_imported"),id:"onboarding.create_project.repository_imported",values:{link:r.createElement(E.Link,{to:Object(y.t)(o.linkedProjectKey)},Object(d.translate)("onboarding.create_project.see_project"))}})))))},t}(r.PureComponent),oe=n(832),ae=n.n(oe),ie=n(659),ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={submitting:!1},t.canSubmit=function(){return!t.state.submitting&&t.props.selectedRepositories.length>0},t.handleFormSubmit=function(e){if(e.preventDefault(),t.canSubmit()){var n=t.props.selectedRepositories;t.setState({submitting:!0}),Object(g.c)({installationKeys:n.map((function(e){return e.installationKey})),organization:t.props.organization.key}).then((function(e){var n=e.projects;return t.props.onProjectCreate(n.map((function(e){return e.projectKey})),t.props.organization.key)}),t.handleProvisionFail)}},t.handleProvisionFail=function(){return t.props.onProvisionFail().then((function(){t.mounted&&t.setState({submitting:!1})}))},t}return ce(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.selectedRepositories,t=e.length>0,n=ae()(e,(function(e){return e.private})),o=n[0],a=void 0===o?[]:o,i=n[1],c=void 0===i?[]:i;return r.createElement("form",{className:K("create-project-setup boxed-group",{open:t}),onSubmit:this.handleFormSubmit},r.createElement("div",{className:"boxed-group-header"},r.createElement("h2",{className:"spacer-top"},e.length>1?Object(d.translateWithParameters)("onboarding.create_project.x_repositories_selected",e.length):Object(d.translate)("onboarding.create_project.1_repository_selected"))),r.createElement("div",{className:"boxed-group-inner"},r.createElement("div",{className:"flex-1"},1===c.length&&r.createElement("p",null,Object(d.translate)("onboarding.create_project.1_repository_created_as_public")),c.length>1&&r.createElement("p",null,Object(d.translateWithParameters)("onboarding.create_project.x_repository_created_as_public",c.length)),1===a.length&&r.createElement("p",null,Object(d.translate)("onboarding.create_project.1_repository_created_as_private")),a.length>1&&r.createElement("p",null,Object(d.translateWithParameters)("onboarding.create_project.x_repository_created_as_private",a.length))),r.createElement("div",null,r.createElement(ie.SubmitButton,{className:"button-large",disabled:this.state.submitting},Object(d.translate)("set_up")),r.createElement(u.a,{className:"spacer-left",loading:this.state.submitting}))))},t}(r.PureComponent),le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(){return(pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={checkAllRepositories:!1,highlight:!1,loading:!0,repositories:[],search:"",selectedRepositories:{},successfullyUpgraded:!1},t.fetchRepositories=function(){var e=t.props.organization;return Object(g.b)({organization:e.key}).then((function(e){var n=e.repositories;t.mounted&&t.setState({loading:!1,repositories:n})}),(function(){t.mounted&&t.setState({loading:!1})}))},t.filterBySearch=function(e){return function(t){return t.label.toLowerCase().includes(e.toLowerCase())}},t.handleHighlightUpgradeBox=function(e){t.setState({highlight:e})},t.handleOrganizationUpgrade=function(){t.props.onOrganizationUpgrade(),t.mounted&&t.setState({successfullyUpgraded:!0})},t.handleProvisionFail=function(){return t.fetchRepositories().then((function(){t.mounted&&t.setState((function(e){var t=e.repositories,n=e.selectedRepositories,r={};return Object.keys(n).forEach((function(e){var n=t.find((function(t){return t.installationKey===e}));n&&!n.linkedProjectKey&&(r[n.installationKey]=n)})),{selectedRepositories:r}}))}))},t.handleSearch=function(e){t.setState({search:e,checkAllRepositories:!1,selectedRepositories:{}})},t.onCheckAllRepositories=function(){t.setState((function(e){var n=e.checkAllRepositories,r=e.repositories,o=e.search,a=t.props.organization,i=Object(q.c)(a),c={selectedRepositories:{},checkAllRepositories:!n};if(c.checkAllRepositories){var s=r.filter((function(e){return t.filterBySearch(o)(e)&&function(e){return!!i||!e.private}(e)&&function(e){return!e.linkedProjectKey}(e)}));c.selectedRepositories=B()(s,"installationKey")}return c}))},t.toggleRepository=function(e){t.setState((function(t){var n,r=t.selectedRepositories;return{selectedRepositories:pe(pe({},r),(n={},n[e.installationKey]=r[e.installationKey]?void 0:e,n))}}))},t}return le(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchRepositories()},t.prototype.componentDidUpdate=function(e){e.organization.key!==this.props.organization.key&&(this.setState({loading:!0,selectedRepositories:{}}),this.fetchRepositories())},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this,t=this.state,n=t.highlight,o=t.loading,a=t.repositories,i=t.search,c=t.selectedRepositories,s=this.props,l=s.almApplication,p=s.organization,m=Object(q.c)(p),g=a.some((function(e){return Boolean(e.private)})),b=a.length>5,f=a.length>1,h=!m&&g&&p.actions&&p.actions.admin,y=a.filter(this.filterBySearch(i));return r.createElement("div",{className:"create-project"},r.createElement("div",{className:"flex-1 huge-spacer-right"},r.createElement("div",{className:"spacer-bottom create-project-actions"},r.createElement("div",null,f&&r.createElement(L.a,{checked:this.state.checkAllRepositories,disabled:0===y.length,onCheck:this.onCheckAllRepositories},Object(d.translate)("onboarding.create_project.select_all_repositories"))),b&&r.createElement(T.a,{minLength:1,onChange:this.handleSearch,placeholder:Object(d.translate)("search.search_for_repositories"),value:this.state.search})),this.state.successfullyUpgraded&&r.createElement(I.Alert,{variant:"success"},Object(d.translateWithParameters)("onboarding.create_project.subscribtion_success_x",p.name)),r.createElement(u.a,{loading:o},r.createElement("ul",null,0===y.length&&r.createElement("li",{className:"big-spacer-top note"},h?Object(d.translateWithParameters)("no_results_for_x",i):Object(d.translate)("onboarding.create_project.no_repositories")),y.map((function(t){return r.createElement(re,{disabled:Boolean(t.private&&!m),highlightUpgradeBox:e.handleHighlightUpgradeBox,identityProvider:l,key:t.installationKey,repository:t,selected:Boolean(c[t.installationKey]),toggleRepository:e.toggleRepository})}))))),p&&r.createElement("div",{className:K({"create-project-side-with-search":b})},r.createElement("div",{className:"create-project-side-sticky"},r.createElement(se,{onProjectCreate:this.props.onProjectCreate,onProvisionFail:this.handleProvisionFail,organization:p,selectedRepositories:Object.keys(c).map((function(e){return c[e]})).filter(W.isDefined)}),h&&r.createElement(V.a,{className:K({highlight:n}),onOrganizationUpgrade:this.handleOrganizationUpgrade,organization:p}))))},t}(r.PureComponent),de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleInstallAppClick=function(){Object(O.save)(k.c,Date.now().toString(10)),Object(O.save)(k.d,Date.now().toString(10))},n.handleOrganizationSelect=function(e){var t=e.key;n.setState({selectedOrganization:t})},n.state={selectedOrganization:n.getInitialSelectedOrganization(t)},n}return de(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getInitialSelectedOrganization=function(e){return e.organization?e.organization:1===e.boundOrganizations.length?e.boundOrganizations[0].key:""},t.prototype.render=function(){var e=this.props,t=e.almApplication,n=e.boundOrganizations,o=e.onProjectCreate;if(0===n.length)return r.createElement(r.Fragment,null,r.createElement("p",{className:"spacer-bottom"},Object(d.translate)("onboarding.create_project.install_app_description",t.key)),r.createElement(v.a,{backgroundColor:t.backgroundColor,className:"display-inline-block",iconPath:t.iconPath,name:t.name,onClick:this.handleInstallAppClick,small:!0,url:t.installationUrl},Object(d.translate)("onboarding.import_organization.choose_organization_button",t.key)));var a=this.state.selectedOrganization,i=n.find((function(e){return e.key===a}));return r.createElement(r.Fragment,null,r.createElement(M,{autoImport:!0,onChange:this.handleOrganizationSelect,organization:a,organizations:this.props.boundOrganizations}),i&&r.createElement(ue,{almApplication:t,onOrganizationUpgrade:this.props.onOrganizationUpgrade,onProjectCreate:o,organization:i}))},t}(r.PureComponent),ge=n(718),be=n.n(ge),fe=n(1036),he=n.n(fe),ye=n(708);function je(e){var t=e.additionalActions,n=e.showBreadcrumb,o=e.title;return r.createElement("header",{className:"huge-spacer-bottom bordered-bottom overflow-hidden"},r.createElement("h1",{className:"pull-left huge big-spacer-bottom"},n&&r.createElement(r.Fragment,null,r.createElement(E.Link,{to:"/projects/create"},Object(d.translate)("my_account.create_new.TRK")),r.createElement("span",{className:"big-spacer-left big-spacer-right slash-separator"})),o),t)}n(2152);var _e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.checkFreeKey=function(e){return Object(ye.f)({component:e}).then((function(t){n.mounted&&e===n.state.projectKey&&(t?n.setState({projectKeyError:Object(d.translate)("onboarding.create_project.project_key.taken"),touched:!0,validating:!1}):n.setState({projectKeyError:void 0,validating:!1}))})).catch((function(){n.mounted&&e===n.state.projectKey&&n.setState({projectKeyError:void 0,validating:!1})}))},n.canChoosePrivate=function(e){return Boolean(e&&"PAID"===e.subscription)},n.getInitialSelectedOrganization=function(e){return e.organization?n.getOrganization(e.organization):e.userOrganizations&&1===e.userOrganizations.length?e.userOrganizations[0]:void 0},n.getOrganization=function(e){return n.props.userOrganizations&&n.props.userOrganizations.find((function(t){return t.key===e}))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state;n.canSubmit(t)&&(n.setState({submitting:!0}),Object(ye.c)({project:t.projectKey,name:(t.projectName||t.projectKey).trim(),organization:t.selectedOrganization&&t.selectedOrganization.key,visibility:n.state.selectedVisibility}).then((function(e){var t=e.project;return n.props.onProjectCreate([t.key])}),(function(){n.mounted&&n.setState({submitting:!1})})))},n.handleOrganizationSelect=function(e){var t=e.key,r=n.getOrganization(t),o=n.state.selectedVisibility;void 0===o&&(o=n.canChoosePrivate(r)?"private":"public"),n.setState({selectedOrganization:r,selectedVisibility:o})},n.handleOrganizationUpgrade=function(){n.props.fetchMyOrganizations().then((function(){n.setState((function(e){return e.selectedOrganization?{selectedOrganization:n.getOrganization(e.selectedOrganization.key)}:null}))}),(function(){}))},n.handleProjectKeyChange=function(e){var t=e.currentTarget.value||"",r=n.validateKey(t);n.setState((function(e){var o=e.projectNameChanged?e.projectName:t;return{projectKey:t,projectKeyError:r,projectName:o,projectNameError:n.validateName(o),touched:!0,validating:void 0===r}})),void 0===r&&n.checkFreeKey(t)},n.handleProjectNameChange=function(e){var t=e.currentTarget.value;n.setState({projectName:t,projectNameChanged:!0,projectNameError:n.validateName(t)})},n.handleVisibilityChange=function(e){n.setState({selectedVisibility:e})},n.validateKey=function(e){return e.length>400||!/^[\w-.:]*[a-zA-Z]+[\w-.:]*$/.test(e)?Object(d.translate)("onboarding.create_project.project_key.error"):void 0},n.validateName=function(e){return 0===e.length||e.length>255?Object(d.translate)("onboarding.create_project.display_name.error"):void 0},n.state={projectKey:"",projectName:"",projectNameChanged:!1,selectedOrganization:n.getInitialSelectedOrganization(t),submitting:!1,touched:!1,validating:!1},n.checkFreeKey=be()(n.checkFreeKey,250),n}return _e(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.canSubmit=function(e){var t=e.projectKey,n=e.projectKeyError,r=e.projectName,o=e.projectNameError,i=e.selectedOrganization;return Boolean(void 0===n&&void 0===o&&t.length>0&&r.length>0&&(!Object(a.isSonarCloud)()||i))},t.prototype.render=function(){var e=this.state,t=e.projectKey,n=e.projectKeyError,o=e.projectName,i=e.projectNameError,c=e.selectedOrganization,s=e.submitting,l=e.touched,p=e.validating,m=this.props.branchesEnabled,g=l&&void 0!==n,b=l&&!p&&void 0===n,f=l&&void 0!==i,h=l&&void 0===i,y=this.canChoosePrivate(c);return r.createElement(r.Fragment,null,r.createElement(je,{showBreadcrumb:m,title:Object(d.translate)("onboarding.create_project.setup_manually")}),r.createElement("div",{className:"create-project"},r.createElement("div",{className:"flex-1 huge-spacer-right"},r.createElement("form",{className:"manual-project-create",onSubmit:this.handleFormSubmit},Object(a.isSonarCloud)()&&this.props.userOrganizations&&r.createElement(M,{onChange:this.handleOrganizationSelect,organization:c?c.key:"",organizations:this.props.userOrganizations}),r.createElement(he.a,{className:"form-field",description:Object(d.translate)("onboarding.create_project.project_key.description"),error:n,help:Object(d.translate)("onboarding.create_project.project_key.help"),id:"project-key",isInvalid:g,isValid:b,label:Object(d.translate)("onboarding.create_project.project_key"),required:!0},r.createElement("input",{autoFocus:!0,className:K("input-super-large",{"is-invalid":g,"is-valid":b}),id:"project-key",maxLength:400,minLength:1,onChange:this.handleProjectKeyChange,type:"text",value:t})),r.createElement(he.a,{className:"form-field",description:Object(d.translate)("onboarding.create_project.display_name.description"),error:i,help:Object(d.translate)("onboarding.create_project.display_name.help"),id:"project-name",isInvalid:f,isValid:h,label:Object(d.translate)("onboarding.create_project.display_name"),required:!0},r.createElement("input",{className:K("input-super-large",{"is-invalid":f,"is-valid":h}),id:"project-name",maxLength:255,minLength:1,onChange:this.handleProjectNameChange,type:"text",value:o})),r.createElement(ie.SubmitButton,{disabled:!this.canSubmit(this.state)||s},Object(d.translate)("set_up")),r.createElement(u.a,{className:"spacer-left",loading:s}))),Object(a.isSonarCloud)()&&c&&r.createElement("div",{className:"create-project-side-sticky"},r.createElement(V.a,{className:K("animated",{open:!y}),onOrganizationUpgrade:this.handleOrganizationUpgrade,organization:c}))))},t}(r.PureComponent),Oe=(n(1594),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ke=function(){return(ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.handleProjectCreate=function(e,n){t.props.skipOnboarding(),e.length>1?t.props.router.push({pathname:(n?Object(y.q)(n):"")+"/projects"}):1===e.length&&t.props.router.push(Object(y.t)(e[0]))},t.fetchAlmApplication=function(){return Object(g.a)().then((function(e){var n=e.application;t.mounted&&t.setState({almApplication:n,loading:!1})}),(function(){t.mounted&&t.setState({loading:!1})}))},t.onTabChange=function(e){t.updateUrl({tab:e})},t.updateUrl=function(e){void 0===e&&(e={}),t.props.router.replace({pathname:t.props.location.pathname,query:t.props.location.query,state:ke(ke({},t.props.location.state||{}),e)})},t}return Oe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,Object(h.c)(this.props.currentUser)?this.fetchAlmApplication():this.setState({loading:!1}),Object(m.addWhitePageClass)()},t.prototype.componentWillUnmount=function(){this.mounted=!1,Object(m.removeWhitePageClass)()},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.location,o=e.userOrganizations,a=this.state,c=a.almApplication,s=a.loading,p=n.state||{},m=Object(d.translate)("onboarding.create_project.header"),g="manual"===p.tab;return r.createElement(r.Fragment,null,r.createElement(i.a,{title:m,titleTemplate:"%s"}),r.createElement("div",{className:"page page-limited huge-spacer-top huge-spacer-bottom"},r.createElement("header",{className:"page-header huge-spacer-bottom"},r.createElement("h1",{className:"page-title huge"},r.createElement("strong",null,m))),s?r.createElement(u.a,null):r.createElement(r.Fragment,null,c&&r.createElement(l.a,{onChange:this.onTabChange,selected:p.tab||"auto",tabs:[{key:"auto",node:Object(d.translate)("onboarding.create_project.select_repositories")},{key:"manual",node:Object(d.translate)("onboarding.create_project.setup_manually")}]}),g||!c?r.createElement(ve,{currentUser:t,fetchMyOrganizations:this.props.fetchMyOrganizations,onProjectCreate:this.handleProjectCreate,organization:p.organization,userOrganizations:o.filter((function(e){var t=e.actions;return(void 0===t?{}:t).provision}))}):r.createElement(me,{almApplication:c,boundOrganizations:o.filter((function(e){var t=e.alm,n=e.actions;return t&&(void 0===n?{}:n).provision})),onOrganizationUpgrade:this.props.fetchMyOrganizations,onProjectCreate:this.handleProjectCreate,organization:p.organization}))))},t}(r.PureComponent),Se={skipOnboarding:j.g},Pe=Object(b.a)(Object(f.a)(Object(c.connect)(null,Se)(Ee))),we=n(949),Ne=n(774),ze=n(895),Ce=n(51),xe=n(670);var Re,Ae=n(668),Me=n(1001),Ue=n(712),Be=n.n(Ue),Ke=n(770),Fe=n.n(Ke),Le=n(978),De=n.n(Le),Te=n(785),Ie=n.n(Te);function We(e){var t=e.disableRepositories,n=e.open,o=e.project,a=e.repositories,i=e.selectedRepository,c=e.showingAllRepositories,s=a.length;return r.createElement(De.a,{className:K("big-spacer-bottom",{open:n,"not-clickable":!e.onClick,"no-hover":!e.onClick}),key:o.key,onClick:e.onClick?e.onClick:function(){},open:n,title:r.createElement("h3",null,o.name)},n&&r.createElement("div",{className:"display-flex-wrap"},0===s&&r.createElement(I.Alert,{variant:"warning"},r.createElement($.FormattedMessage,{defaultMessage:Object(d.translate)("onboarding.create_project.no_bbs_repos"),id:"onboarding.create_project.no_bbs_repos",values:{link:r.createElement(E.Link,{to:{pathname:"/projects/create",query:{mode:Re.BitbucketServer,resetPat:1}}},Object(d.translate)("onboarding.create_project.update_your_token"))}})),a.map((function(n){return n.sqProjectKey?r.createElement("div",{className:"display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo",key:n.id},r.createElement(Q.a,{className:"spacer-right",fill:te.colors.green,size:14}),r.createElement("div",{className:"overflow-hidden"},r.createElement("div",{className:"little-spacer-bottom text-ellipsis"},r.createElement("strong",{title:n.name},r.createElement(E.Link,{to:Object(y.t)(n.sqProjectKey)},n.name))),r.createElement("em",null,Object(d.translate)("onboarding.create_project.repository_imported")))):r.createElement(Ie.a,{checked:(null==i?void 0:i.id)===n.id,className:K("display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo overflow-hidden",{disabled:t,"text-muted":t,"link-no-underline":t}),key:n.id,onCheck:function(){return e.onSelectRepository(n)},value:String(n.id)},r.createElement("strong",{className:"text-ellipsis",title:n.name},n.name))})),!c&&s>0&&r.createElement(I.Alert,{variant:"warning"},Object(d.translateWithParameters)("onboarding.create_project.only_showing_X_first_repos",s))))}!function(e){e.Manual="manual",e.BitbucketServer="bbs"}(Re||(Re={}));var qe=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)r[o]=a[i];return r};function Ve(e){var t=e.disableRepositories,n=e.projects,o=e.projectRepositories,a=e.selectedRepository,i=r.useState(n.length>0?[n[0].key]:[]),c=i[0],s=i[1],l=n.length<=c.length;return r.createElement(r.Fragment,null,r.createElement("div",{className:"overflow-hidden spacer-bottom"},r.createElement(ie.ButtonLink,{className:"pull-right",onClick:function(){return s(l?[]:n.map((function(e){return e.key})))}},l?Object(d.translate)("collapse_all"):Object(d.translate)("expand_all"))),n.map((function(n){var i=c.includes(n.key),l=o[n.key]||{},p=l.allShown,u=l.repositories,d=void 0===u?[]:u;return r.createElement(We,{disableRepositories:t,key:n.key,onClick:function(){return function(e,t){s(e?Be()(c,t):Fe()(qe(c,[t])))}(i,n.key)},onSelectRepository:e.onSelectRepository,open:i,project:n,repositories:d,selectedRepository:a,showingAllRepositories:p})})))}function Je(e){var t=e.disableRepositories,n=e.projects,o=e.searching,a=e.searchResults,i=void 0===a?[]:a,c=e.selectedRepository,s=Fe()(i.map((function(e){return n.find((function(t){return t.key===e.projectKey}))})).filter(W.isDefined));return 0!==s.length||o?r.createElement("div",{className:"big-spacer-top"},r.createElement(u.a,{loading:o},s.map((function(n){var o=i.filter((function(e){return e.projectKey===n.key}));return r.createElement(We,{disableRepositories:t,key:n.key,onSelectRepository:e.onSelectRepository,open:!0,project:n,repositories:o,selectedRepository:c,showingAllRepositories:!0})})))):r.createElement(I.Alert,{className:"big-spacer-top",variant:"warning"},Object(d.translate)("onboarding.create_project.no_bbs_repos.filter"))}function Ge(e){var t=e.disableRepositories,n=e.projects,o=void 0===n?[]:n,a=e.projectRepositories,i=void 0===a?{}:a,c=e.searchResults,s=e.searching,l=e.selectedRepository;return 0===o.length?r.createElement(I.Alert,{className:"spacer-top",variant:"warning"},r.createElement($.FormattedMessage,{defaultMessage:Object(d.translate)("onboarding.create_project.no_bbs_projects"),id:"onboarding.create_project.no_bbs_projects",values:{link:r.createElement(E.Link,{to:{pathname:"/projects/create",query:{mode:Re.BitbucketServer,resetPat:1}}},Object(d.translate)("onboarding.create_project.update_your_token"))}})):r.createElement("div",{className:"create-project-import-bbs"},r.createElement(T.a,{onChange:e.onSearch,placeholder:Object(d.translate)("onboarding.create_project.search_repositories_by_name")}),s||c?r.createElement(Je,{disableRepositories:t,onSelectRepository:e.onSelectRepository,projects:o,searchResults:c,searching:s,selectedRepository:l}):r.createElement(Ve,{disableRepositories:t,onSelectRepository:e.onSelectRepository,projectRepositories:i,projects:o,selectedRepository:l}))}function $e(e){var t=e.bitbucketSetting.url,n=e.submitting,o=void 0!==n&&n,a=e.validationFailed,i=r.useState(!1),c=i[0],s=i[1];r.useEffect((function(){s(!1)}),[o]);var l=a&&!c;return r.createElement("div",{className:"display-flex-start"},r.createElement("form",{onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget).get("personal_access_token");e.onPersonalAccessTokenCreate(n)}},r.createElement("h2",{className:"big"},Object(d.translate)("onboarding.create_project.grant_access_to_bbs.title")),r.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(d.translate)("onboarding.create_project.grant_access_to_bbs.help")),r.createElement(he.a,{error:l?Object(d.translate)("onboarding.create_project.pat_incorrect"):void 0,id:"personal_access_token",isInvalid:l,isValid:!1,label:Object(d.translate)("onboarding.create_project.enter_pat"),required:!0},r.createElement("input",{autoFocus:!0,className:K("input-super-large",{"is-invalid":l}),id:"personal_access_token",minLength:1,name:"personal_access_token",onChange:function(){s(!0)},type:"text"})),r.createElement(ie.SubmitButton,{disabled:l||o||!c},Object(d.translate)("save")),r.createElement(u.a,{className:"spacer-left",loading:o})),r.createElement(I.Alert,{className:"big-spacer-left big-spacer-top",display:"block",variant:"info"},r.createElement("h3",null,Object(d.translate)("onboarding.create_project.pat_help.title")),r.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(d.translate)("onboarding.create_project.pat_help.bbs_help_1")),t&&r.createElement("div",{className:"text-middle"},r.createElement("img",{alt:"",className:"spacer-right",height:"16",src:Object(z.getBaseUrl)()+"/images/alm/bitbucket.svg"}),r.createElement("a",{href:t.replace(/\/$/,"")+"/plugins/servlet/access-tokens/add",rel:"noopener noreferrer",target:"_blank"},Object(d.translate)("onboarding.create_project.pat_help.link"))),r.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(d.translate)("onboarding.create_project.pat_help.bbs_help_2")),r.createElement("ul",null,r.createElement("li",null,r.createElement($.FormattedMessage,{defaultMessage:Object(d.translate)("onboarding.create_project.pat_help.bbs_permission_projects"),id:"onboarding.create_project.pat_help.bbs_permission_projects",values:{perm:r.createElement("strong",null,Object(d.translate)("onboarding.create_project.pat_help.read_permission"))}})),r.createElement("li",null,r.createElement($.FormattedMessage,{defaultMessage:Object(d.translate)("onboarding.create_project.pat_help.bbs_permission_repos"),id:"onboarding.create_project.pat_help.bbs_permission_repos",values:{perm:r.createElement("strong",null,Object(d.translate)("onboarding.create_project.pat_help.read_permission"))}})))))}function He(e){var t=e.bitbucketSetting,n=e.canAdmin,o=e.importing,a=e.loading,i=e.projects,c=e.projectRepositories,s=e.selectedRepository,l=e.searching,p=e.searchResults,m=e.showPersonalAccessTokenForm,g=e.submittingToken,b=e.tokenValidationFailed;return r.createElement(r.Fragment,null,r.createElement(je,{additionalActions:!m&&r.createElement("div",{className:"display-flex-center pull-right"},r.createElement(u.a,{className:"spacer-right",loading:o}),r.createElement(ie.Button,{className:"button-large button-primary",disabled:!s||o,onClick:e.onImportRepository},Object(d.translate)("onboarding.create_project.import_selected_repo"))),showBreadcrumb:!0,title:r.createElement("span",{className:"text-middle"},r.createElement("img",{alt:"",className:"spacer-right",height:"24",src:Object(z.getBaseUrl)()+"/images/alm/bitbucket.svg"}),Object(d.translate)("onboarding.create_project.from_bbs"))}),a&&r.createElement("i",{className:"spinner"}),!a&&!t&&r.createElement(I.Alert,{variant:"error"},n?r.createElement($.FormattedMessage,{defaultMessage:Object(d.translate)("onboarding.create_project.no_bbs_binding.admin"),id:"onboarding.create_project.no_bbs_binding.admin",values:{url:r.createElement(E.Link,{to:{pathname:"/admin/settings",query:{category:Me.a}}},Object(d.translate)("settings.page"))}}):Object(d.translate)("onboarding.create_project.no_bbs_binding")),!a&&t&&(m?r.createElement($e,{bitbucketSetting:t,onPersonalAccessTokenCreate:e.onPersonalAccessTokenCreate,submitting:g,validationFailed:b}):r.createElement(Ge,{disableRepositories:o,onSearch:e.onSearch,onSelectRepository:e.onSelectRepository,projectRepositories:c,projects:i,searchResults:p,searching:l,selectedRepository:s})))}var Xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qe=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},Ye=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},et=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.fetchInitialData=function(){return Qe(n,void 0,void 0,(function(){var e,t,n;return Ye(this,(function(r){switch(r.label){case 0:return this.setState({loading:!0}),[4,this.checkPersonalAccessToken().catch((function(){return!1}))];case 1:return(e=r.sent())?[4,this.fetchBitbucketProjects().catch((function(){}))]:[3,3];case 2:t=r.sent(),r.label=3;case 3:return t&&t.length>0?[4,this.fetchBitbucketRepositories(t).catch((function(){}))]:[3,5];case 4:n=r.sent(),r.label=5;case 5:return this.mounted&&this.setState({patIsValid:e,projects:t,projectRepositories:n,loading:!1}),[2]}}))}))},n.checkPersonalAccessToken=function(){var e,t=n.state.bitbucketSetting;return t?(e=t.key,Object(Ce.get)("/api/alm_integrations/check_pat",{almSetting:e}).then((function(){return!0})).catch((function(e){return 400!==e.status&&Object(xe.a)(e)}))):Promise.resolve(!1)},n.fetchBitbucketProjects=function(){var e,t=n.state.bitbucketSetting;return t?(e=t.key,Object(Ce.getJSON)("/api/alm_integrations/list_bitbucketserver_projects",{almSetting:e})).then((function(e){return e.projects})):Promise.resolve(void 0)},n.fetchBitbucketRepositories=function(e){var t=n.state.bitbucketSetting;return t?Promise.all(e.map((function(e){return(n=t.key,r=e.name,Object(Ce.getJSON)("/api/alm_integrations/search_bitbucketserver_repos",{almSetting:n,projectName:r})).then((function(t){return{isLastPage:t.isLastPage,repositories:t.repositories,projectKey:e.key}}));var n,r}))).then((function(e){return e.reduce((function(e,t){var n,r=t.isLastPage,o=t.projectKey,a=t.repositories;return Ze(Ze({},e),((n={})[o]={allShown:r,repositories:a},n))}),{})})):Promise.resolve(void 0)},n.handlePersonalAccessTokenCreate=function(e){var t,r,o=n.state.bitbucketSetting;!o||e.length<1||(n.setState({submittingToken:!0,tokenValidationFailed:!1}),(t=o.key,r=e,Object(Ce.post)("/api/alm_integrations/set_pat",{almSetting:t,pat:r}).catch(xe.a)).then(n.checkPersonalAccessToken).then((function(e){n.mounted&&(n.setState({submittingToken:!1,patIsValid:e,tokenValidationFailed:!e}),e&&n.fetchInitialData())})).catch((function(){n.mounted&&n.setState({submittingToken:!1})})))},n.handleImportRepository=function(){var e,t,r,o=n.state,a=o.bitbucketSetting,i=o.selectedRepository;a&&i&&(n.setState({importing:!0}),(e=a.key,t=i.projectKey,r=i.slug,Object(Ce.postJSON)("/api/alm_integrations/import_bitbucketserver_project",{almSetting:e,projectKey:t,repositorySlug:r}).catch(xe.a)).then((function(e){var t=e.project.key;n.mounted&&(n.setState({importing:!1}),n.props.onProjectCreate([t]))})).catch((function(){n.mounted&&n.setState({importing:!1})})))},n.handleSearch=function(e){var t,r,o=n.state.bitbucketSetting;o&&(e?(n.setState({searching:!0,selectedRepository:void 0}),(t=o.key,r=e,Object(Ce.getJSON)("/api/alm_integrations/search_bitbucketserver_repos",{almSetting:t,repositoryName:r})).then((function(e){var t=e.repositories;n.mounted&&n.setState({searching:!1,searchResults:t})})).catch((function(){n.mounted&&n.setState({searching:!1})}))):n.setState({searching:!1,searchResults:void 0,selectedRepository:void 0}))},n.handleSelectRepository=function(e){n.setState({selectedRepository:e})},n.state={bitbucketSetting:t.bitbucketSettings[0],importing:!1,loading:!1,searching:!1,tokenValidationFailed:!1},n}return Xe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchInitialData()},t.prototype.componentDidUpdate=function(e){var t=this;0===e.bitbucketSettings.length&&this.props.bitbucketSettings.length>0&&this.setState({bitbucketSetting:this.props.bitbucketSettings[0]},(function(){return t.fetchInitialData()}))},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.canAdmin,n=e.loadingBindings,o=e.location,a=this.state,i=a.bitbucketSetting,c=a.importing,s=a.loading,l=a.patIsValid,p=a.projectRepositories,u=a.projects,d=a.searching,m=a.searchResults,g=a.selectedRepository,b=a.submittingToken,f=a.tokenValidationFailed;return r.createElement(He,{bitbucketSetting:i,canAdmin:t,importing:c,loading:s||n,onImportRepository:this.handleImportRepository,onPersonalAccessTokenCreate:this.handlePersonalAccessTokenCreate,onProjectCreate:this.props.onProjectCreate,onSearch:this.handleSearch,onSelectRepository:this.handleSelectRepository,projectRepositories:p,projects:u,searchResults:m,searching:d,selectedRepository:g,showPersonalAccessTokenForm:!l||Boolean(o.query.resetPat),submittingToken:b,tokenValidationFailed:f})},t}(r.PureComponent),tt=Object(c.connect)((function(e){return{canAdmin:Object(Ae.getAppState)(e).canAdmin}}))(et),nt=n(671),rt=n.n(nt);function ot(e){var t=e.bbsBindingCount,n=e.loadingBindings;return r.createElement(r.Fragment,null,r.createElement("header",{className:"huge-spacer-top big-spacer-bottom padded"},r.createElement("h1",{className:"text-center huge big-spacer-bottom"},Object(d.translate)("my_account.create_new.TRK")),r.createElement("p",{className:"text-center big"},Object(d.translate)("onboarding.create_project.select_method"))),r.createElement("div",{className:"create-project-modes huge-spacer-top display-flex-space-around"},r.createElement("button",{className:"button button-huge display-flex-column create-project-mode-type-manual",onClick:function(){return e.onSelectMode(Re.Manual)},type:"button"},r.createElement("img",{alt:"",height:80,src:Object(z.getBaseUrl)()+"/images/sonarcloud/analysis/manual.svg"}),r.createElement("div",{className:"medium big-spacer-top"},Object(d.translate)("onboarding.create_project.select_method.manual"))),r.createElement("button",{className:"button button-huge big-spacer-left display-flex-column create-project-mode-type-bbs",disabled:1!==t,onClick:function(){return e.onSelectMode(Re.BitbucketServer)},type:"button"},r.createElement("img",{alt:"",height:80,src:Object(z.getBaseUrl)()+"/images/alm/bitbucket.svg",width:80}),r.createElement("div",{className:"medium big-spacer-top"},Object(d.translate)("onboarding.create_project.select_method.from_bbs")),n&&r.createElement("span",null,Object(d.translate)("onboarding.create_project.check_bbs_supported"),r.createElement("i",{className:"little-spacer-left spinner"})),!n&&1!==t&&r.createElement("div",{className:"text-muted small spacer-top",style:{lineHeight:1.5}},Object(d.translate)("onboarding.create_project.bbs_not_configured"),r.createElement(rt.a,{className:"little-spacer-left",overlay:0===t?Object(d.translate)("onboarding.create_project.zero_bbs_instances"):Object(d.translateWithParameters)("onboarding.create_project.too_many_bbs_instances_X",t)})))))}var at=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={bitbucketSettings:[],loading:!1},t.fetchAlmBindings=function(){t.setState({loading:!0}),Object(we.i)().then((function(e){t.mounted&&t.setState({bitbucketSettings:e.filter((function(e){return e.alm===ze.a.Bitbucket})),loading:!1})})).catch((function(){t.mounted&&t.setState({loading:!1})}))},t.handleProjectCreate=function(e){1===e.length&&t.props.router.push(Object(y.t)(e[0]))},t.handleModeSelect=function(e){var n=t.props,r=n.router,o=n.location;r.push({pathname:o.pathname,query:{mode:e}})},t}return at(t,e),t.prototype.componentDidMount=function(){var e,t=this.props,n=t.appState.branchesEnabled,r=t.location;this.mounted=!0,n&&this.fetchAlmBindings(),((null===(e=r.query)||void 0===e?void 0:e.mode)||!n)&&Object(m.addWhitePageClass)()},t.prototype.componentDidUpdate=function(e){var t,n,r,o;(null===(t=this.props.location.query)||void 0===t?void 0:t.mode)&&!(null===(n=e.location.query)||void 0===n?void 0:n.mode)?Object(m.addWhitePageClass)():!(null===(r=this.props.location.query)||void 0===r?void 0:r.mode)&&(null===(o=e.location.query)||void 0===o?void 0:o.mode)&&Object(m.removeWhitePageClass)()},t.prototype.componentWillUnmount=function(){this.mounted=!1,Object(m.removeWhitePageClass)()},t.prototype.render=function(){var e,t=this.props,n=t.appState.branchesEnabled,o=t.currentUser,a=t.location,c=this.state,s=c.bitbucketSettings,l=c.loading,p=null===(e=a.query)||void 0===e?void 0:e.mode,u=!n||p===Re.Manual,m=n&&p===Re.BitbucketServer;return r.createElement(r.Fragment,null,r.createElement(i.a,{title:Object(d.translate)("my_account.create_new.TRK"),titleTemplate:"%s"}),r.createElement("div",{className:"page page-limited huge-spacer-bottom position-relative",id:"create-project"},!m&&!u&&r.createElement(ot,{bbsBindingCount:s.length,loadingBindings:l,onSelectMode:this.handleModeSelect}),u&&r.createElement(ve,{branchesEnabled:n,currentUser:o,onProjectCreate:this.handleProjectCreate}),m&&r.createElement(tt,{bitbucketSettings:s,loadingBindings:l,location:a,onProjectCreate:this.handleProjectCreate})))},t}(r.PureComponent),ct=Object(b.a)(Object(Ne.a)(it)),st=function(){return(st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function lt(e){return r.createElement(r.Fragment,null,r.createElement(o.a,{anchor:"create_project_main"}),Object(a.isSonarCloud)()?r.createElement(Pe,st({},e)):r.createElement(ct,st({},e)))}},689:function(e,t,n){"use strict";function r(e,t){return t+"("+(e.displayName||e.name||"Component")+")"}n.d(t,"a",(function(){return r}))},699:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n(13),a=n(37),i=n(749),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e){return o.createElement(i.a.Consumer,null,(function(t){var n=t.addA11ySkipLink,r=t.removeA11ySkipLink;return o.createElement(p,s({addA11ySkipLink:n,removeA11ySkipLink:r},e))}))}var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLink=function(){var e=t.props,n=e.anchor,r=e.label;return{key:n,label:void 0===r?Object(a.translate)("skip_to_content"):r,weight:e.weight}},t}return c(t,e),t.prototype.componentDidMount=function(){this.props.addA11ySkipLink(this.getLink())},t.prototype.componentWillUnmount=function(){this.props.removeA11ySkipLink(this.getLink())},t.prototype.render=function(){var e=this.props.anchor;return o.createElement("span",{id:"a11y_target__"+e})},t}(o.PureComponent)},727:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o=n(13),a=n(666),i=n(668),c=n(689),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s(n,t),n.prototype.render=function(){return o.createElement(e,l({},this.props))},n.displayName=Object(c.a)(e,"withCurrentUser"),n}(o.Component);return Object(a.connect)((function(e){return{currentUser:Object(i.getCurrentUser)(e)}}))(t)}},747:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(685),o=n(91),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},c=!1;function s(e,t){return void 0===t&&(t="body"),new Promise((function(n){var o=document.createElement("script");o.src=""+Object(r.getBaseUrl)()+e,o.onload=n,document.getElementsByTagName(t)[0].appendChild(o)}))}function l(e){return a(this,void 0,void 0,(function(){var t,r;return i(this,(function(a){switch(a.label){case 0:return(t=Object(o.a)(e))?[2,Promise.resolve(t)]:c?[3,2]:[4,Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(301)]).then(n.bind(null,885))];case 1:(0,a.sent().default)(),c=!0,a.label=2;case 2:return[4,s("/static/"+e+".js")];case 3:return a.sent(),(r=Object(o.a)(e))?[2,r]:[2,Promise.reject()]}}))}))}},762:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return p}));var r=n(682);function o(e,t){return t.endsWith("/")||(t+="/"),s(e)?t.replace("github.com/","github.com/orgs/")+"people":t+"profile/members"}function a(e){return Object(r.b)(e)&&e.externalProvider?p(e.externalProvider):void 0}function i(e){return Object(r.b)(e)&&(c(e.externalProvider)||s(e.externalProvider))}function c(e){return!!e&&e.startsWith("bitbucket")}function s(e){return"github"===e}function l(e){return"microsoft"===e}function p(e){return c(e)?"bitbucket":e}},774:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o=n(13),a=n(666),i=n(668),c=n(689),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s(n,t),n.prototype.render=function(){return o.createElement(e,l({},this.props))},n.displayName=Object(c.a)(e,"withAppState"),n}(o.Component);return Object(a.connect)((function(e){return{appState:Object(i.getAppState)(e)}}))(t)}},852:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(682);function o(e){return Boolean(e&&"PAID"===e.subscription)}function a(e,t,n){return!o(t)||i(e,t,n)}function i(e,t,n){return Boolean(t&&Object(r.b)(e)&&(t.actions&&t.actions.admin||n.some((function(e){return e.key===t.key}))))}},895:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Azure="azure",e.Bitbucket="bitbucket",e.GitHub="github",e.GitLab="gitlab"}(r||(r={}))},926:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return g}));var r,o=n(861),a=n.n(o),i=n(37),c=n(667),s=n(778),l=n(939),p=(n(762),"sonarcloud.import_org.binding_in_progress"),u="sonarcloud.import_org.redirect_to_projects",d="sonarcloud.bind_org.key",m="sonarcloud.bind_org.redirect_to_org";function g(e,t){var n=Object(c.formatMeasure)(e,"FLOAT").replace(/[.|,]0$/,"").replace(/([.|,]\d)$/,"$10");return t?n:Object(i.translateWithParameters)("billing.price_format",n)}!function(e){e[e.OrganizationDetails=0]="OrganizationDetails",e[e.Plan=1]="Plan"}(r||(r={}));a()((function(e){void 0===e&&(e={});var t=void 0,n=void 0;if(e.installation_id)n="github",t=Object(s.parseAsOptionalString)(e.installation_id);else if(e.clientKey)n="bitbucket",t=Object(s.parseAsOptionalString)(e.clientKey);else if(e.jwt){var r=Object(l.decodeJwt)(e.jwt);r&&r.iss&&(n="bitbucket",t=r.iss)}return{almInstallId:t,almKey:n}}))},937:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,o=n(13),a=n(177),i=n.n(a),c=n(682),s=n(689),l=n(727),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return p(n,t),n.prototype.componentDidMount=function(){Object(c.b)(this.props.currentUser)||i()()},n.prototype.render=function(){return Object(c.b)(this.props.currentUser)?o.createElement(e,u({},this.props)):null},n.displayName=Object(s.a)(e,"whenLoggedIn"),n}(o.Component);return Object(l.a)(t)}},949:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"q",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"o",(function(){return p})),n.d(t,"c",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"r",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return O}));var r=n(51),o=n(670);function a(){return Object(r.getJSON)("/api/alm_settings/list_definitions").catch(o.a)}function i(e){return Object(r.getJSON)("/api/alm_settings/list",{project:e}).then((function(e){return e.almSettings})).catch(o.a)}function c(e){return Object(r.post)("/api/alm_settings/create_github",e).catch(o.a)}function s(e){return Object(r.post)("/api/alm_settings/update_github",e).catch(o.a)}function l(e){return Object(r.post)("/api/alm_settings/create_azure",e).catch(o.a)}function p(e){return Object(r.post)("/api/alm_settings/update_azure",e).catch(o.a)}function u(e){return Object(r.post)("/api/alm_settings/create_bitbucket",e).catch(o.a)}function d(e){return Object(r.post)("/api/alm_settings/update_bitbucket",e).catch(o.a)}function m(e){return Object(r.post)("/api/alm_settings/create_gitlab",e).catch(o.a)}function g(e){return Object(r.post)("/api/alm_settings/update_gitlab",e).catch(o.a)}function b(e){return Object(r.post)("/api/alm_settings/delete",{key:e}).catch(o.a)}function f(e){return Object(r.getJSON)("/api/alm_settings/count_binding",{almSetting:e}).then((function(e){return e.projects})).catch(o.a)}function h(e){return Object(r.getJSON)("/api/alm_settings/get_binding",{project:e})}function y(e){return Object(r.post)("/api/alm_settings/delete_binding",{project:e}).catch(o.a)}function j(e){return Object(r.post)("/api/alm_settings/set_azure_binding",e).catch(o.a)}function _(e){return Object(r.post)("/api/alm_settings/set_bitbucket_binding",e).catch(o.a)}function v(e){return Object(r.post)("/api/alm_settings/set_github_binding",e).catch(o.a)}function O(e){return Object(r.post)("/api/alm_settings/set_gitlab_binding",e).catch(o.a)}}}]);
//# sourceMappingURL=326.1588858339197.chunk.js.map