{"version":3,"sources":["webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/sonar-ui-common/components/icons/HistoryIcon.js","webpack:///./node_modules/sonar-ui-common/components/ui/PageActions.js","webpack:///./src/main/js/components/charts/ColorBoxLegend.css?a720","webpack:///./src/main/js/components/charts/ColorRatingsLegend.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/FilesCounter.js","webpack:///./src/main/js/components/charts/ColorBoxLegend.css","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css?3f5e","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css","webpack:///./node_modules/lodash/toPairs.js","webpack:///./node_modules/lodash/_createToPairs.js","webpack:///./node_modules/lodash/_baseToPairs.js","webpack:///./node_modules/lodash/_setToPairs.js","webpack:///./src/main/js/apps/component-measures/style.css?df54","webpack:///./src/main/js/apps/component-measures/style.css","webpack:///./node_modules/sonar-ui-common/components/charts/ColorGradientLegend.js","webpack:///./node_modules/sonar-ui-common/components/charts/ColorGradientLegend.css?f61a","webpack:///./node_modules/sonar-ui-common/components/charts/ColorGradientLegend.css","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMap.js","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMap.css?ab4e","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMap.css","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMapRect.js","webpack:///./node_modules/sonar-ui-common/components/charts/Histogram.js","webpack:///./node_modules/sonar-ui-common/components/charts/Histogram.css?7e27","webpack:///./node_modules/sonar-ui-common/components/charts/Histogram.css","webpack:///./node_modules/sonar-ui-common/components/icons/TreeIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/TreemapIcon.js","webpack:///./node_modules/d3-hierarchy/src/cluster.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/array.js","webpack:///./node_modules/d3-hierarchy/src/pack/enclose.js","webpack:///./node_modules/d3-hierarchy/src/pack/siblings.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./node_modules/d3-hierarchy/src/pack/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/d3-hierarchy/src/partition.js","webpack:///./node_modules/d3-hierarchy/src/stratify.js","webpack:///./node_modules/d3-hierarchy/src/tree.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/binary.js","webpack:///./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack:///./src/main/js/apps/component-measures/config/bubbles.ts","webpack:///./src/main/js/apps/component-measures/config/domains.ts","webpack:///./src/main/js/apps/component-measures/utils.ts","webpack:///./src/main/js/apps/component-measures/sidebar/FacetMeasureValue.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/DomainFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/ProjectOverviewFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/component-measures/config/complementary.ts","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/MeasureCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsListRow.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/EmptyResult.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsList.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/FilesView.tsx","webpack:///./src/main/js/components/charts/ColorBoxLegend.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/TreeMapView.tsx","webpack:///./src/main/js/apps/component-measures/components/Breadcrumb.tsx","webpack:///./src/main/js/apps/component-measures/components/Breadcrumbs.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContentHeader.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/LeakPeriodLegend.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureHeader.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureViewSelect.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContent.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/BubbleChart.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverview.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverviewContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasuresEmpty.tsx","webpack:///./src/main/js/apps/component-measures/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/types/component.ts","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/BranchIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./src/main/js/helpers/periods.ts","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/LinkIcon.js","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx"],"names":["debounce","isObject","module","exports","func","wait","options","leading","trailing","TypeError","Object","defineProperty","value","React","Icon_1","default","_a","className","_b","fill","size","createElement","d","style","l10n_1","FilesCounter_1","props","current","showShortcuts","total","translate","api","content","__esModule","i","exported","locals","ColorRatingsLegend","map","rating","key","borderColor","backgroundColor","measures_1","undefined","formatMeasure","___CSS_LOADER_API_IMPORT___","push","toPairs","createToPairs","baseToPairs","getTag","mapToArray","setToPairs","keysFunc","object","tag","arrayMap","set","index","result","Array","forEach","colorScale","colorNA","padding","height","width","colorRange","range","colorDomain","domain","lastColorIdx","length","lastDomainIdx","widthNoPadding","rectHeight","id","color","idx","offset","stopColor","String","transform","x","y","dy","extendStatics","__extends","this","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","d3_hierarchy_1","TreeMapRect_1","TreeMap","_super","_this","apply","arguments","mostCommitPrefix","labels","sortedLabels","slice","sort","firstLabel","firstLabelLength","lastLabel","charAt","prefix","substr","prefixTokens","split","lastPrefixPart","render","items","hierarchy","children","sum","a","nodes","treemap","round","leaves","item","label","halfWidth","node","data","y1","y0","icon","itemKey","link","onClick","onRectangleClick","placement","x0","x1","tooltip","PureComponent","classNames","d3_scale_1","react_router_1","Tooltip_1","LinkIcon_1","SIZE_SCALE","scaleLinear","clamp","TreeMapRect","handleLinkClick","event","stopPropagation","handleRectClick","renderLink","Link","to","renderCell","cellStyles","left","top","fontSize","lineHeight","cursor","isTextVisible","isIconVisible","role","tabIndex","maxWidth","overlay","d3_array_1","DEFAULT_PADDING","Histogram","renderBar","xScale","yScale","alignTicks","Math","bandwidth","renderValue","yValues","BAR_HEIGHT","yTooltips","dx","renderTick","yTicks","tick","historyTickClass","renderBars","bars","availableWidth","max","availableHeight","scaleBand","_","rangeRound","_c","defaultSeparation","parent","meanXReduce","c","maxYReduce","separation","nodeSize","cluster","root","previousNode","eachAfter","reduce","meanX","maxY","leafLeft","right","leafRight","count","child","childs","n","Node","valued","defaultChildren","pop","depth","eachBefore","computeHeight","copyData","each","next","reverse","callback","compare","path","start","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","end","k","splice","descendants","links","source","target","copy","e","circles","array","t","m","random","shuffle","call","B","enclosesWeak","encloseBasis","extendBasis","j","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","Error","dr","r","r1","x2","y2","r2","x21","y21","r21","l","sqrt","x3","y3","r3","a2","a3","b2","b3","c2","c3","d1","d2","d3","ab","xa","xb","ya","yb","A","C","place","intersects","score","circle","previous","packEnclose","aa","ca","sj","sk","pack","enclose","optional","f","required","constantZero","defaultRadius","radius","radiusLeaf","packChildren","translateChild","min","constant","partition","positionNode","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","v","nextRight","moveSubtree","wm","wp","shift","change","s","z","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","bottom","tx","kx","ky","siblings","w","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","phi","squarifyRatio","ratio","row","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","rows","i0","i1","dice","squarify","custom","tile","paddingStack","paddingInner","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingOuter","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","resquarify","_squarify","bubbles","Reliability","ncloc","reliability_remediation_effort","bugs","colors","reliability_rating","Security","security_remediation_effort","vulnerabilities","security_rating","Maintainability","sqale_index","code_smells","sqale_rating","Coverage","complexity","coverage","uncovered_lines","yDomain","Duplications","duplicated_lines","duplicated_blocks","project_overview","categories","order","new_bugs","new_reliability_rating","new_reliability_remediation_effort","new_vulnerabilities","new_security_rating","new_security_remediation_effort","SecurityReview","new_security_hotspots","new_security_review_rating","new_security_hotspots_reviewed","security_hotspots","security_review_rating","security_hotspots_reviewed","new_code_smells","new_technical_debt","new_sqale_debt_ratio","new_maintainability_rating","sqale_debt_ratio","effort_to_reach_maintainability_rating_a","new_coverage","new_lines_to_cover","new_uncovered_lines","new_line_coverage","new_conditions_to_cover","new_uncovered_conditions","new_branch_coverage","lines_to_cover","line_coverage","conditions_to_cover","uncovered_conditions","branch_coverage","tests","test_errors","test_failures","skipped_tests","test_success_density","test_execution_time","new_duplicated_lines_density","new_duplicated_lines","new_duplicated_blocks","duplicated_lines_density","duplicated_files","Size","new_lines","lines","statements","functions","classes","files","directories","Complexity","Releasability","Issues","new_violations","new_blocker_violations","new_critical_violations","new_major_violations","new_minor_violations","new_info_violations","violations","blocker_violations","critical_violations","major_violations","minor_violations","info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","KNOWN_DOMAINS","BANNED_MEASURES","filterMeasures","measures","filter","measure","includes","metric","sortMeasures","domainName","configOrder","indexOf","addMeasureCategories","enhanceComponent","component","metrics","enhancedMeasures","find","leak","isFileType","File","TestFile","qualifier","isViewType","Portfolio","SubPortfolio","Application","groupByDomains","domains","name","hasList","hasTree","hasTreemap","type","hasBubbleChart","hasFacetStat","hasFullMeasures","branch","getBubbleMetrics","conf","isProjectOverview","parseView","rawView","view","parseQuery","urlQuery","selected","serializeQuery","query","FacetMeasureValue","displayLeak","Measure","metricKey","metricType","getValues","measureSelected","overviewSelected","hasOverview","handleHeaderClick","onToggle","hasFacetSelected","showFullMeasures","renderItemFacetStat","renderCategoryItem","renderItemsFacet","translateMetric","some","sortedItems","FacetItem","active","disabled","onChange","stat","renderOverviewFacet","helperMessageKey","helper","FacetBox","property","FacetHeader","open","values","FacetItemsList","ProjectOverviewFacet","facetName","state","openFacets","toggleFacet","setState","changeMetric","updateQuery","getDerivedStateFromProps","getOpenFacets","A11ySkipTarget","anchor","weight","selectedMetric","newOpenFacets","complementary","handleClick","isLeftClickEvent","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","preventDefault","renderInner","componentKey","head","tail","isApp","rootComponent","title","branchLike","refKey","href","MeasureCell","ComponentsListRow","otherMeasures","otherMetrics","rowClass","isSelected","EmptyResult","ComponentsList","components","selectedComponent","keyScope","getVisibleComponents","showBestMeasures","filtered","hasBestValue","handleShowBestMeasures","focusedMeasure","Boolean","bestValue","openSelected","selectedKey","handleOpen","selectPrevious","selectedIdx","visibleComponents","handleSelect","selectNext","scrollToElement","listContainer","elem","getElementsByClassName","topOffset","bottomOffset","defaultShowBestMeasures","componentDidMount","attachShortcuts","componentDidUpdate","prevProps","componentWillUnmount","detachShortcuts","action","filteredComponents","hidingBestMeasures","ref","paging","Alert","variant","loadMore","fetchMore","loading","loadingMore","COLORS","green","lightGreen","yellow","orange","red","LEVEL_COLORS","gray71","getTreemapComponents","getColorScale","colorMeasure","sizeMeasure","colorValue","rawSizeValue","sizeValue","Number","secondFontColor","baseFontColor","getTooltip","colorMetric","componentName","sizeMetric","getLevelColorScale","getPercentColorScale","higherValuesAreBetter","getRatingColorScale","formatted","treemapItems","renderLegend","AutoSizer","disableHeight","currentTarget","blur","canBrowse","isLast","breadcrumbItem","mounted","breadcrumbs","fetchBreadcrumbs","then","backToFirst","lastItem","MeasureContentHeader","cutLanguageName","languages","distribution","point","tokens","language","parseInt","langKey","lang","getLanguageName","formatDate","date","intl","formatDateTime","formatTime","period","leakClass","leakPeriodLabel","mode","Date","long","MeasureHeader","leakPeriod","measureValue","secondaryMeasure","isDiff","hasHistory","LanguageDistributionContainer","getOptions","handleChange","option","handleViewChange","renderOption","autoBlur","clearable","optionRenderer","searchable","valueRenderer","loadingMoreComponents","fetchComponentTree","metricKeys","opts","strategy","baseComponentMetrics","requestedMetric","Promise","all","join","baseComponent","fetchMoreComponents","updateSelected","updateView","onOpenComponent","router","container","focus","onSelectComponent","getSelectedIndex","findIndex","getComponentRequestParams","additionalFields","ps","setMetricSort","metricSortFilter","metricPeriodSort","asc","direction","metricSort","renderMeasure","isFile","SourceViewer","onIssueChange","getMeasureVal","handleBubbleClick","inner","valuesColors","metricColors","line","getDescription","description","translatedDescription","renderBubbleChart","formatXTick","formatYTick","onBubbleClick","renderChartHeader","colorsMetric","fetchComponents","metricsKey","updateLoading","renderContent","fetchComponent","MeasuresEmpty","getHelmetTitle","displayOverview","getSelectedMetric","domainMeasures","firstMeasure","handleIssueChange","refreshBranchStatus","newQuery","location","pathname","fetchBranchStatus","byKey","fetchMeasures","prevState","prevQuery","filteredKeys","getMeasuresPageMetricKeys","bannedMetrics","banQualityGateMeasure","Project","Suggestions","suggestions","defer","ScreenPositionHelper","mapDispatchToProps","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","ComponentQualifier","Visibility","isPortfolioLike","componentQualifier","toString","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","__assign","assign","react_intl_1","dates_1","formatterOption","year","month","day","longFormatterOption","FormattedDate","parseDate","FormattedRelative","baseAssignValue","createAggregator","groupBy","KNOWN_RATINGS","enhanceMeasure","getLeakValue","periods","getRatingTooltip","finalMetricKey","decimals","small","level","formattedValue","omitExtraDecimalZeros","ThemedIcon","theme","blue","getLeakPeriod","isArray","getPeriod","getPeriodLabel","dateFormatter","parameter","modeParam","toLowerCase","getPeriodDate","isApplicationPeriod","project","__rest","getOwnPropertySymbols","propertyIsEnumerable","ChevronDownIcon_1","ChevronRightIcon_1","getPosition","containerPos","getBoundingClientRect","window","pageYOffset","pageXOffset","debouncedOnResize","forceUpdate","addEventListener","removeEventListener","renderHelper","renderValueIndicator","showClearButton","onClear","fetching","defaultProps"],"mappings":"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","file":"js/300.1588858339197.chunk.js","sourcesContent":["var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction HistoryIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\", style: { fill: fill } })));\n}\nexports.default = HistoryIcon;\n//# sourceMappingURL=HistoryIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar FilesCounter_1 = require(\"./FilesCounter\");\nfunction PageActions(props) {\n    var current = props.current, showShortcuts = props.showShortcuts, _a = props.total, total = _a === void 0 ? 0 : _a;\n    return (React.createElement(\"div\", { className: \"page-actions display-flex-center\" },\n        showShortcuts && (React.createElement(\"span\", { className: \"note nowrap\" },\n            React.createElement(\"span\", { className: \"big-spacer-right\" },\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2191\"),\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2193\"),\n                l10n_1.translate('component_measures.to_select_files')),\n            React.createElement(\"span\", null,\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2190\"),\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2192\"),\n                l10n_1.translate('component_measures.to_navigate')))),\n        total > 0 && (React.createElement(\"div\", { className: \"nowrap\" },\n            React.createElement(FilesCounter_1.default, { className: \"big-spacer-left\", current: current, total: total })))));\n}\nexports.default = PageActions;\n//# sourceMappingURL=PageActions.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorBoxLegend.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { RATING_COLORS } from '../../helpers/constants';\nimport './ColorBoxLegend.css';\n\ninterface Props {\n  className?: string;\n}\n\nexport default function ColorRatingsLegend({ className }: Props) {\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {[1, 2, 3, 4, 5].map(rating => (\n        <div key={rating}>\n          <span\n            className=\"color-box-legend-rect\"\n            style={{ borderColor: RATING_COLORS[rating - 1] }}>\n            <span\n              className=\"color-box-legend-rect-inner\"\n              style={{ backgroundColor: RATING_COLORS[rating - 1] }}\n            />\n          </span>\n          {formatMeasure(rating, 'RATING')}\n        </div>\n      ))}\n    </div>\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nfunction FilesCounter(_a) {\n    var className = _a.className, current = _a.current, total = _a.total;\n    return (React.createElement(\"span\", { className: className },\n        React.createElement(\"strong\", null,\n            current !== undefined && (React.createElement(\"span\", null,\n                measures_1.formatMeasure(current, 'INT'),\n                ' / ')),\n            measures_1.formatMeasure(total, 'INT')),\n        ' ',\n        l10n_1.translate('component_measures.files')));\n}\nexports.default = FilesCounter;\n//# sourceMappingURL=FilesCounter.js.map","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".color-box-legend{display:flex;justify-content:center}.color-box-legend>:not(:first-child){margin-left:24px}.color-box-legend .color-box-legend-rect{display:inline-block;margin-top:1px;margin-right:4px;border:1px solid}.color-box-legend .color-box-legend-rect-inner{display:block;width:8px;height:8px;opacity:.2}.color-box-legend.color-box-full .color-box-legend-rect-inner{opacity:1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var createToPairs = require('./_createToPairs'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable string keyed-value pairs for `object`\n * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n * entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entries\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nvar toPairs = createToPairs(keys);\n\nmodule.exports = toPairs;\n","var baseToPairs = require('./_baseToPairs'),\n    getTag = require('./_getTag'),\n    mapToArray = require('./_mapToArray'),\n    setToPairs = require('./_setToPairs');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Creates a `_.toPairs` or `_.toPairsIn` function.\n *\n * @private\n * @param {Function} keysFunc The function to get the keys of a given object.\n * @returns {Function} Returns the new pairs function.\n */\nfunction createToPairs(keysFunc) {\n  return function(object) {\n    var tag = getTag(object);\n    if (tag == mapTag) {\n      return mapToArray(object);\n    }\n    if (tag == setTag) {\n      return setToPairs(object);\n    }\n    return baseToPairs(object, keysFunc(object));\n  };\n}\n\nmodule.exports = createToPairs;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nmodule.exports = baseToPairs;\n","/**\n * Converts `set` to its value-value pairs.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the value-value pairs.\n */\nfunction setToPairs(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = [value, value];\n  });\n  return result;\n}\n\nmodule.exports = setToPairs;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".domain-measures-value{margin-right:4px}.domain-measures-value span{line-height:16px}.domain-measures-value .rating{margin-left:-4px;margin-right:-4px}.search-navigator-facet .leak-box{height:24px;line-height:24px;padding:0 8px;margin-top:-1px;margin-right:-7px;border-radius:2px;box-sizing:border-box}.search-navigator-facet.active .leak-box,.search-navigator-facet:hover .leak-box{height:22px;margin-top:0;margin-right:-6px;border-top:none;border-bottom:none;border-right:none;border-top-left-radius:0;border-bottom-left-radius:0}.search-navigator-facet.active .leak-box{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.domain-measures-header{display:inline-block;padding:4px 10px;white-space:nowrap}.measure-details-metric,.measure-details-primary{display:flex;align-items:center}.measure-details-primary{flex-wrap:nowrap;justify-content:space-between}.measure-details-primary-actions{display:flex;align-items:center}.measure-details-secondary{display:inline-block;width:260px;margin-top:4px}.measure-details-component-row.selected{background-color:#cae3f2!important}.measure-details-component-cell{max-width:0}.measure-details-component-cell>div{max-width:100%}.domain-measures-value .rating,.measure-details-value .rating{width:18px;height:18px;line-height:18px;margin-top:-2px;margin-bottom:-2px;font-size:12px}.domain-measures-value .level{height:18px;line-height:18px;border-radius:18px;margin-top:-2px;margin-bottom:-2px;margin-right:-4px}.measure-details-treemap-legend{margin-right:-4px}.measure-details-treemap-legend.color-box-legend{margin-right:0}.measure-details-viewer .issue-list{min-width:600px;width:800px}@media (max-width:1320px){.measure-details-viewer .issue-list{width:calc(60vw - 80px)}}.measure-view-select{width:102px}.measure-view-select .Select-menu-outer{width:100px;border-top-right-radius:4px}.measure-content-header{display:flex;align-items:center}.measure-content-header-left{flex:1;min-width:0;white-space:nowrap}.measure-content-header-right .page-actions{margin-bottom:0}.measure-content-header-right{margin-left:16px;white-space:nowrap}.measure-favorite svg{vertical-align:middle}.measure-overview-bubble-chart{position:relative;border:1px solid #e6e6e6;background-color:#fff}.measure-overview-bubble-chart-content{padding:0 0 0 60px}.measure-overview-bubble-chart-header{display:flex;align-items:center;padding:16px;border-bottom:1px solid #e6e6e6}.measure-overview-bubble-chart-title{position:absolute}.measure-overview-bubble-chart-legend{display:flex;flex-direction:column;text-align:center;flex-grow:1}.measure-overview-bubble-chart-footer{padding:15px 60px;border-top:1px solid #e6e6e6;text-align:center;font-size:12px;line-height:1.4}.measure-overview-bubble-chart-axis{color:#777;font-size:12px}.measure-overview-bubble-chart-axis.x{position:relative;top:-8px;padding-bottom:8px;text-align:center}.measure-overview-bubble-chart-axis.y{position:absolute;top:50%;left:30px;transform:rotate(-90deg) translateX(-50%);transform-origin:left}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nrequire(\"./ColorGradientLegend.css\");\nvar NA_SPACING = 4;\nfunction ColorGradientLegend(_a) {\n    var className = _a.className, colorScale = _a.colorScale, colorNA = _a.colorNA, _b = _a.padding, padding = _b === void 0 ? [12, 24, 0, 0] : _b, height = _a.height, width = _a.width;\n    var colorRange = colorScale.range();\n    var colorDomain = colorScale.domain();\n    var lastColorIdx = colorRange.length - 1;\n    var lastDomainIdx = colorDomain.length - 1;\n    var widthNoPadding = width - padding[1];\n    var rectHeight = height - padding[0];\n    return (React.createElement(\"svg\", { className: className, height: height, width: width },\n        React.createElement(\"defs\", null,\n            React.createElement(\"linearGradient\", { id: \"gradient-legend\" }, colorRange.map(function (color, idx) { return (React.createElement(\"stop\", { key: idx, offset: idx / lastColorIdx, stopColor: String(color) })); }))),\n        React.createElement(\"g\", { transform: \"translate(\" + padding[3] + \", \" + padding[0] + \")\" },\n            React.createElement(\"rect\", { fill: \"url(#gradient-legend)\", height: rectHeight, width: widthNoPadding, x: 0, y: 0 }),\n            colorDomain.map(function (d, idx) { return (React.createElement(\"text\", { className: \"gradient-legend-text\", dy: \"-2px\", key: idx, x: widthNoPadding * (idx / lastDomainIdx), y: 0 }, d)); })),\n        colorNA && (React.createElement(\"g\", { transform: \"translate(\" + widthNoPadding + \", \" + padding[0] + \")\" },\n            React.createElement(\"rect\", { fill: colorNA, height: rectHeight, width: padding[1] - NA_SPACING, x: NA_SPACING, y: 0 }),\n            React.createElement(\"text\", { className: \"gradient-legend-na\", dy: \"-2px\", x: NA_SPACING + (padding[1] - NA_SPACING) / 2, y: 0 }, \"N/A\")))));\n}\nexports.default = ColorGradientLegend;\n//# sourceMappingURL=ColorGradientLegend.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./ColorGradientLegend.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".gradient-legend-na,.gradient-legend-text{text-anchor:middle;fill:#777;font-size:10px}.gradient-legend-text:first-of-type{text-anchor:start}.gradient-legend-text:last-of-type{text-anchor:end}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_hierarchy_1 = require(\"d3-hierarchy\");\nvar React = require(\"react\");\nrequire(\"./TreeMap.css\");\nvar TreeMapRect_1 = require(\"./TreeMapRect\");\nvar TreeMap = (function (_super) {\n    __extends(TreeMap, _super);\n    function TreeMap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mostCommitPrefix = function (labels) {\n            var sortedLabels = labels.slice(0).sort();\n            var firstLabel = sortedLabels[0];\n            var firstLabelLength = firstLabel.length;\n            var lastLabel = sortedLabels[sortedLabels.length - 1];\n            var i = 0;\n            while (i < firstLabelLength && firstLabel.charAt(i) === lastLabel.charAt(i)) {\n                i++;\n            }\n            var prefix = firstLabel.substr(0, i);\n            var prefixTokens = prefix.split(/[\\s\\\\/]/);\n            var lastPrefixPart = prefixTokens[prefixTokens.length - 1];\n            return prefix.substr(0, prefix.length - lastPrefixPart.length);\n        };\n        return _this;\n    }\n    TreeMap.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, items = _a.items, height = _a.height, width = _a.width;\n        var hierarchy = d3_hierarchy_1.hierarchy({ children: items })\n            .sum(function (d) { return d.size; })\n            .sort(function (a, b) { return (b.value || 0) - (a.value || 0); });\n        var treemap = d3_hierarchy_1.treemap()\n            .round(true)\n            .size([width, height]);\n        var nodes = treemap(hierarchy).leaves();\n        var prefix = this.mostCommitPrefix(items.map(function (item) { return item.label; }));\n        var halfWidth = width / 2;\n        return (React.createElement(\"div\", { className: \"sonar-d3\" },\n            React.createElement(\"div\", { className: \"treemap-container\", style: { width: width, height: height } }, nodes.map(function (node) { return (React.createElement(TreeMapRect_1.default, { fill: node.data.color, height: node.y1 - node.y0, icon: node.data.icon, itemKey: node.data.key, key: node.data.key, label: node.data.label, link: node.data.link, onClick: _this.props.onRectangleClick, placement: node.x0 === 0 || node.x1 < halfWidth ? 'right' : 'left', prefix: prefix, tooltip: node.data.tooltip, width: node.x1 - node.x0, x: node.x0, y: node.y0 })); }))));\n    };\n    return TreeMap;\n}(React.PureComponent));\nexports.default = TreeMap;\n//# sourceMappingURL=TreeMap.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./TreeMap.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".sonar-d3 .treemap-container{position:relative}.sonar-d3 .treemap-cell{position:absolute;border-right:1px solid #fff;border-bottom:1px solid #fff;box-sizing:border-box;text-align:center}.sonar-d3 .treemap-cell:focus{outline:none}.sonar-d3 .treemap-inner{display:inline-flex;vertical-align:middle;align-items:center;justify-content:center;flex-wrap:wrap;padding:0 4px;box-sizing:border-box;line-height:1.2}.sonar-d3 .treemap-inner .treemap-icon{flex-shrink:0}.sonar-d3 .treemap-inner .treemap-icon svg{margin-top:2px}.sonar-d3 .treemap-inner .treemap-text{flex-shrink:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.sonar-d3 .treemap-link{position:absolute;z-index:2;top:5px;right:5px;line-height:14px;font-size:12px;border-bottom:none}.sonar-d3 .treemap-link:hover{color:#d1eafb}.sonar-d3 .treemap-link i,.sonar-d3 .treemap-link i:before{vertical-align:top;font-size:inherit;line-height:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar react_router_1 = require(\"react-router\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nvar LinkIcon_1 = require(\"../icons/LinkIcon\");\nvar SIZE_SCALE = d3_scale_1.scaleLinear()\n    .domain([3, 15])\n    .range([11, 18])\n    .clamp(true);\nvar TreeMapRect = (function (_super) {\n    __extends(TreeMapRect, _super);\n    function TreeMapRect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleLinkClick = function (event) {\n            event.stopPropagation();\n        };\n        _this.handleRectClick = function () {\n            if (_this.props.onClick) {\n                _this.props.onClick(_this.props.itemKey);\n            }\n        };\n        _this.renderLink = function () {\n            var _a = _this.props, link = _a.link, height = _a.height, width = _a.width;\n            var hasMinSize = width >= 24 && height >= 24 && (width >= 48 || height >= 50);\n            if (!hasMinSize || link == null) {\n                return null;\n            }\n            return (React.createElement(react_router_1.Link, { className: \"treemap-link\", onClick: _this.handleLinkClick, to: link },\n                React.createElement(LinkIcon_1.default, null)));\n        };\n        _this.renderCell = function () {\n            var cellStyles = {\n                left: _this.props.x,\n                top: _this.props.y,\n                width: _this.props.width,\n                height: _this.props.height,\n                backgroundColor: _this.props.fill,\n                fontSize: SIZE_SCALE(_this.props.width / _this.props.label.length),\n                lineHeight: _this.props.height + \"px\",\n                cursor: _this.props.onClick != null ? 'pointer' : 'default'\n            };\n            var isTextVisible = _this.props.width >= 40 && _this.props.height >= 45;\n            var isIconVisible = _this.props.width >= 24 && _this.props.height >= 26;\n            return (React.createElement(\"div\", { className: \"treemap-cell\", onClick: _this.handleRectClick, role: \"treeitem\", style: cellStyles, tabIndex: 0 },\n                React.createElement(\"div\", { className: \"treemap-inner\", style: { maxWidth: _this.props.width } },\n                    isIconVisible && (React.createElement(\"span\", { className: classNames('treemap-icon', { 'spacer-right': isTextVisible }) }, _this.props.icon)),\n                    isTextVisible &&\n                        (_this.props.prefix ? (React.createElement(\"span\", { className: \"treemap-text\" },\n                            _this.props.prefix,\n                            React.createElement(\"br\", null),\n                            _this.props.label.substr(_this.props.prefix.length))) : (React.createElement(\"span\", { className: \"treemap-text\" }, _this.props.label)))),\n                _this.renderLink()));\n        };\n        return _this;\n    }\n    TreeMapRect.prototype.render = function () {\n        var _a = this.props, placement = _a.placement, tooltip = _a.tooltip;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip || undefined, placement: placement || 'left' }, this.renderCell()));\n    };\n    return TreeMapRect;\n}(React.PureComponent));\nexports.default = TreeMapRect;\n//# sourceMappingURL=TreeMapRect.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nrequire(\"./BarChart.css\");\nrequire(\"./Histogram.css\");\nvar BAR_HEIGHT = 10;\nvar DEFAULT_PADDING = [10, 10, 10, 10];\nvar Histogram = (function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Histogram.prototype.renderBar = function (d, index, xScale, yScale) {\n        var _a = this.props, alignTicks = _a.alignTicks, _b = _a.padding, padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var width = Math.round(xScale(d)) + 1;\n        var x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2);\n        return React.createElement(\"rect\", { className: \"bar-chart-bar\", height: BAR_HEIGHT, width: width, x: x, y: y });\n    };\n    Histogram.prototype.renderValue = function (d, index, xScale, yScale) {\n        var _a = this.props, alignTicks = _a.alignTicks, _b = _a.padding, padding = _b === void 0 ? DEFAULT_PADDING : _b, yValues = _a.yValues;\n        var value = yValues && yValues[index];\n        if (!value) {\n            return null;\n        }\n        var x = xScale(d) + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        return (React.createElement(Tooltip_1.default, { overlay: this.props.yTooltips && this.props.yTooltips[index] },\n            React.createElement(\"text\", { className: \"bar-chart-tick histogram-value\", dx: \"1em\", dy: \"0.3em\", x: x, y: y }, value)));\n    };\n    Histogram.prototype.renderTick = function (index, xScale, yScale) {\n        var _a = this.props, alignTicks = _a.alignTicks, yTicks = _a.yTicks;\n        var tick = yTicks && yTicks[index];\n        if (!tick) {\n            return null;\n        }\n        var x = xScale.range()[0];\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        var historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n        return (React.createElement(\"text\", { className: 'bar-chart-tick ' + historyTickClass, dx: alignTicks ? 0 : '-1em', dy: \"0.3em\", x: x, y: y }, tick));\n    };\n    Histogram.prototype.renderBars = function (xScale, yScale) {\n        var _this = this;\n        return (React.createElement(\"g\", null, this.props.bars.map(function (d, index) {\n            return (React.createElement(\"g\", { key: index },\n                _this.renderBar(d, index, xScale, yScale),\n                _this.renderValue(d, index, xScale, yScale),\n                _this.renderTick(index, xScale, yScale)));\n        })));\n    };\n    Histogram.prototype.render = function () {\n        var _a = this.props, bars = _a.bars, width = _a.width, height = _a.height, _b = _a.padding, padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var xScale = d3_scale_1.scaleLinear()\n            .domain([0, d3_array_1.max(bars)])\n            .range([0, availableWidth]);\n        var availableHeight = height - padding[0] - padding[2];\n        var yScale = d3_scale_1.scaleBand()\n            .domain(bars.map(function (_, index) { return index; }))\n            .rangeRound([0, availableHeight]);\n        return (React.createElement(\"svg\", { className: \"bar-chart\", height: this.props.height, width: this.props.width },\n            React.createElement(\"g\", { transform: \"translate(\" + (this.props.alignTicks ? 4 : padding[3]) + \", \" + padding[0] + \")\" }, this.renderBars(xScale, yScale))));\n    };\n    return Histogram;\n}(React.PureComponent));\nexports.default = Histogram;\n//# sourceMappingURL=Histogram.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Histogram.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".histogram-tick{text-anchor:end}.histogram-tick-start,.histogram-value{text-anchor:start}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction TreeIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M15.045 2.467c0-0.277-0.225-0.503-0.503-0.503h-13.084c-0.277 0-0.503 0.225-0.503 0.503v1.007c0 0.277 0.225 0.503 0.503 0.503h13.084c0.277 0 0.503-0.225 0.503-0.503v-1.007zM15.045 5.487c0-0.277-0.194-0.503-0.432-0.503h-11.216c-0.238 0-0.432 0.225-0.432 0.503v1.007c0 0.277 0.193 0.503 0.432 0.503h11.216c0.238 0 0.432-0.225 0.432-0.503v-1.007zM15.045 8.506c0-0.277-0.161-0.503-0.359-0.503h-9.346c-0.198 0-0.359 0.225-0.359 0.503v1.007c0 0.277 0.161 0.503 0.359 0.503h9.346c0.198 0 0.359-0.225 0.359-0.503v-1.007zM15.045 11.527c0-0.277-0.129-0.503-0.287-0.503h-7.477c-0.159 0-0.288 0.225-0.288 0.503v1.007c0 0.277 0.129 0.503 0.288 0.503h7.477c0.159 0 0.287-0.225 0.287-0.503v-1.007z\", style: { fill: fill } })));\n}\nexports.default = TreeIcon;\n//# sourceMappingURL=TreeIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction TreemapIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M0 0h8v16h-8zM9.143 0h6.857v9.143h-6.857zM9.143 10.286h6.857v5.714h-6.857z\", style: { fill: fill } })));\n}\nexports.default = TreemapIcon;\n//# sourceMappingURL=TreemapIcon.js.map","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export var slice = Array.prototype.slice;\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle, slice} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(slice.call(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar keyPrefix = \"$\", // Protect against keys like __proto__.\n    preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var d,\n        i,\n        n = data.length,\n        root,\n        parent,\n        node,\n        nodes = new Array(n),\n        nodeId,\n        nodeKey,\n        nodeByKey = {};\n\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = (x0 * valueRight + x1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = (y0 * valueRight + y1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { MetricKey } from '../../../types/metrics';\n\nexport const bubbles: {\n  [domain: string]: {\n    x: string;\n    y: string;\n    size: string;\n    colors?: string[];\n    yDomain?: [number, number];\n  };\n} = {\n  Reliability: {\n    x: MetricKey.ncloc,\n    y: MetricKey.reliability_remediation_effort,\n    size: MetricKey.bugs,\n    colors: [MetricKey.reliability_rating]\n  },\n  Security: {\n    x: MetricKey.ncloc,\n    y: MetricKey.security_remediation_effort,\n    size: MetricKey.vulnerabilities,\n    colors: [MetricKey.security_rating]\n  },\n  Maintainability: {\n    x: MetricKey.ncloc,\n    y: MetricKey.sqale_index,\n    size: MetricKey.code_smells,\n    colors: [MetricKey.sqale_rating]\n  },\n  Coverage: {\n    x: MetricKey.complexity,\n    y: MetricKey.coverage,\n    size: MetricKey.uncovered_lines,\n    yDomain: [100, 0]\n  },\n  Duplications: {\n    x: MetricKey.ncloc,\n    y: MetricKey.duplicated_lines,\n    size: MetricKey.duplicated_blocks\n  },\n  project_overview: {\n    x: MetricKey.sqale_index,\n    y: MetricKey.coverage,\n    size: MetricKey.ncloc,\n    colors: [MetricKey.reliability_rating, MetricKey.security_rating],\n    yDomain: [100, 0]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { MetricKey } from '../../../types/metrics';\n\ninterface Domains {\n  [domain: string]: { categories?: string[]; order: string[] };\n}\n\nexport const domains: Domains = {\n  Reliability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_bugs,\n      MetricKey.new_reliability_rating,\n      MetricKey.new_reliability_remediation_effort,\n\n      'overall_category',\n      MetricKey.bugs,\n      MetricKey.reliability_rating,\n      MetricKey.reliability_remediation_effort\n    ]\n  },\n\n  Security: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_vulnerabilities,\n      MetricKey.new_security_rating,\n      MetricKey.new_security_remediation_effort,\n\n      'overall_category',\n      MetricKey.vulnerabilities,\n      MetricKey.security_rating,\n      MetricKey.security_remediation_effort\n    ]\n  },\n\n  SecurityReview: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_security_hotspots,\n      MetricKey.new_security_review_rating,\n      MetricKey.new_security_hotspots_reviewed,\n\n      'overall_category',\n      MetricKey.security_hotspots,\n      MetricKey.security_review_rating,\n      MetricKey.security_hotspots_reviewed\n    ]\n  },\n\n  Maintainability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_code_smells,\n      MetricKey.new_technical_debt,\n      MetricKey.new_sqale_debt_ratio,\n      MetricKey.new_maintainability_rating,\n\n      'overall_category',\n      MetricKey.code_smells,\n      MetricKey.sqale_index,\n      MetricKey.sqale_debt_ratio,\n      MetricKey.sqale_rating,\n      MetricKey.effort_to_reach_maintainability_rating_a\n    ]\n  },\n\n  Coverage: {\n    categories: ['new_code_category', 'overall_category', 'tests_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_coverage,\n      MetricKey.new_lines_to_cover,\n      MetricKey.new_uncovered_lines,\n      MetricKey.new_line_coverage,\n      MetricKey.new_conditions_to_cover,\n      MetricKey.new_uncovered_conditions,\n      MetricKey.new_branch_coverage,\n\n      'overall_category',\n      MetricKey.coverage,\n      MetricKey.lines_to_cover,\n      MetricKey.uncovered_lines,\n      MetricKey.line_coverage,\n      MetricKey.conditions_to_cover,\n      MetricKey.uncovered_conditions,\n      MetricKey.branch_coverage,\n\n      'tests_category',\n      MetricKey.tests,\n      MetricKey.test_errors,\n      MetricKey.test_failures,\n      MetricKey.skipped_tests,\n      MetricKey.test_success_density,\n      MetricKey.test_execution_time\n    ]\n  },\n\n  Duplications: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_duplicated_lines_density,\n      MetricKey.new_duplicated_lines,\n      MetricKey.new_duplicated_blocks,\n\n      'overall_category',\n      MetricKey.duplicated_lines_density,\n      MetricKey.duplicated_lines,\n      MetricKey.duplicated_blocks,\n      MetricKey.duplicated_files\n    ]\n  },\n\n  Size: {\n    order: [\n      MetricKey.new_lines,\n\n      MetricKey.ncloc,\n      MetricKey.lines,\n      MetricKey.statements,\n      MetricKey.functions,\n      MetricKey.classes,\n      MetricKey.files,\n      MetricKey.directories\n    ]\n  },\n\n  Complexity: {\n    order: ['complexity', 'function_complexity', 'file_complexity', 'class_complexity']\n  },\n\n  Releasability: {\n    order: ['releasability_rating', 'releasability_effort', 'alert_status']\n  },\n\n  Issues: {\n    order: [\n      MetricKey.new_violations,\n      MetricKey.new_blocker_violations,\n      MetricKey.new_critical_violations,\n      MetricKey.new_major_violations,\n      MetricKey.new_minor_violations,\n      MetricKey.new_info_violations,\n\n      MetricKey.violations,\n      MetricKey.blocker_violations,\n      MetricKey.critical_violations,\n      MetricKey.major_violations,\n      MetricKey.minor_violations,\n      MetricKey.info_violations,\n      MetricKey.open_issues,\n      MetricKey.reopened_issues,\n      MetricKey.confirmed_issues,\n      MetricKey.false_positive_issues\n    ]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, memoize, sortBy, toPairs } from 'lodash';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { cleanQuery, parseAsString, serializeString } from 'sonar-ui-common/helpers/query';\nimport { enhanceMeasure } from '../../components/measure/utils';\nimport { isBranch, isPullRequest } from '../../helpers/branch-like';\nimport { getDisplayMetrics, isDiffMetric } from '../../helpers/measures';\nimport { BranchLike } from '../../types/branch-like';\nimport { ComponentQualifier } from '../../types/component';\nimport { bubbles } from './config/bubbles';\nimport { domains } from './config/domains';\n\nexport type View = 'list' | 'tree' | 'treemap';\n\nexport const PROJECT_OVERVEW = 'project_overview';\nexport const DEFAULT_VIEW: View = 'tree';\nexport const DEFAULT_METRIC = PROJECT_OVERVEW;\nexport const KNOWN_DOMAINS = [\n  'Releasability',\n  'Reliability',\n  'Security',\n  'SecurityReview',\n  'Maintainability',\n  'Coverage',\n  'Duplications',\n  'Size',\n  'Complexity'\n];\nconst BANNED_MEASURES = [\n  'blocker_violations',\n  'new_blocker_violations',\n  'critical_violations',\n  'new_critical_violations',\n  'major_violations',\n  'new_major_violations',\n  'minor_violations',\n  'new_minor_violations',\n  'info_violations',\n  'new_info_violations'\n];\n\nexport function filterMeasures(measures: T.MeasureEnhanced[]): T.MeasureEnhanced[] {\n  return measures.filter(measure => !BANNED_MEASURES.includes(measure.metric.key));\n}\n\nexport function sortMeasures(\n  domainName: string,\n  measures: Array<T.MeasureEnhanced | string>\n): Array<T.MeasureEnhanced | string> {\n  const config = domains[domainName] || {};\n  const configOrder = config.order || [];\n  return sortBy(measures, [\n    (item: T.MeasureEnhanced | string) => {\n      if (typeof item === 'string') {\n        return configOrder.indexOf(item);\n      }\n      const idx = configOrder.indexOf(item.metric.key);\n      return idx >= 0 ? idx : configOrder.length;\n    },\n    (item: T.MeasureEnhanced | string) =>\n      typeof item === 'string' ? item : getLocalizedMetricName(item.metric)\n  ]);\n}\n\nexport function addMeasureCategories(domainName: string, measures: T.MeasureEnhanced[]) {\n  const categories = domains[domainName] && domains[domainName].categories;\n  if (categories && categories.length > 0) {\n    return [...categories, ...measures];\n  }\n  return measures;\n}\n\nexport function enhanceComponent(\n  component: T.ComponentMeasure,\n  metric: Pick<T.Metric, 'key'> | undefined,\n  metrics: T.Dict<T.Metric>\n): T.ComponentMeasureEnhanced {\n  if (!component.measures) {\n    return { ...component, measures: [] };\n  }\n\n  const enhancedMeasures = component.measures.map(measure => enhanceMeasure(measure, metrics));\n  const measure = metric && enhancedMeasures.find(measure => measure.metric.key === metric.key);\n  const value = measure && measure.value;\n  const leak = measure && measure.leak;\n  return { ...component, value, leak, measures: enhancedMeasures };\n}\n\nexport function isFileType(component: T.ComponentMeasure): boolean {\n  return [ComponentQualifier.File, ComponentQualifier.TestFile].includes(\n    component.qualifier as ComponentQualifier\n  );\n}\n\nexport function isViewType(component: T.ComponentMeasure): boolean {\n  return [\n    ComponentQualifier.Portfolio,\n    ComponentQualifier.SubPortfolio,\n    ComponentQualifier.Application\n  ].includes(component.qualifier as ComponentQualifier);\n}\n\nexport function banQualityGateMeasure({\n  measures = [],\n  qualifier\n}: T.ComponentMeasure): T.Measure[] {\n  const bannedMetrics: string[] = [];\n  if (ComponentQualifier.Portfolio !== qualifier && ComponentQualifier.SubPortfolio !== qualifier) {\n    bannedMetrics.push('alert_status');\n  }\n  if (qualifier === ComponentQualifier.Application) {\n    bannedMetrics.push('releasability_rating', 'releasability_effort');\n  }\n  return measures.filter(measure => !bannedMetrics.includes(measure.metric));\n}\n\nexport const groupByDomains = memoize((measures: T.MeasureEnhanced[]) => {\n  const domains = toPairs(groupBy(measures, measure => measure.metric.domain)).map(r => ({\n    name: r[0],\n    measures: r[1]\n  }));\n\n  return sortBy(domains, [\n    (domain: { name: string; measures: T.MeasureEnhanced[] }) => {\n      const idx = KNOWN_DOMAINS.indexOf(domain.name);\n      return idx >= 0 ? idx : KNOWN_DOMAINS.length;\n    },\n    'name'\n  ]);\n});\n\nexport function hasList(metric: string): boolean {\n  return !['releasability_rating', 'releasability_effort'].includes(metric);\n}\n\nexport function hasTree(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasTreemap(metric: string, type: string): boolean {\n  return ['PERCENT', 'RATING', 'LEVEL'].includes(type) && hasTree(metric);\n}\n\nexport function hasBubbleChart(domainName: string): boolean {\n  return bubbles[domainName] !== undefined;\n}\n\nexport function hasFacetStat(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasFullMeasures(branch?: BranchLike) {\n  return !branch || isBranch(branch);\n}\n\nexport function getMeasuresPageMetricKeys(metrics: T.Dict<T.Metric>, branch?: BranchLike) {\n  const metricKeys = getDisplayMetrics(Object.values(metrics)).map(metric => metric.key);\n\n  if (isPullRequest(branch)) {\n    return metricKeys.filter(key => isDiffMetric(key));\n  } else {\n    return metricKeys;\n  }\n}\n\nexport function getBubbleMetrics(domain: string, metrics: T.Dict<T.Metric>) {\n  const conf = bubbles[domain];\n  return {\n    x: metrics[conf.x],\n    y: metrics[conf.y],\n    size: metrics[conf.size],\n    colors: conf.colors && conf.colors.map(color => metrics[color])\n  };\n}\n\nexport function getBubbleYDomain(domain: string) {\n  return bubbles[domain].yDomain;\n}\n\nexport function isProjectOverview(metric: string) {\n  return metric === PROJECT_OVERVEW;\n}\n\nfunction parseView(metric: string, rawView?: string): View {\n  const view = (parseAsString(rawView) || DEFAULT_VIEW) as View;\n  if (!hasTree(metric)) {\n    return 'list';\n  } else if (view === 'list' && !hasList(metric)) {\n    return 'tree';\n  }\n  return view;\n}\n\nexport interface Query {\n  metric: string;\n  selected?: string;\n  view: View;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery): Query => {\n    const metric = parseAsString(urlQuery['metric']) || DEFAULT_METRIC;\n    return {\n      metric,\n      selected: parseAsString(urlQuery['selected']),\n      view: parseView(metric, urlQuery['view'])\n    };\n  }\n);\n\nexport const serializeQuery = memoize((query: Query) => {\n  return cleanQuery({\n    metric: query.metric === DEFAULT_METRIC ? undefined : serializeString(query.metric),\n    selected: serializeString(query.selected),\n    view: query.view === DEFAULT_VIEW ? undefined : serializeString(query.view)\n  });\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  displayLeak?: boolean;\n  measure: T.MeasureEnhanced;\n}\n\nexport default function FacetMeasureValue({ measure, displayLeak }: Props) {\n  if (isDiffMetric(measure.metric.key)) {\n    return (\n      <div\n        className={classNames('domain-measures-value', { 'leak-box': displayLeak })}\n        id={`measure-${measure.metric.key}-leak`}>\n        <Measure\n          metricKey={measure.metric.key}\n          metricType={measure.metric.type}\n          value={measure.leak}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"domain-measures-value\" id={`measure-${measure.metric.key}-value`}>\n      <Measure\n        metricKey={measure.metric.key}\n        metricType={measure.metric.type}\n        value={measure.value}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BubblesIcon from 'sonar-ui-common/components/icons/BubblesIcon';\nimport {\n  getLocalizedCategoryMetricName,\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  hasMessage,\n  translate\n} from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport {\n  addMeasureCategories,\n  filterMeasures,\n  hasBubbleChart,\n  hasFacetStat,\n  sortMeasures\n} from '../utils';\nimport FacetMeasureValue from './FacetMeasureValue';\n\ninterface Props {\n  domain: { name: string; measures: T.MeasureEnhanced[] };\n  onChange: (metric: string) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  selected: string;\n  showFullMeasures: boolean;\n}\n\nexport default class DomainFacet extends React.PureComponent<Props> {\n  getValues = () => {\n    const { domain, selected } = this.props;\n    const measureSelected = domain.measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    if (measureSelected) {\n      return [getLocalizedMetricName(measureSelected.metric)];\n    }\n    return overviewSelected ? [translate('component_measures.domain_overview')] : [];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.domain.name);\n  };\n\n  hasFacetSelected = (\n    domain: { name: string },\n    measures: T.MeasureEnhanced[],\n    selected: string\n  ) => {\n    const measureSelected = measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    return measureSelected || overviewSelected;\n  };\n\n  hasOverview = (domain: string) => {\n    return this.props.showFullMeasures && hasBubbleChart(domain);\n  };\n\n  renderItemFacetStat = (item: T.MeasureEnhanced) => {\n    return hasFacetStat(item.metric.key) ? (\n      <FacetMeasureValue displayLeak={this.props.showFullMeasures} measure={item} />\n    ) : null;\n  };\n\n  renderCategoryItem = (item: string) => {\n    return this.props.showFullMeasures || item === 'new_code_category' ? (\n      <span className=\"facet search-navigator-facet facet-category\" key={item}>\n        <span className=\"facet-name\">{translate('component_measures.facet_category', item)}</span>\n      </span>\n    ) : null;\n  };\n\n  renderItemsFacet = () => {\n    const { domain, selected } = this.props;\n    const items = addMeasureCategories(domain.name, filterMeasures(domain.measures));\n    const hasCategories = items.some(item => typeof item === 'string');\n    const translateMetric = hasCategories ? getLocalizedCategoryMetricName : getLocalizedMetricName;\n    let sortedItems = sortMeasures(domain.name, items);\n\n    sortedItems = sortedItems.filter((item, index) => {\n      return (\n        typeof item !== 'string' ||\n        (index + 1 !== sortedItems.length && typeof sortedItems[index + 1] !== 'string')\n      );\n    });\n\n    return sortedItems.map(item =>\n      typeof item === 'string' ? (\n        this.renderCategoryItem(item)\n      ) : (\n        <FacetItem\n          active={item.metric.key === selected}\n          disabled={false}\n          key={item.metric.key}\n          name={\n            <span className=\"big-spacer-left\" id={`measure-${item.metric.key}-name`}>\n              {translateMetric(item.metric)}\n            </span>\n          }\n          onClick={this.props.onChange}\n          stat={this.renderItemFacetStat(item)}\n          tooltip={translateMetric(item.metric)}\n          value={item.metric.key}\n        />\n      )\n    );\n  };\n\n  renderOverviewFacet = () => {\n    const { domain, selected } = this.props;\n    if (!this.hasOverview(domain.name)) {\n      return null;\n    }\n    return (\n      <FacetItem\n        active={domain.name === selected}\n        disabled={false}\n        key={domain.name}\n        name={\n          <span id={`measure-overview-${domain.name}-name`}>\n            {translate('component_measures.domain_overview')}\n          </span>\n        }\n        onClick={this.props.onChange}\n        stat={<BubblesIcon size={14} />}\n        tooltip={translate('component_measures.domain_overview')}\n        value={domain.name}\n      />\n    );\n  };\n\n  render() {\n    const { domain } = this.props;\n    const helperMessageKey = `component_measures.domain_facets.${domain.name}.help`;\n    const helper = hasMessage(helperMessageKey) ? translate(helperMessageKey) : undefined;\n    return (\n      <FacetBox property={domain.name}>\n        <FacetHeader\n          helper={helper}\n          name={getLocalizedMetricDomain(domain.name)}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <FacetItemsList>\n            {this.renderOverviewFacet()}\n            {this.renderItemsFacet()}\n          </FacetItemsList>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\n\ninterface Props {\n  onChange: (metric: string) => void;\n  selected: string;\n  value: string;\n}\n\nexport default function ProjectOverviewFacet({ value, selected, onChange }: Props) {\n  const facetName = translate('component_measures.overview', value, 'facet');\n  return (\n    <FacetBox property={value}>\n      <FacetItemsList>\n        <FacetItem\n          active={value === selected}\n          disabled={false}\n          key={value}\n          name={<strong id={`measure-overview-${value}-name`}>{facetName}</strong>}\n          onClick={onChange}\n          tooltip={facetName}\n          value={value}\n        />\n      </FacetItemsList>\n    </FacetBox>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { groupByDomains, KNOWN_DOMAINS, PROJECT_OVERVEW, Query } from '../utils';\nimport DomainFacet from './DomainFacet';\nimport ProjectOverviewFacet from './ProjectOverviewFacet';\n\ninterface Props {\n  measures: T.MeasureEnhanced[];\n  selectedMetric: string;\n  showFullMeasures: boolean;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface State {\n  openFacets: T.Dict<boolean>;\n}\n\nexport default class Sidebar extends React.PureComponent<Props, State> {\n  static getDerivedStateFromProps(props: Props, state: State) {\n    return { openFacets: getOpenFacets(state.openFacets, props) };\n  }\n\n  state: State = {\n    openFacets: {}\n  };\n\n  toggleFacet = (name: string) => {\n    this.setState(({ openFacets }) => ({\n      openFacets: { ...openFacets, [name]: !openFacets[name] }\n    }));\n  };\n\n  changeMetric = (metric: string) => {\n    this.props.updateQuery({ metric });\n  };\n\n  render() {\n    const { showFullMeasures } = this.props;\n    return (\n      <div>\n        <A11ySkipTarget\n          anchor=\"measures_filters\"\n          label={translate('component_measures.skip_to_filters')}\n          weight={10}\n        />\n        <ProjectOverviewFacet\n          onChange={this.changeMetric}\n          selected={this.props.selectedMetric}\n          value={PROJECT_OVERVEW}\n        />\n        {groupByDomains(this.props.measures).map(domain => (\n          <DomainFacet\n            domain={domain}\n            key={domain.name}\n            onChange={this.changeMetric}\n            onToggle={this.toggleFacet}\n            open={this.state.openFacets[domain.name] === true}\n            selected={this.props.selectedMetric}\n            showFullMeasures={showFullMeasures}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nfunction getOpenFacets(openFacets: T.Dict<boolean>, { measures, selectedMetric }: Props) {\n  const newOpenFacets = { ...openFacets };\n  const measure = measures.find(measure => measure.metric.key === selectedMetric);\n  if (measure && measure.metric && measure.metric.domain) {\n    newOpenFacets[measure.metric.domain] = true;\n  } else if (KNOWN_DOMAINS.includes(selectedMetric)) {\n    newOpenFacets[selectedMetric] = true;\n  }\n  return newOpenFacets;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const complementary: T.Dict<string[]> = {\n  coverage: ['uncovered_lines', 'uncovered_conditions'],\n  line_coverage: ['uncovered_lines'],\n  branch_coverage: ['uncovered_conditions'],\n  uncovered_lines: ['line_coverage'],\n  uncovered_conditions: ['branch_coverage'],\n\n  new_coverage: ['new_uncovered_lines', 'new_uncovered_conditions'],\n  new_line_coverage: ['new_uncovered_lines'],\n  new_branch_coverage: ['new_uncovered_conditions'],\n  new_uncovered_lines: ['new_line_coverage'],\n  new_uncovered_conditions: ['new_branch_coverage'],\n\n  duplicated_lines_density: ['duplicated_lines'],\n  new_duplicated_lines_density: ['new_duplicated_lines'],\n  duplicated_lines: ['duplicated_lines_density'],\n  new_duplicated_lines: ['new_duplicated_lines_density']\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { splitPath } from 'sonar-ui-common/helpers/path';\nimport { getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport {\n  getBranchLikeUrl,\n  getComponentDrilldownUrlWithSelection,\n  getProjectUrl\n} from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { View } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  onClick: (component: string) => void;\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n  view: View;\n}\n\nexport default class ComponentCell extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n\n    if (isLeftClickEvent && !isModifiedEvent) {\n      event.preventDefault();\n      this.props.onClick(this.props.component.key);\n    }\n  };\n\n  renderInner(componentKey: string) {\n    const { component } = this.props;\n    let head = '';\n    let tail = component.name;\n\n    if (\n      this.props.view === 'list' &&\n      ['FIL', 'UTS', 'DIR'].includes(component.qualifier) &&\n      component.path\n    ) {\n      ({ head, tail } = splitPath(component.path));\n    }\n\n    const isApp = this.props.rootComponent.qualifier === 'APP';\n\n    return (\n      <span title={componentKey}>\n        <QualifierIcon className=\"little-spacer-right\" qualifier={component.qualifier} />\n        {head.length > 0 && <span className=\"note\">{head}/</span>}\n        <span>{tail}</span>\n        {isApp && (\n          <>\n            {component.branch ? (\n              <>\n                <BranchIcon className=\"spacer-left little-spacer-right\" />\n                <span className=\"note\">{component.branch}</span>\n              </>\n            ) : (\n              <span className=\"spacer-left badge\">{translate('branches.main_branch')}</span>\n            )}\n          </>\n        )}\n      </span>\n    );\n  }\n\n  render() {\n    const { branchLike, component, metric, rootComponent } = this.props;\n    return (\n      <td className=\"measure-details-component-cell\">\n        <div className=\"text-ellipsis\">\n          {!component.refKey ? (\n            <a\n              className=\"link-no-underline\"\n              href={getPathUrlAsString(\n                getComponentDrilldownUrlWithSelection(\n                  rootComponent.key,\n                  component.key,\n                  metric.key,\n                  branchLike\n                )\n              )}\n              id={'component-measures-component-link-' + component.key}\n              onClick={this.handleClick}>\n              {this.renderInner(component.key)}\n            </a>\n          ) : (\n            <Link\n              className=\"link-no-underline\"\n              id={'component-measures-component-link-' + component.refKey}\n              to={\n                this.props.rootComponent.qualifier === 'APP'\n                  ? getProjectUrl(component.refKey, component.branch)\n                  : getBranchLikeUrl(component.refKey, branchLike)\n              }>\n              <span className=\"big-spacer-right\">\n                <LinkIcon />\n              </span>\n              {this.renderInner(component.refKey)}\n            </Link>\n          )}\n        </div>\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  component: T.ComponentMeasureEnhanced;\n  measure?: T.MeasureEnhanced;\n  metric: T.Metric;\n}\n\nexport default function MeasureCell({ component, measure, metric }: Props) {\n  const getValue = (item: { leak?: string; value?: string }) =>\n    isDiffMetric(metric.key) ? item.leak : item.value;\n\n  const value = getValue(measure || component);\n\n  return (\n    <td className=\"thin nowrap text-right\">\n      <span id={`component-measures-component-measure-${component.key}-${metric.key}`}>\n        <Measure metricKey={metric.key} metricType={metric.type} value={value} />\n      </span>\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { View } from '../utils';\nimport ComponentCell from './ComponentCell';\nimport MeasureCell from './MeasureCell';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  isSelected: boolean;\n  onClick: (component: string) => void;\n  otherMetrics: T.Metric[];\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n  view: View;\n}\n\nexport default function ComponentsListRow(props: Props) {\n  const { branchLike, component, rootComponent } = props;\n  const otherMeasures = props.otherMetrics.map(metric => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    return { ...measure, metric };\n  });\n  const rowClass = classNames('measure-details-component-row', {\n    selected: props.isSelected\n  });\n  return (\n    <tr className={rowClass}>\n      <ComponentCell\n        branchLike={branchLike}\n        component={component}\n        metric={props.metric}\n        onClick={props.onClick}\n        rootComponent={rootComponent}\n        view={props.view}\n      />\n\n      <MeasureCell component={component} metric={props.metric} />\n\n      {otherMeasures.map(measure => (\n        <MeasureCell\n          component={component}\n          key={measure.metric.key}\n          measure={measure}\n          metric={measure.metric}\n        />\n      ))}\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function EmptyResult() {\n  return <div className=\"note\">{translate('no_results')}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { BranchLike } from '../../../types/branch-like';\nimport { complementary } from '../config/complementary';\nimport { View } from '../utils';\nimport ComponentsListRow from './ComponentsListRow';\nimport EmptyResult from './EmptyResult';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  onClick: (component: string) => void;\n  metric: T.Metric;\n  metrics: T.Dict<T.Metric>;\n  rootComponent: T.ComponentMeasure;\n  selectedComponent?: string;\n  view: View;\n}\n\nexport default function ComponentsList({ components, metric, metrics, ...props }: Props) {\n  if (!components.length) {\n    return <EmptyResult />;\n  }\n\n  const otherMetrics = (complementary[metric.key] || []).map(key => metrics[key]);\n  return (\n    <table className=\"data zebra zebra-hover\">\n      {otherMetrics.length > 0 && (\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-right\">\n              <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n            </th>\n            {otherMetrics.map(metric => (\n              <th className=\"text-right\" key={metric.key}>\n                <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n              </th>\n            ))}\n          </tr>\n        </thead>\n      )}\n\n      <tbody>\n        {components.map(component => (\n          <ComponentsListRow\n            component={component}\n            isSelected={component.key === props.selectedComponent}\n            key={component.key}\n            metric={metric}\n            otherMetrics={otherMetrics}\n            {...props}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { isDiffMetric, isPeriodBestValue } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { View } from '../utils';\nimport ComponentsList from './ComponentsList';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  defaultShowBestMeasures: boolean;\n  fetchMore: () => void;\n  handleSelect: (component: string) => void;\n  handleOpen: (component: string) => void;\n  loadingMore: boolean;\n  metric: T.Metric;\n  metrics: T.Dict<T.Metric>;\n  paging?: T.Paging;\n  rootComponent: T.ComponentMeasure;\n  selectedKey?: string;\n  selectedIdx?: number;\n  view: View;\n}\n\ninterface State {\n  showBestMeasures: boolean;\n}\n\nconst keyScope = 'measures-files';\n\nexport default class FilesView extends React.PureComponent<Props, State> {\n  listContainer?: HTMLElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { showBestMeasures: props.defaultShowBestMeasures };\n    this.selectNext = throttle(this.selectNext, 100);\n    this.selectPrevious = throttle(this.selectPrevious, 100);\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n    if (this.props.selectedKey !== undefined) {\n      this.scrollToElement();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selectedKey !== undefined && prevProps.selectedKey !== this.props.selectedKey) {\n      this.scrollToElement();\n    }\n    if (prevProps.metric.key !== this.props.metric.key || prevProps.view !== this.props.view) {\n      this.setState({ showBestMeasures: this.props.defaultShowBestMeasures });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('up', keyScope, () => {\n      this.selectPrevious();\n      return false;\n    });\n    key('down', keyScope, () => {\n      this.selectNext();\n      return false;\n    });\n    key('right', keyScope, () => {\n      this.openSelected();\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    ['up', 'down', 'right'].forEach(action => key.unbind(action, keyScope));\n  }\n\n  getVisibleComponents = () => {\n    const { components } = this.props;\n    if (this.state.showBestMeasures) {\n      return components;\n    }\n    const filtered = components.filter(component => !this.hasBestValue(component));\n    if (filtered.length === 0) {\n      return components;\n    }\n    return filtered;\n  };\n\n  handleShowBestMeasures = () => {\n    this.setState({ showBestMeasures: true });\n  };\n\n  hasBestValue = (component: T.ComponentMeasureEnhanced) => {\n    const { metric } = this.props;\n    const focusedMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (focusedMeasure && isDiffMetric(metric.key)) {\n      return isPeriodBestValue(focusedMeasure, 1);\n    }\n    return Boolean(focusedMeasure && focusedMeasure.bestValue);\n  };\n\n  openSelected = () => {\n    if (this.props.selectedKey !== undefined) {\n      this.props.handleOpen(this.props.selectedKey);\n    }\n  };\n\n  selectPrevious = () => {\n    const { selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents();\n    if (selectedIdx !== undefined && selectedIdx > 0) {\n      this.props.handleSelect(visibleComponents[selectedIdx - 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[visibleComponents.length - 1].key);\n    }\n  };\n\n  selectNext = () => {\n    const { selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents();\n    if (selectedIdx !== undefined && selectedIdx < visibleComponents.length - 1) {\n      this.props.handleSelect(visibleComponents[selectedIdx + 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[0].key);\n    }\n  };\n\n  scrollToElement = () => {\n    if (this.listContainer) {\n      const elem = this.listContainer.getElementsByClassName('selected')[0];\n      if (elem) {\n        scrollToElement(elem, { topOffset: 215, bottomOffset: 100 });\n      }\n    }\n  };\n\n  render() {\n    const { components } = this.props;\n    const filteredComponents = this.getVisibleComponents();\n    const hidingBestMeasures = filteredComponents.length < components.length;\n    return (\n      <div ref={elem => (this.listContainer = elem)}>\n        <ComponentsList\n          branchLike={this.props.branchLike}\n          components={filteredComponents}\n          metric={this.props.metric}\n          metrics={this.props.metrics}\n          onClick={this.props.handleOpen}\n          rootComponent={this.props.rootComponent}\n          selectedComponent={this.props.selectedKey}\n          view={this.props.view}\n        />\n        {hidingBestMeasures && this.props.paging && (\n          <Alert className=\"spacer-top\" variant=\"info\">\n            <div className=\"display-flex-center\">\n              {translateWithParameters(\n                'component_measures.hidden_best_score_metrics',\n                formatMeasure(this.props.paging.total - filteredComponents.length, 'INT'),\n                formatMeasure(this.props.metric.bestValue, this.props.metric.type)\n              )}\n              <Button className=\"button-small spacer-left\" onClick={this.handleShowBestMeasures}>\n                {translate('show_them')}\n              </Button>\n            </div>\n          </Alert>\n        )}\n        {!hidingBestMeasures && this.props.paging && this.props.components.length > 0 && (\n          <ListFooter\n            count={this.props.components.length}\n            loadMore={this.props.fetchMore}\n            loading={this.props.loadingMore}\n            total={this.props.paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { ScaleLinear, ScaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport './ColorBoxLegend.css';\n\ninterface Props {\n  className?: string;\n  colorNA?: string;\n  colorScale:\n    | ScaleOrdinal<string, string> // used for LEVEL type\n    | ScaleLinear<string, string | number>; // used for RATING or PERCENT type\n  metricType: string;\n}\n\nexport default function ColorBoxLegend({ className, colorScale, colorNA, metricType }: Props) {\n  const colorDomain: Array<number | string> = colorScale.domain();\n  const colorRange = colorScale.range();\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {colorDomain.map((value, idx) => (\n        <div key={value}>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorRange[idx] }}>\n            <span\n              className=\"color-box-legend-rect-inner\"\n              style={{ backgroundColor: colorRange[idx] }}\n            />\n          </span>\n          {formatMeasure(value, metricType)}\n        </div>\n      ))}\n      {colorNA && (\n        <div>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorNA }}>\n            <span className=\"color-box-legend-rect-inner\" style={{ backgroundColor: colorNA }} />\n          </span>\n          N/A\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { scaleLinear, scaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport ColorGradientLegend from 'sonar-ui-common/components/charts/ColorGradientLegend';\nimport TreeMap, { TreeMapItem } from 'sonar-ui-common/components/charts/TreeMap';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport {\n  getLocalizedMetricName,\n  translate,\n  translateWithParameters\n} from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { colors } from '../../../app/theme';\nimport ColorBoxLegend from '../../../components/charts/ColorBoxLegend';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\nimport EmptyResult from './EmptyResult';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  handleSelect: (component: string) => void;\n  metric: T.Metric;\n}\n\ninterface State {\n  treemapItems: TreeMapItem[];\n}\n\nconst HEIGHT = 500;\nconst COLORS = [colors.green, colors.lightGreen, colors.yellow, colors.orange, colors.red];\nconst LEVEL_COLORS = [colors.red, colors.orange, colors.green, colors.gray71];\n\nexport default class TreeMapView extends React.PureComponent<Props, State> {\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { treemapItems: this.getTreemapComponents(props) };\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.components !== this.props.components || prevProps.metric !== this.props.metric) {\n      this.setState({ treemapItems: this.getTreemapComponents(this.props) });\n    }\n  }\n\n  getTreemapComponents = ({ components, metric }: Props) => {\n    const colorScale = this.getColorScale(metric);\n    return components\n      .map(component => {\n        const colorMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n        const sizeMeasure = component.measures.find(measure => measure.metric.key !== metric.key);\n        if (!sizeMeasure) {\n          return undefined;\n        }\n        const colorValue =\n          colorMeasure && (isDiffMetric(metric.key) ? colorMeasure.leak : colorMeasure.value);\n        const rawSizeValue = isDiffMetric(sizeMeasure.metric.key)\n          ? sizeMeasure.leak\n          : sizeMeasure.value;\n        if (rawSizeValue === undefined) {\n          return undefined;\n        }\n\n        const sizeValue = Number(rawSizeValue);\n        if (sizeValue < 1) {\n          return undefined;\n        }\n        return {\n          color:\n            colorValue !== undefined\n              ? (colorScale as Function)(colorValue)\n              : colors.secondFontColor,\n          icon: <QualifierIcon fill={colors.baseFontColor} qualifier={component.qualifier} />,\n          key: component.refKey || component.key,\n          label: component.name,\n          size: sizeValue,\n          tooltip: this.getTooltip({\n            colorMetric: metric,\n            colorValue,\n            componentName: component.name,\n            sizeMetric: sizeMeasure.metric,\n            sizeValue\n          })\n        };\n      })\n      .filter(isDefined);\n  };\n\n  getLevelColorScale = () =>\n    scaleOrdinal<string, string>()\n      .domain(['ERROR', 'WARN', 'OK', 'NONE'])\n      .range(LEVEL_COLORS);\n\n  getPercentColorScale = (metric: T.Metric) => {\n    const color = scaleLinear<string, string>().domain([0, 25, 50, 75, 100]);\n    color.range(metric.higherValuesAreBetter ? [...COLORS].reverse() : COLORS);\n    return color;\n  };\n\n  getRatingColorScale = () =>\n    scaleLinear<string, string>()\n      .domain([1, 2, 3, 4, 5])\n      .range(COLORS);\n\n  getColorScale = (metric: T.Metric) => {\n    if (metric.type === 'LEVEL') {\n      return this.getLevelColorScale();\n    }\n    if (metric.type === 'RATING') {\n      return this.getRatingColorScale();\n    }\n    return this.getPercentColorScale(metric);\n  };\n\n  getTooltip = ({\n    colorMetric,\n    colorValue,\n    componentName,\n    sizeMetric,\n    sizeValue\n  }: {\n    colorMetric: T.Metric;\n    colorValue?: string;\n    componentName: string;\n    sizeMetric: T.Metric;\n    sizeValue: number;\n  }) => {\n    const formatted =\n      colorMetric && colorValue !== undefined ? formatMeasure(colorValue, colorMetric.type) : '';\n    return (\n      <div className=\"text-left\">\n        {componentName}\n        <br />\n        {`${getLocalizedMetricName(sizeMetric)}: ${formatMeasure(sizeValue, sizeMetric.type)}`}\n        <br />\n        {`${getLocalizedMetricName(colorMetric)}: ${formatted}`}\n      </div>\n    );\n  };\n\n  renderLegend() {\n    const { metric } = this.props;\n    const colorScale = this.getColorScale(metric);\n    if (['LEVEL', 'RATING'].includes(metric.type)) {\n      return (\n        <ColorBoxLegend\n          className=\"measure-details-treemap-legend color-box-full\"\n          colorScale={colorScale}\n          metricType={metric.type}\n        />\n      );\n    }\n    return (\n      <ColorGradientLegend\n        className=\"measure-details-treemap-legend\"\n        colorNA={colors.secondFontColor}\n        colorScale={colorScale}\n        height={20}\n        width={200}\n      />\n    );\n  }\n\n  render() {\n    const { treemapItems } = this.state;\n    if (treemapItems.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { components, metric } = this.props;\n    const sizeMeasure =\n      components.length > 0\n        ? components[0].measures.find(measure => measure.metric.key !== metric.key)\n        : null;\n    return (\n      <div className=\"measure-details-treemap\">\n        <ul className=\"list-inline note spacer-bottom\">\n          <li>\n            {translateWithParameters(\n              'component_measures.legend.color_x',\n              getLocalizedMetricName(metric)\n            )}\n          </li>\n          <li>\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              translate(\n                'metric',\n                sizeMeasure && sizeMeasure.metric ? sizeMeasure.metric.key : MetricKey.ncloc,\n                'name'\n              )\n            )}\n          </li>\n          <li className=\"pull-right\">{this.renderLegend()}</li>\n        </ul>\n        <AutoSizer disableHeight={true}>\n          {({ width }) => (\n            <TreeMap\n              height={HEIGHT}\n              items={treemapItems}\n              onRectangleClick={this.props.handleSelect}\n              width={width}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { collapsePath, limitComponentName } from 'sonar-ui-common/helpers/path';\n\ninterface Props {\n  canBrowse: boolean;\n  component: T.ComponentMeasure;\n  isLast: boolean;\n  handleSelect: (component: string) => void;\n}\n\nexport default class Breadcrumb extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.handleSelect(this.props.component.key);\n  };\n\n  render() {\n    const { canBrowse, component, isLast } = this.props;\n    const isPath = component.qualifier === 'DIR';\n    const componentName = isPath\n      ? collapsePath(component.name, 15)\n      : limitComponentName(component.name);\n    const breadcrumbItem = canBrowse ? (\n      <a href=\"#\" onClick={this.handleClick}>\n        {componentName}\n      </a>\n    ) : (\n      <span>{componentName}</span>\n    );\n\n    return (\n      <span>\n        <Tooltip overlay={component.name !== componentName ? component.name : undefined}>\n          {breadcrumbItem}\n        </Tooltip>\n        {!isLast && <span className=\"slash-separator\" />}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { getBreadcrumbs } from '../../../api/components';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport Breadcrumb from './Breadcrumb';\n\ninterface Props {\n  backToFirst: boolean;\n  branchLike?: BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  handleSelect: (component: string) => void;\n  rootComponent: T.ComponentMeasure;\n}\n\ninterface State {\n  breadcrumbs: T.ComponentMeasure[];\n}\n\nexport default class Breadcrumbs extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { breadcrumbs: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBreadcrumbs();\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      this.props.component !== prevProps.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.fetchBreadcrumbs();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('left', 'measures-files', () => {\n      const { breadcrumbs } = this.state;\n      if (breadcrumbs.length > 1) {\n        const idx = this.props.backToFirst ? 0 : breadcrumbs.length - 2;\n        this.props.handleSelect(breadcrumbs[idx].key);\n      }\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    key.unbind('left', 'measures-files');\n  }\n\n  fetchBreadcrumbs = () => {\n    const { branchLike, component, rootComponent } = this.props;\n    const isRoot = component.key === rootComponent.key;\n    if (isRoot) {\n      if (this.mounted) {\n        this.setState({ breadcrumbs: [component] });\n      }\n      return;\n    }\n    getBreadcrumbs({ component: component.key, ...getBranchLikeQuery(branchLike) }).then(\n      breadcrumbs => {\n        if (this.mounted) {\n          this.setState({ breadcrumbs });\n        }\n      },\n      () => {}\n    );\n  };\n\n  render() {\n    const { breadcrumbs } = this.state;\n    if (breadcrumbs.length <= 0) {\n      return null;\n    }\n    const lastItem = breadcrumbs[breadcrumbs.length - 1];\n    return (\n      <div className={this.props.className}>\n        {breadcrumbs.map(component => (\n          <Breadcrumb\n            canBrowse={component.key !== lastItem.key}\n            component={component}\n            handleSelect={this.props.handleSelect}\n            isLast={component.key === lastItem.key}\n            key={component.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  left: React.ReactNode;\n  right: React.ReactNode;\n}\n\nexport default function MeasureContentHeader({ left, right }: Props) {\n  return (\n    <div className=\"measure-content-header\">\n      <div className=\"measure-content-header-left\">{left}</div>\n      <div className=\"measure-content-header-right\">{right}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport Histogram from 'sonar-ui-common/components/charts/Histogram';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages: T.Languages;\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      width={props.width}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = props.languages[langKey];\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getLanguages, Store } from '../../store/rootReducer';\nimport LanguageDistribution from './LanguageDistribution';\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(LanguageDistribution);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as differenceInDays from 'date-fns/difference_in_days';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DateFormatter, { longFormatterOption } from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport DateTimeFormatter, {\n  formatterOption\n} from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getPeriodDate, getPeriodLabel } from '../../../helpers/periods';\n\ninterface Props {\n  className?: string;\n  component: T.ComponentMeasure;\n  period: T.Period;\n}\n\nexport class LeakPeriodLegend extends React.PureComponent<Props & InjectedIntlProps> {\n  formatDate = (date: string) => {\n    return this.props.intl.formatDate(date, longFormatterOption);\n  };\n\n  formatDateTime = (date: string) => {\n    return this.props.intl.formatTime(date, formatterOption);\n  };\n\n  render() {\n    const { className, component, period } = this.props;\n    const leakClass = classNames('domain-measures-header leak-box', className);\n    if (component.qualifier === 'APP') {\n      return <div className={leakClass}>{translate('issues.new_code_period')}</div>;\n    }\n\n    const leakPeriodLabel = getPeriodLabel(\n      period,\n      period.mode === 'manual_baseline' ? this.formatDateTime : this.formatDate\n    );\n    if (!leakPeriodLabel) {\n      return null;\n    }\n\n    const label = (\n      <div className={leakClass}>\n        {translateWithParameters('overview.new_code_period_x', leakPeriodLabel)}\n      </div>\n    );\n\n    if (period.mode === 'days' || period.mode === 'NUMBER_OF_DAYS') {\n      return label;\n    }\n\n    const date = getPeriodDate(period);\n    const tooltip = date && (\n      <div>\n        <DateFromNow date={date} />\n        {', '}\n        {differenceInDays(new Date(), date) < 1 ? (\n          <DateTimeFormatter date={date} />\n        ) : (\n          <DateFormatter date={date} long={true} />\n        )}\n      </div>\n    );\n\n    return <Tooltip overlay={tooltip}>{label}</Tooltip>;\n  }\n}\n\nexport default injectIntl(LeakPeriodLegend);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HistoryIcon from 'sonar-ui-common/components/icons/HistoryIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { hasFullMeasures } from '../utils';\nimport LeakPeriodLegend from './LeakPeriodLegend';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasure;\n  leakPeriod?: T.Period;\n  measureValue?: string;\n  metric: T.Metric;\n  secondaryMeasure?: T.Measure;\n}\n\nexport default function MeasureHeader(props: Props) {\n  const { branchLike, component, leakPeriod, measureValue, metric, secondaryMeasure } = props;\n  const isDiff = isDiffMetric(metric.key);\n  const hasHistory =\n    ['VW', 'SVW', 'APP', 'TRK'].includes(component.qualifier) && hasFullMeasures(branchLike);\n  const displayLeak = hasFullMeasures(branchLike);\n  return (\n    <div className=\"measure-details-header big-spacer-bottom\">\n      <div className=\"measure-details-primary\">\n        <div className=\"measure-details-metric\">\n          <IssueTypeIcon className=\"little-spacer-right text-text-bottom\" query={metric.key} />\n          {getLocalizedMetricName(metric)}\n          <span className=\"measure-details-value spacer-left\">\n            <strong>\n              <Measure\n                className={isDiff && displayLeak ? 'leak-box' : undefined}\n                metricKey={metric.key}\n                metricType={metric.type}\n                value={measureValue}\n              />\n            </strong>\n          </span>\n          {!isDiff && hasHistory && (\n            <Tooltip overlay={translate('component_measures.show_metric_history')}>\n              <Link\n                className=\"js-show-history spacer-left button button-small\"\n                to={getMeasureHistoryUrl(component.key, metric.key, branchLike)}>\n                <HistoryIcon />\n              </Link>\n            </Tooltip>\n          )}\n        </div>\n        <div className=\"measure-details-primary-actions\">\n          {displayLeak && leakPeriod && (\n            <LeakPeriodLegend className=\"spacer-left\" component={component} period={leakPeriod} />\n          )}\n        </div>\n      </div>\n      {secondaryMeasure &&\n        secondaryMeasure.metric === 'ncloc_language_distribution' &&\n        secondaryMeasure.value !== undefined && (\n          <div className=\"measure-details-secondary\">\n            <LanguageDistributionContainer\n              alignTicks={true}\n              distribution={secondaryMeasure.value}\n              width={260}\n            />\n          </div>\n        )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport ListIcon from 'sonar-ui-common/components/icons/ListIcon';\nimport TreeIcon from 'sonar-ui-common/components/icons/TreeIcon';\nimport TreemapIcon from 'sonar-ui-common/components/icons/TreemapIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { hasList, hasTree, hasTreemap, View } from '../utils';\n\ninterface Props {\n  className?: string;\n  metric: T.Metric;\n  handleViewChange: (view: View) => void;\n  view: View;\n}\n\nexport default class MeasureViewSelect extends React.PureComponent<Props> {\n  getOptions = () => {\n    const { metric } = this.props;\n    const options = [];\n    if (hasTree(metric.key)) {\n      options.push({\n        icon: <TreeIcon />,\n        label: translate('component_measures.tab.tree'),\n        value: 'tree'\n      });\n    }\n    if (hasList(metric.key)) {\n      options.push({\n        icon: <ListIcon />,\n        label: translate('component_measures.tab.list'),\n        value: 'list'\n      });\n    }\n    if (hasTreemap(metric.key, metric.type)) {\n      options.push({\n        icon: <TreemapIcon />,\n        label: translate('component_measures.tab.treemap'),\n        value: 'treemap'\n      });\n    }\n    return options;\n  };\n\n  handleChange = (option: { value: string }) => {\n    return this.props.handleViewChange(option.value as View);\n  };\n\n  renderOption = (option: { icon: JSX.Element; label: string }) => {\n    return (\n      <>\n        {option.icon}\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <Select\n        autoBlur={true}\n        className={this.props.className}\n        clearable={false}\n        onChange={this.handleChange}\n        optionRenderer={this.renderOption}\n        options={this.getOptions()}\n        searchable={false}\n        value={this.props.view}\n        valueRenderer={this.renderOption}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport PageActions from 'sonar-ui-common/components/ui/PageActions';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { RequestData } from 'sonar-ui-common/helpers/request';\nimport { getComponentTree } from '../../../api/components';\nimport { getMeasures } from '../../../api/measures';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { getPeriodValue, isDiffMetric } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\nimport { complementary } from '../config/complementary';\nimport FilesView from '../drilldown/FilesView';\nimport TreeMapView from '../drilldown/TreeMapView';\nimport { enhanceComponent, isFileType, isViewType, Query, View } from '../utils';\nimport Breadcrumbs from './Breadcrumbs';\nimport MeasureContentHeader from './MeasureContentHeader';\nimport MeasureHeader from './MeasureHeader';\nimport MeasureViewSelect from './MeasureViewSelect';\n\ninterface Props {\n  branchLike?: BranchLike;\n  leakPeriod?: T.Period;\n  requestedMetric: Pick<T.Metric, 'key' | 'direction'>;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n  view: View;\n}\n\ninterface State {\n  baseComponent?: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  loadingMoreComponents: boolean;\n  measure?: T.Measure;\n  metric?: T.Metric;\n  paging?: T.Paging;\n  secondaryMeasure?: T.Measure;\n  selected?: string;\n}\n\nexport default class MeasureContent extends React.PureComponent<Props, State> {\n  container?: HTMLElement | null;\n  mounted = false;\n  state: State = {\n    components: [],\n    loadingMoreComponents: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponentTree();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const prevComponentKey = prevProps.selected || prevProps.rootComponent.key;\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    if (\n      prevComponentKey !== componentKey ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.requestedMetric !== this.props.requestedMetric ||\n      prevProps.view !== this.props.view\n    ) {\n      this.fetchComponentTree();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponentTree = () => {\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(\n      this.props.view,\n      this.props.requestedMetric\n    );\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    const baseComponentMetrics = [this.props.requestedMetric.key];\n    if (this.props.requestedMetric.key === MetricKey.ncloc) {\n      baseComponentMetrics.push('ncloc_language_distribution');\n    }\n    Promise.all([\n      getComponentTree(strategy, componentKey, metricKeys, opts),\n      getMeasures({\n        component: componentKey,\n        metricKeys: baseComponentMetrics.join(),\n        ...getBranchLikeQuery(this.props.branchLike)\n      })\n    ]).then(([tree, measures]) => {\n      if (this.mounted) {\n        const metric = tree.metrics.find(m => m.key === this.props.requestedMetric.key);\n        const components = tree.components.map(component =>\n          enhanceComponent(component, metric, this.props.metrics)\n        );\n\n        const measure = measures.find(measure => measure.metric === this.props.requestedMetric.key);\n        const secondaryMeasure = measures.find(\n          measure => measure.metric !== this.props.requestedMetric.key\n        );\n\n        this.setState(({ selected }) => ({\n          baseComponent: tree.baseComponent,\n          components,\n          measure,\n          metric,\n          paging: tree.paging,\n          secondaryMeasure,\n          selected:\n            components.length > 0 && components.find(c => c.key === selected) ? selected : undefined\n        }));\n      }\n    });\n  };\n\n  fetchMoreComponents = () => {\n    const { metrics, view } = this.props;\n    const { baseComponent, metric, paging } = this.state;\n    if (!baseComponent || !paging || !metric) {\n      return;\n    }\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(view, metric, {\n      p: paging.pageIndex + 1\n    });\n    this.setState({ loadingMoreComponents: true });\n    getComponentTree(strategy, baseComponent.key, metricKeys, opts).then(\n      r => {\n        if (this.mounted && metric.key === this.props.requestedMetric.key) {\n          this.setState(state => ({\n            components: [\n              ...state.components,\n              ...r.components.map(component => enhanceComponent(component, metric, metrics))\n            ],\n            loadingMoreComponents: false,\n            paging: r.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMoreComponents: false });\n        }\n      }\n    );\n  };\n\n  getComponentRequestParams(\n    view: View,\n    metric: Pick<T.Metric, 'key' | 'direction'>,\n    options: Object = {}\n  ) {\n    const strategy = view === 'list' ? 'leaves' : 'children';\n    const metricKeys = [metric.key];\n    const opts: RequestData = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      additionalFields: 'metrics',\n      ps: 500\n    };\n\n    const setMetricSort = () => {\n      const isDiff = isDiffMetric(metric.key);\n      opts.s = isDiff ? 'metricPeriod' : 'metric';\n      opts.metricSortFilter = 'withMeasuresOnly';\n      if (isDiff) {\n        opts.metricPeriodSort = 1;\n      }\n    };\n\n    const isDiff = isDiffMetric(metric.key);\n    if (view === 'tree') {\n      metricKeys.push(...(complementary[metric.key] || []));\n      opts.asc = true;\n      opts.s = 'qualifier,name';\n    } else if (view === 'list') {\n      metricKeys.push(...(complementary[metric.key] || []));\n      opts.asc = metric.direction === 1;\n      opts.metricSort = metric.key;\n      setMetricSort();\n    } else if (view === 'treemap') {\n      const sizeMetric = isDiff ? 'new_lines' : 'ncloc';\n      metricKeys.push(sizeMetric);\n      opts.asc = false;\n      opts.metricSort = sizeMetric;\n      setMetricSort();\n    }\n\n    return { metricKeys, opts: { ...opts, ...options }, strategy };\n  }\n\n  updateSelected = (component: string) => {\n    this.props.updateQuery({\n      selected: component !== this.props.rootComponent.key ? component : undefined\n    });\n  };\n\n  updateView = (view: View) => {\n    this.props.updateQuery({ view });\n  };\n\n  onOpenComponent = (componentKey: string) => {\n    if (isViewType(this.props.rootComponent)) {\n      const component = this.state.components.find(\n        component => component.refKey === componentKey || component.key === componentKey\n      );\n      if (component && component.refKey !== undefined) {\n        if (this.props.view === 'treemap') {\n          this.props.router.push(getProjectUrl(componentKey));\n        }\n        return;\n      }\n    }\n    this.setState(state => ({ selected: state.baseComponent!.key }));\n    this.updateSelected(componentKey);\n    if (this.container) {\n      this.container.focus();\n    }\n  };\n\n  onSelectComponent = (componentKey: string) => {\n    this.setState({ selected: componentKey });\n  };\n\n  getSelectedIndex = () => {\n    const componentKey = isFileType(this.state.baseComponent!)\n      ? this.state.baseComponent!.key\n      : this.state.selected;\n    const index = this.state.components.findIndex(component => component.key === componentKey);\n    return index !== -1 ? index : undefined;\n  };\n\n  renderMeasure() {\n    const { view } = this.props;\n    const { metric } = this.state;\n    if (!metric) {\n      return null;\n    }\n    if (view === 'tree' || view === 'list') {\n      const selectedIdx = this.getSelectedIndex();\n      return (\n        <FilesView\n          branchLike={this.props.branchLike}\n          components={this.state.components}\n          defaultShowBestMeasures={view === 'tree'}\n          fetchMore={this.fetchMoreComponents}\n          handleOpen={this.onOpenComponent}\n          handleSelect={this.onSelectComponent}\n          loadingMore={this.state.loadingMoreComponents}\n          metric={metric}\n          metrics={this.props.metrics}\n          paging={this.state.paging}\n          rootComponent={this.props.rootComponent}\n          selectedIdx={selectedIdx}\n          selectedKey={selectedIdx !== undefined ? this.state.selected : undefined}\n          view={view}\n        />\n      );\n    } else {\n      return (\n        <TreeMapView\n          branchLike={this.props.branchLike}\n          components={this.state.components}\n          handleSelect={this.onOpenComponent}\n          metric={metric}\n        />\n      );\n    }\n  }\n\n  render() {\n    const { branchLike, rootComponent, view } = this.props;\n    const { baseComponent, measure, metric, paging, secondaryMeasure } = this.state;\n\n    if (!baseComponent || !metric) {\n      return null;\n    }\n\n    const measureValue =\n      measure && (isDiffMetric(measure.metric) ? getPeriodValue(measure, 1) : measure.value);\n    const isFile = isFileType(baseComponent);\n    const selectedIdx = this.getSelectedIndex();\n\n    return (\n      <div className=\"layout-page-main no-outline\" ref={container => (this.container = container)}>\n        <A11ySkipTarget anchor=\"measures_main\" />\n\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <MeasureContentHeader\n                left={\n                  <Breadcrumbs\n                    backToFirst={view === 'list'}\n                    branchLike={branchLike}\n                    className=\"text-ellipsis flex-1\"\n                    component={baseComponent}\n                    handleSelect={this.onOpenComponent}\n                    rootComponent={rootComponent}\n                  />\n                }\n                right={\n                  <div className=\"display-flex-center\">\n                    {!isFile && metric && (\n                      <>\n                        <div>{translate('component_measures.view_as')}</div>\n                        <MeasureViewSelect\n                          className=\"measure-view-select spacer-left big-spacer-right\"\n                          handleViewChange={this.updateView}\n                          metric={metric}\n                          view={view}\n                        />\n\n                        <PageActions\n                          current={\n                            selectedIdx !== undefined && view !== 'treemap'\n                              ? selectedIdx + 1\n                              : undefined\n                          }\n                          showShortcuts={['list', 'tree'].includes(view)}\n                          total={paging && paging.total}\n                        />\n                      </>\n                    )}\n                  </div>\n                }\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"layout-page-main-inner measure-details-content\">\n          <MeasureHeader\n            branchLike={branchLike}\n            component={baseComponent}\n            leakPeriod={this.props.leakPeriod}\n            measureValue={measureValue}\n            metric={metric}\n            secondaryMeasure={secondaryMeasure}\n          />\n          {isFile ? (\n            <div className=\"measure-details-viewer\">\n              <SourceViewer\n                branchLike={branchLike}\n                component={baseComponent.key}\n                onIssueChange={this.props.onIssueChange}\n              />\n            </div>\n          ) : (\n            this.renderMeasure()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OriginalBubbleChart from 'sonar-ui-common/components/charts/BubbleChart';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport {\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  translate,\n  translateWithParameters\n} from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport ColorRatingsLegend from '../../../components/charts/ColorRatingsLegend';\nimport { RATING_COLORS } from '../../../helpers/constants';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getBubbleMetrics, getBubbleYDomain, isProjectOverview } from '../utils';\nimport EmptyResult from './EmptyResult';\n\nconst HEIGHT = 500;\n\ninterface Props {\n  component: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  domain: string;\n  metrics: T.Dict<T.Metric>;\n  updateSelected: (component: string) => void;\n}\n\nexport default class BubbleChart extends React.PureComponent<Props> {\n  getMeasureVal = (component: T.ComponentMeasureEnhanced, metric: T.Metric) => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (!measure) {\n      return undefined;\n    }\n    return Number(isDiffMetric(metric.key) ? measure.leak : measure.value);\n  };\n\n  getTooltip(\n    componentName: string,\n    values: { x: number; y: number; size: number; colors?: Array<number | undefined> },\n    metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }\n  ) {\n    const inner = [\n      componentName,\n      `${metrics.x.name}: ${formatMeasure(values.x, metrics.x.type)}`,\n      `${metrics.y.name}: ${formatMeasure(values.y, metrics.y.type)}`,\n      `${metrics.size.name}: ${formatMeasure(values.size, metrics.size.type)}`\n    ];\n    const { colors: valuesColors } = values;\n    const { colors: metricColors } = metrics;\n    if (valuesColors && metricColors) {\n      metricColors.forEach((metric, idx) => {\n        const colorValue = valuesColors[idx];\n        if (colorValue || colorValue === 0) {\n          inner.push(`${metric.name}: ${formatMeasure(colorValue, metric.type)}`);\n        }\n      });\n    }\n    return (\n      <div className=\"text-left\">\n        {inner.map((line, index) => (\n          <React.Fragment key={index}>\n            {line}\n            {index < inner.length - 1 && <br />}\n          </React.Fragment>\n        ))}\n      </div>\n    );\n  }\n\n  handleBubbleClick = (component: T.ComponentMeasureEnhanced) =>\n    this.props.updateSelected(component.refKey || component.key);\n\n  getDescription(domain: string) {\n    const description = `component_measures.overview.${domain}.description`;\n    const translatedDescription = translate(description);\n    if (description === translatedDescription) {\n      return null;\n    }\n    return translatedDescription;\n  }\n\n  renderBubbleChart(metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }) {\n    const items = this.props.components\n      .map(component => {\n        const x = this.getMeasureVal(component, metrics.x);\n        const y = this.getMeasureVal(component, metrics.y);\n        const size = this.getMeasureVal(component, metrics.size);\n        const colors =\n          metrics.colors && metrics.colors.map(metric => this.getMeasureVal(component, metric));\n        if ((!x && x !== 0) || (!y && y !== 0) || (!size && size !== 0)) {\n          return undefined;\n        }\n        return {\n          x,\n          y,\n          size,\n          color:\n            colors !== undefined\n              ? RATING_COLORS[Math.max(...colors.filter(isDefined)) - 1]\n              : undefined,\n          data: component,\n          tooltip: this.getTooltip(component.name, { x, y, size, colors }, metrics)\n        };\n      })\n      .filter(isDefined);\n\n    const formatXTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.x.type);\n    const formatYTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.y.type);\n\n    return (\n      <OriginalBubbleChart<T.ComponentMeasureEnhanced>\n        formatXTick={formatXTick}\n        formatYTick={formatYTick}\n        height={HEIGHT}\n        items={items}\n        onBubbleClick={this.handleBubbleClick}\n        padding={[25, 60, 50, 60]}\n        yDomain={getBubbleYDomain(this.props.domain)}\n      />\n    );\n  }\n\n  renderChartHeader(domain: string, sizeMetric: T.Metric, colorsMetric?: T.Metric[]) {\n    const title = isProjectOverview(domain)\n      ? translate('component_measures.overview', domain, 'title')\n      : translateWithParameters(\n          'component_measures.domain_x_overview',\n          getLocalizedMetricDomain(domain)\n        );\n    return (\n      <div className=\"measure-overview-bubble-chart-header\">\n        <span className=\"measure-overview-bubble-chart-title\">\n          <span className=\"text-middle\">{title}</span>\n          <HelpTooltip className=\"spacer-left\" overlay={this.getDescription(domain)} />\n        </span>\n        <span className=\"measure-overview-bubble-chart-legend\">\n          <span className=\"note\">\n            {colorsMetric && (\n              <span className=\"spacer-right\">\n                {translateWithParameters(\n                  'component_measures.legend.color_x',\n                  colorsMetric.length > 1\n                    ? translateWithParameters(\n                        'component_measures.legend.worse_of_x_y',\n                        ...colorsMetric.map(metric => getLocalizedMetricName(metric))\n                      )\n                    : getLocalizedMetricName(colorsMetric[0])\n                )}\n              </span>\n            )}\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              getLocalizedMetricName(sizeMetric)\n            )}\n          </span>\n          {colorsMetric && <ColorRatingsLegend className=\"spacer-top\" />}\n        </span>\n      </div>\n    );\n  }\n\n  render() {\n    if (this.props.components.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { domain } = this.props;\n    const metrics = getBubbleMetrics(domain, this.props.metrics);\n\n    return (\n      <div className=\"measure-overview-bubble-chart\">\n        {this.renderChartHeader(domain, metrics.size, metrics.colors)}\n        <div className=\"measure-overview-bubble-chart-content\">\n          {this.renderBubbleChart(metrics)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis x\">\n          {getLocalizedMetricName(metrics.x)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis y\">\n          {getLocalizedMetricName(metrics.y)}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport PageActions from 'sonar-ui-common/components/ui/PageActions';\nimport { getComponentLeaves } from '../../../api/components';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport BubbleChart from '../drilldown/BubbleChart';\nimport { enhanceComponent, getBubbleMetrics, hasFullMeasures, isFileType } from '../utils';\nimport Breadcrumbs from './Breadcrumbs';\nimport LeakPeriodLegend from './LeakPeriodLegend';\nimport MeasureContentHeader from './MeasureContentHeader';\n\ninterface Props {\n  branchLike?: BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  domain: string;\n  leakPeriod?: T.Period;\n  loading: boolean;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  updateLoading: (param: T.Dict<boolean>) => void;\n  updateSelected: (component: string) => void;\n}\n\ninterface State {\n  components: T.ComponentMeasureEnhanced[];\n  paging?: T.Paging;\n}\n\nconst BUBBLES_LIMIT = 500;\n\nexport default class MeasureOverview extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { components: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponents();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.metrics !== this.props.metrics ||\n      prevProps.domain !== this.props.domain\n    ) {\n      this.fetchComponents();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponents = () => {\n    const { branchLike, component, domain, metrics } = this.props;\n    if (isFileType(component)) {\n      this.setState({ components: [], paging: undefined });\n      return;\n    }\n    const { x, y, size, colors } = getBubbleMetrics(domain, metrics);\n    const metricsKey = [x.key, y.key, size.key];\n    if (colors) {\n      metricsKey.push(...colors.map(metric => metric.key));\n    }\n    const options = {\n      ...getBranchLikeQuery(branchLike),\n      s: 'metric',\n      metricSort: size.key,\n      asc: false,\n      ps: BUBBLES_LIMIT\n    };\n\n    this.props.updateLoading({ bubbles: true });\n    getComponentLeaves(component.key, metricsKey, options).then(\n      r => {\n        if (domain === this.props.domain) {\n          if (this.mounted) {\n            this.setState({\n              components: r.components.map(component =>\n                enhanceComponent(component, undefined, metrics)\n              ),\n              paging: r.paging\n            });\n          }\n          this.props.updateLoading({ bubbles: false });\n        }\n      },\n      () => this.props.updateLoading({ bubbles: false })\n    );\n  };\n\n  renderContent() {\n    const { branchLike, component } = this.props;\n    if (isFileType(component)) {\n      return (\n        <div className=\"measure-details-viewer\">\n          <SourceViewer\n            branchLike={branchLike}\n            component={component.key}\n            onIssueChange={this.props.onIssueChange}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <BubbleChart\n        component={this.props.component}\n        components={this.state.components}\n        domain={this.props.domain}\n        metrics={this.props.metrics}\n        updateSelected={this.props.updateSelected}\n      />\n    );\n  }\n\n  render() {\n    const { branchLike, component, leakPeriod, rootComponent } = this.props;\n    const { paging } = this.state;\n    const displayLeak = hasFullMeasures(branchLike);\n    return (\n      <div className={this.props.className}>\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <A11ySkipTarget anchor=\"measures_main\" />\n\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <MeasureContentHeader\n                left={\n                  <Breadcrumbs\n                    backToFirst={true}\n                    branchLike={branchLike}\n                    className=\"text-ellipsis\"\n                    component={component}\n                    handleSelect={this.props.updateSelected}\n                    rootComponent={rootComponent}\n                  />\n                }\n                right={\n                  <PageActions\n                    current={this.state.components.length}\n                    total={paging && paging.total}\n                  />\n                }\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"layout-page-main-inner measure-details-content\">\n          <div className=\"clearfix big-spacer-bottom\">\n            {leakPeriod && displayLeak && (\n              <LeakPeriodLegend className=\"pull-right\" component={component} period={leakPeriod} />\n            )}\n          </div>\n          <DeferredSpinner loading={this.props.loading} />\n          {!this.props.loading && this.renderContent()}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport { getComponentShow } from '../../../api/components';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { isViewType, Query } from '../utils';\nimport MeasureOverview from './MeasureOverview';\n\ninterface Props {\n  branchLike?: BranchLike;\n  className?: string;\n  domain: string;\n  leakPeriod?: T.Period;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface LoadingState {\n  bubbles: boolean;\n  component: boolean;\n}\n\ninterface State {\n  component?: T.ComponentMeasure;\n  loading: LoadingState;\n}\n\nexport default class MeasureOverviewContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  state: State = {\n    loading: { bubbles: false, component: false }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const prevComponentKey = prevProps.selected || prevProps.rootComponent.key;\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    if (\n      prevComponentKey !== componentKey ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.domain !== this.props.domain\n    ) {\n      this.fetchComponent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponent = () => {\n    const { branchLike, rootComponent, selected } = this.props;\n    if (!selected || rootComponent.key === selected) {\n      this.setState({ component: rootComponent });\n      this.updateLoading({ component: false });\n      return;\n    }\n    this.updateLoading({ component: true });\n    getComponentShow({ component: selected, ...getBranchLikeQuery(branchLike) }).then(\n      ({ component }) => {\n        if (this.mounted) {\n          this.setState({ component });\n          this.updateLoading({ component: false });\n        }\n      },\n      () => this.updateLoading({ component: false })\n    );\n  };\n\n  updateLoading = (loading: Partial<LoadingState>) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: { ...state.loading, ...loading } }));\n    }\n  };\n\n  updateSelected = (component: string) => {\n    if (this.state.component && isViewType(this.state.component)) {\n      this.props.router.push(getProjectUrl(component));\n    } else {\n      this.props.updateQuery({\n        selected: component !== this.props.rootComponent.key ? component : undefined\n      });\n    }\n  };\n\n  render() {\n    if (!this.state.component) {\n      return null;\n    }\n\n    return (\n      <MeasureOverview\n        branchLike={this.props.branchLike}\n        className={this.props.className}\n        component={this.state.component}\n        domain={this.props.domain}\n        leakPeriod={this.props.leakPeriod}\n        loading={this.state.loading.component || this.state.loading.bubbles}\n        metrics={this.props.metrics}\n        onIssueChange={this.props.onIssueChange}\n        rootComponent={this.props.rootComponent}\n        updateLoading={this.updateLoading}\n        updateSelected={this.updateSelected}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function MeasuresEmpty() {\n  return (\n    <div className=\"page page-limited\">\n      <div className=\"note\">{translate('component_measures.empty')}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport {\n  getLocalizedMetricDomain,\n  translate,\n  translateWithParameters\n} from 'sonar-ui-common/helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from 'sonar-ui-common/helpers/pages';\nimport { getMeasuresWithPeriod } from '../../../api/measures';\nimport { getAllMetrics } from '../../../api/metrics';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { enhanceMeasure } from '../../../components/measure/utils';\nimport '../../../components/search-navigator.css';\nimport { getBranchLikeQuery, isPullRequest, isSameBranchLike } from '../../../helpers/branch-like';\nimport { fetchBranchStatus } from '../../../store/rootActions';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../style.css';\nimport {\n  banQualityGateMeasure,\n  getMeasuresPageMetricKeys,\n  groupByDomains,\n  hasBubbleChart,\n  hasFullMeasures,\n  hasTree,\n  hasTreemap,\n  isProjectOverview,\n  parseQuery,\n  Query,\n  serializeQuery,\n  sortMeasures\n} from '../utils';\nimport MeasureContent from './MeasureContent';\nimport MeasureOverviewContainer from './MeasureOverviewContainer';\nimport MeasuresEmpty from './MeasuresEmpty';\n\ninterface Props extends WithRouterProps {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasure;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => Promise<void>;\n}\n\ninterface State {\n  leakPeriod?: T.Period;\n  loading: boolean;\n  measures: T.MeasureEnhanced[];\n  metrics: T.Dict<T.Metric>;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      measures: [],\n      metrics: {}\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    key.setScope('measures-files');\n    getAllMetrics().then(\n      metrics => {\n        const byKey = keyBy(metrics, 'key');\n        this.setState({ metrics: byKey });\n        this.fetchMeasures(byKey);\n      },\n      () => {}\n    );\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const prevQuery = parseQuery(prevProps.location.query);\n    const query = parseQuery(this.props.location.query);\n\n    if (\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.component.key !== this.props.component.key ||\n      prevQuery.selected !== query.selected\n    ) {\n      this.fetchMeasures(this.state.metrics);\n    }\n\n    if (prevState.measures.length === 0 && this.state.measures.length > 0) {\n      addWhitePageClass();\n      addSideBarClass();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n    key.deleteScope('measures-files');\n  }\n\n  fetchMeasures(metrics: State['metrics']) {\n    const { branchLike } = this.props;\n    const query = parseQuery(this.props.location.query);\n    const componentKey = query.selected || this.props.component.key;\n\n    const filteredKeys = getMeasuresPageMetricKeys(metrics, branchLike);\n\n    getMeasuresWithPeriod(componentKey, filteredKeys, getBranchLikeQuery(branchLike)).then(\n      ({ component, period }) => {\n        if (this.mounted) {\n          const measures = banQualityGateMeasure(component).map(measure =>\n            enhanceMeasure(measure, metrics)\n          );\n\n          const leakPeriod =\n            component.qualifier === ComponentQualifier.Project ? period : undefined;\n\n          this.setState({\n            loading: false,\n            leakPeriod,\n            measures: measures.filter(\n              measure => measure.value !== undefined || measure.leak !== undefined\n            )\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  getHelmetTitle = (query: Query, displayOverview: boolean, metric?: T.Metric) => {\n    if (displayOverview && query.metric) {\n      return isProjectOverview(query.metric)\n        ? translate('component_measures.overview.project_overview.facet')\n        : translateWithParameters(\n            'component_measures.domain_x_overview',\n            getLocalizedMetricDomain(query.metric)\n          );\n    }\n    return metric ? metric.name : translate('layout.measures');\n  };\n\n  getSelectedMetric = (query: Query, displayOverview: boolean) => {\n    if (displayOverview) {\n      return undefined;\n    }\n    const metric = this.state.metrics[query.metric];\n    if (!metric) {\n      const domainMeasures = groupByDomains(this.state.measures);\n      const firstMeasure =\n        domainMeasures[0] && sortMeasures(domainMeasures[0].name, domainMeasures[0].measures)[0];\n      if (firstMeasure && typeof firstMeasure !== 'string') {\n        return firstMeasure.metric;\n      }\n    }\n    return metric;\n  };\n\n  handleIssueChange = (_: T.Issue) => {\n    this.refreshBranchStatus();\n  };\n\n  updateQuery = (newQuery: Partial<Query>) => {\n    const query: Query = { ...parseQuery(this.props.location.query), ...newQuery };\n\n    const metric = this.getSelectedMetric(query, false);\n    if (metric) {\n      if (query.view === 'treemap' && !hasTreemap(metric.key, metric.type)) {\n        query.view = 'tree';\n      } else if (query.view === 'tree' && !hasTree(metric.key)) {\n        query.view = 'list';\n      }\n    }\n\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component.key\n      }\n    });\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderContent = (displayOverview: boolean, query: Query, metric?: T.Metric) => {\n    const { branchLike, component } = this.props;\n    const { leakPeriod } = this.state;\n    if (displayOverview) {\n      return (\n        <MeasureOverviewContainer\n          branchLike={branchLike}\n          className=\"layout-page-main\"\n          domain={query.metric}\n          leakPeriod={leakPeriod}\n          metrics={this.state.metrics}\n          onIssueChange={this.handleIssueChange}\n          rootComponent={component}\n          router={this.props.router}\n          selected={query.selected}\n          updateQuery={this.updateQuery}\n        />\n      );\n    }\n\n    if (!metric) {\n      return <MeasuresEmpty />;\n    }\n\n    const hideDrilldown =\n      isPullRequest(branchLike) &&\n      (metric.key === 'coverage' || metric.key === 'duplicated_lines_density');\n\n    if (hideDrilldown) {\n      return (\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-main-inner\">\n            <div className=\"note\">{translate('component_measures.details_are_not_available')}</div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <MeasureContent\n        branchLike={branchLike}\n        leakPeriod={leakPeriod}\n        metrics={this.state.metrics}\n        onIssueChange={this.handleIssueChange}\n        requestedMetric={metric}\n        rootComponent={component}\n        router={this.props.router}\n        selected={query.selected}\n        updateQuery={this.updateQuery}\n        view={query.view}\n      />\n    );\n  };\n\n  render() {\n    if (this.state.loading) {\n      return <i className=\"spinner spacer\" />;\n    }\n\n    const { branchLike } = this.props;\n    const { measures } = this.state;\n    const query = parseQuery(this.props.location.query);\n    const showFullMeasures = hasFullMeasures(branchLike);\n    const displayOverview = hasBubbleChart(query.metric);\n    const metric = this.getSelectedMetric(query, displayOverview);\n\n    return (\n      <div id=\"component-measures\">\n        <Suggestions suggestions=\"component_measures\" />\n        <Helmet defer={false} title={this.getHelmetTitle(query, displayOverview, metric)} />\n\n        {measures.length > 0 ? (\n          <div className=\"layout-page\">\n            <ScreenPositionHelper className=\"layout-page-side-outer\">\n              {({ top }) => (\n                <div className=\"layout-page-side\" style={{ top }}>\n                  <div className=\"layout-page-side-inner\">\n                    <div className=\"layout-page-filters\">\n                      <Sidebar\n                        measures={measures}\n                        selectedMetric={metric ? metric.key : query.metric}\n                        showFullMeasures={showFullMeasures}\n                        updateQuery={this.updateQuery}\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n            </ScreenPositionHelper>\n            {this.renderContent(displayOverview, query, metric)}\n          </div>\n        ) : (\n          <MeasuresEmpty />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchBranchStatus: fetchBranchStatus as any };\n\nexport default withRouter(connect(null, mapDispatchToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport enum ComponentQualifier {\n  Application = 'APP',\n  Directory = 'DIR',\n  Developper = 'DEV',\n  File = 'FIL',\n  Portfolio = 'VW',\n  Project = 'TRK',\n  SubPortfolio = 'SVW',\n  SubProject = 'BRC',\n  TestFile = 'UTS'\n}\n\nexport function isPortfolioLike(componentQualifier?: string | ComponentQualifier) {\n  return (\n    !!componentQualifier &&\n    [ComponentQualifier.Portfolio.toString(), ComponentQualifier.SubPortfolio.toString()].includes(\n      componentQualifier\n    )\n  );\n}\n\nexport enum Visibility {\n  Public = 'public',\n  Private = 'private'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nfunction DateFromNow(_a) {\n    var children = _a.children, date = _a.date;\n    return React.createElement(react_intl_1.FormattedRelative, { value: dates_1.parseDate(date) }, children);\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}></span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, {\n      decimals,\n      omitExtraDecimalZeros: metricType === 'PERCENT'\n    });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BranchIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nexports.default = BranchIcon;\n//# sourceMappingURL=BranchIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ApplicationPeriod } from '../types/application';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter || '';\n\n  switch (period.mode) {\n    case 'SPECIFIC_ANALYSIS':\n      parameter = dateFormatter(period.date);\n      break;\n    case 'PREVIOUS_VERSION':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    /*\n     * Handle legacy period modes, that predate MMF-1579\n     */\n    case 'previous_version':\n      if (!parameter) {\n        return translate('overview.period.previous_version_only_date');\n      }\n      break;\n    case 'date':\n      parameter = parameter && dateFormatter(parameter);\n      break;\n    case 'manual_baseline':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    default: // No change in the parameter\n  }\n\n  return translateWithParameters(`overview.period.${period.mode.toLowerCase()}`, parameter);\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n\nexport function isApplicationPeriod(\n  period: T.Period | ApplicationPeriod\n): period is ApplicationPeriod {\n  return (period as ApplicationPeriod).project !== undefined;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, props = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, props)) : React.createElement(ChevronRightIcon_1.default, __assign({}, props));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction LinkIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"g\", { transform: \"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\" },\n            React.createElement(\"path\", { d: \"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\", style: { fill: fill } }))));\n}\nexports.default = LinkIcon;\n//# sourceMappingURL=LinkIcon.js.map","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n"],"sourceRoot":""}